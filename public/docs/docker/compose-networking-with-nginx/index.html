<!DOCTYPE html>





    
        
    

    
        
    

    

    

    
        
    

<html lang="en"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
    <title>Compose Networking with Nginx | Learn Container Technology</title>
    <meta name="robots" content="noindex">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Documentation, Hugo, Hugo Theme, Bootstrap" />
    <meta name="author" content="Colin Wilson - Lotus Labs" />
    <meta name="email" content="support@aigis.uk" />
    <meta name="website" content="https://lotusdocs.dev" />
    <meta name="Version" content="v0.1.0" />
    
    <link rel="icon" href="//localhost:1313/favicon.ico" sizes="any">
<link rel="icon" type="image/svg+xml" href="//localhost:1313/favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="//localhost:1313/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="//localhost:1313/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="//localhost:1313/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="//localhost:1313/site.webmanifest">
<meta property="og:title" content="Compose Networking with Nginx" />
<meta property="og:description" content="create docker-compose.yml with following content :



  
  
  

  
  
  
  

  

  
  
  version: &#34;3.7&#34;

services:
  web:
    image: nginx:alpine
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    ports:
      - 8080:80
    networks:
      - app1_net
      - app2_net

  app1:
    image: httpd:latest
    networks:
      - app1_net

  app2:
    image: httpd:latest
    networks:
      - app2_net

networks:
  app1_net:
  app2_net:
  
  
the following nginx.conf configuration file in the same directory: link


  
  
  

  
  
  
  

  

  
  
  
events {}
http {
    server {
    listen 80;
    listen [::]:80;

    server_name example.com;

    location / {
        proxy_pass http://app1:80/;
    }
    location /app2 {
        proxy_pass http://app2:80/;
    }
  }
}
  
  
run docker compose link


  
  
  

  
  
  
  

  

  
  
  
docker compose up 
  
  
Go to http://localhost:8080 and observer the command line link•	It will show you the nignx-container web_1 container (reverse_proxy) was requested 
•	And forwarded the request to “app1” container 
•	Reload a few times to make this more obvious " />
<meta property="og:type" content="article" />
<meta property="og:url" content="//localhost:1313/docs/docker/compose-networking-with-nginx/" /><meta property="og:image" content="//localhost:1313/opengraph/card-base-2_hu_c4cc4d3a2758f899.png"/><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2024-01-25T04:33:12+05:30" /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="//localhost:1313/opengraph/card-base-2_hu_c4cc4d3a2758f899.png"/>
<meta name="twitter:title" content="Compose Networking with Nginx"/>
<meta name="twitter:description" content="create docker-compose.yml with following content :



  
  
  

  
  
  
  

  

  
  
  version: &#34;3.7&#34;

services:
  web:
    image: nginx:alpine
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    ports:
      - 8080:80
    networks:
      - app1_net
      - app2_net

  app1:
    image: httpd:latest
    networks:
      - app1_net

  app2:
    image: httpd:latest
    networks:
      - app2_net

networks:
  app1_net:
  app2_net:
  
  
the following nginx.conf configuration file in the same directory: link


  
  
  

  
  
  
  

  

  
  
  
events {}
http {
    server {
    listen 80;
    listen [::]:80;

    server_name example.com;

    location / {
        proxy_pass http://app1:80/;
    }
    location /app2 {
        proxy_pass http://app2:80/;
    }
  }
}
  
  
run docker compose link


  
  
  

  
  
  
  

  

  
  
  
docker compose up 
  
  
Go to http://localhost:8080 and observer the command line link•	It will show you the nignx-container web_1 container (reverse_proxy) was requested 
•	And forwarded the request to “app1” container 
•	Reload a few times to make this more obvious "/>

    
    <script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>
    
    
            
                <script type="text/javascript" src="//localhost:1313/docs/js/flexsearch.bundle.js"></script>
            
        
    
    
    
    
        
        
        
        
    
        
        
        
        
    
    
    <link rel="preconnect" href="https://fonts.gstatic.com/" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link href="https://fonts.googleapis.com/css?family=Inter:300,400,600,700|Fira+Code:500,700&display=block" rel="stylesheet">

    <link rel="stylesheet" href="/docs/scss/style.css" crossorigin="anonymous">
    
    
    <script 
    src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/quizdown.js">
 </script>
 <script 
     src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownKatex.js">
 </script>
 <script 
     src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownHighlight.js">
 </script>
 <script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 

</head><body>
        <div class="content">
            <div class="page-wrapper toggled">
<nav id="sidebar" class="sidebar-wrapper">
    <div class="sidebar-brand">
        <a href='/' aria-label="HomePage" alt="HomePage">
            
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="100%" viewBox="0 0 712 205" enable-background="new 0 0 712 205" xml:space="preserve">
<path fill="#FEFEFF" opacity="1.000000" stroke="none" 
	d="
M471.000000,206.000000 
	C314.000000,206.000000 157.500000,206.000000 1.000000,206.000000 
	C1.000000,137.666672 1.000000,69.333336 1.000000,1.000000 
	C238.333328,1.000000 475.666656,1.000000 713.000000,1.000000 
	C713.000000,69.333336 713.000000,137.666672 713.000000,206.000000 
	C632.500000,206.000000 552.000000,206.000000 471.000000,206.000000 
M172.921143,43.289974 
	C169.629349,41.478767 166.337555,39.667557 162.652832,37.310326 
	C159.136063,35.353508 155.619293,33.396687 151.661224,31.003151 
	C149.121521,29.623987 146.581818,28.244822 143.626434,26.342934 
	C140.785919,24.780178 137.945389,23.217421 134.669373,21.162828 
	C132.484787,19.987343 130.300217,18.811857 127.669830,17.149023 
	C124.120369,15.399804 120.570908,13.650585 116.754936,11.277157 
	C114.254219,9.796319 111.753494,8.315481 108.802879,6.281318 
	C105.303932,5.112659 101.804977,3.943999 97.604622,2.285120 
	C86.794754,0.284780 78.329254,5.657899 69.239975,11.287532 
	C63.828121,14.545999 58.416271,17.804466 52.315567,21.166466 
	C40.246010,28.112165 28.150738,35.013687 16.115751,42.018780 
	C7.810052,46.853195 2.584808,54.232883 2.183110,63.695820 
	C1.571437,78.105270 2.114035,92.563713 2.032978,107.930161 
	C2.078098,116.953621 2.123218,125.977074 2.034208,135.906921 
	C1.459567,143.645905 2.700697,150.866669 8.235461,157.570023 
	C12.777079,160.856934 17.318697,164.143845 22.307230,167.904419 
	C26.165676,170.048981 30.024120,172.193542 34.303345,174.844818 
	C37.872475,176.827469 41.441605,178.810135 45.508247,181.283981 
	C48.339993,182.828568 51.171738,184.373138 54.506035,186.379150 
	C56.290413,187.393250 58.074795,188.407349 60.278427,189.913879 
	C61.819309,190.677505 63.360188,191.441116 65.287529,192.749817 
	C68.050331,194.241135 70.813133,195.732452 74.014877,197.782028 
	C77.971352,199.643112 81.927834,201.504211 86.512970,203.775558 
	C90.342148,203.826675 94.171326,203.877777 98.779060,204.040009 
	C106.513229,200.126755 114.247398,196.213486 122.614990,192.154587 
	C123.081833,191.761566 123.548683,191.368546 123.986931,190.980408 
	C123.986931,190.980408 123.970940,191.004608 124.687111,190.966919 
	C136.555603,184.027313 148.424088,177.087708 160.969360,170.007034 
	C165.779938,166.967880 170.590515,163.928726 175.930603,160.389084 
	C178.255646,156.924454 180.580688,153.459824 183.355347,149.367447 
	C183.847595,145.576874 184.339844,141.786285 184.967178,137.088287 
	C184.922211,133.724228 184.877243,130.360153 184.967484,126.088341 
	C184.921936,122.723541 184.876373,119.358734 184.966217,115.076622 
	C184.922043,111.049301 184.877869,107.021973 184.968231,102.094589 
	C184.922775,99.060921 184.877335,96.027260 184.968811,92.102325 
	C184.923431,89.400345 184.878067,86.698357 184.971588,83.129501 
	C184.947937,81.089523 184.924271,79.049538 185.056671,76.384018 
	C185.013718,75.958366 184.970764,75.532715 185.126541,74.168465 
	C185.141037,72.041817 185.155228,69.915176 185.170059,67.788528 
	C185.215500,61.271317 183.888199,55.222645 179.232391,49.670811 
	C177.270721,47.732166 175.309052,45.793518 172.921143,43.289974 
M466.984680,104.500000 
	C466.984711,114.323265 467.086548,124.148056 466.938568,133.969086 
	C466.872101,138.379440 468.784821,140.553787 473.104370,140.521393 
	C480.255249,140.467773 487.436676,140.684418 494.549622,140.104752 
	C513.249756,138.580780 526.660156,124.634842 527.949341,105.847656 
	C529.397949,84.736534 518.354126,68.314537 499.089722,64.767395 
	C490.693939,63.221485 481.857452,64.112457 473.225128,63.789963 
	C468.778839,63.623856 466.893585,65.570999 466.943604,70.034790 
	C467.068512,81.188614 466.984680,92.344780 466.984680,104.500000 
M346.809235,92.852295 
	C346.721008,85.539078 346.648071,78.225624 346.538086,70.912735 
	C346.482635,67.225441 346.198730,63.686584 341.100433,63.809761 
	C336.321747,63.925209 336.121796,67.192894 336.130524,70.762390 
	C336.165619,85.075142 336.104645,99.388176 336.156982,113.700829 
	C336.204681,126.751923 344.609955,137.432480 356.851074,140.151703 
	C370.007355,143.074219 382.477051,137.147095 387.988495,125.351387 
	C393.213287,114.169228 390.013397,98.968536 380.891144,91.636063 
	C371.084656,83.753662 358.715393,84.341530 346.809235,92.852295 
M244.515076,113.955460 
	C240.535614,108.484650 236.556152,103.013832 232.406631,97.309219 
	C240.586105,89.174675 248.480667,81.301094 256.403900,73.456459 
	C259.014832,70.871445 260.845551,67.736679 257.736633,64.856537 
	C254.905258,62.233490 251.975952,64.113907 249.525833,66.589264 
	C240.384491,75.824699 231.172272,84.990082 221.966034,94.161087 
	C220.987717,95.135666 219.874207,95.974564 218.171219,97.436165 
	C218.171219,87.575226 218.148819,78.634773 218.182404,69.694534 
	C218.195587,66.181564 216.962494,63.850895 213.055908,63.840012 
	C209.195145,63.829254 207.821594,66.069534 207.823715,69.613419 
	C207.836685,91.271492 207.841934,112.929581 207.820343,134.587631 
	C207.816727,138.216934 209.559036,140.443878 213.135818,140.394073 
	C216.795914,140.343079 218.244095,137.893127 218.191025,134.340805 
	C218.113907,129.177368 218.623306,123.961922 218.058243,118.859947 
	C217.357956,112.537102 220.068451,108.475159 225.358475,105.132225 
	C233.127930,115.657387 240.943848,126.163292 248.655777,136.744995 
	C250.842026,139.744781 253.394928,142.069565 256.878571,139.398605 
	C260.233093,136.826691 259.023468,133.566605 256.806946,130.596832 
	C252.824631,125.261185 248.909149,119.875648 244.515076,113.955460 
M546.171326,95.713150 
	C545.337891,96.950195 544.389526,98.125732 543.689331,99.434074 
	C538.299561,109.504181 538.520569,119.635277 544.375305,129.291077 
	C549.448792,137.658249 557.434021,141.984390 567.115662,140.611740 
	C572.962036,139.782883 578.478882,136.629974 583.888184,134.616470 
	C583.827820,137.594391 584.972229,140.765594 589.694824,140.435333 
	C594.391357,140.106903 594.233276,136.497253 594.200134,133.037796 
	C594.141174,126.885925 594.074158,120.730728 594.206726,114.581154 
	C594.470581,102.337410 589.229370,93.379494 578.107971,88.328491 
	C567.426575,83.477333 555.590576,86.277809 546.171326,95.713150 
M430.451935,140.848038 
	C435.949951,139.196045 441.537598,137.784470 446.905487,135.783371 
	C449.329987,134.879547 451.323669,132.170898 449.061401,129.853241 
	C447.658630,128.416153 444.543762,128.171494 442.231964,128.263077 
	C440.596405,128.327911 439.087585,130.025009 437.403931,130.697296 
	C426.016541,135.244431 413.649323,128.722672 412.309357,117.182953 
	C413.966949,117.182953 415.586121,117.183205 417.205322,117.182907 
	C427.365509,117.181076 437.525757,117.152428 447.685791,117.190903 
	C451.525726,117.205437 453.566467,115.664742 453.559387,111.564751 
	C453.539856,100.221703 447.235291,90.578056 437.605713,87.423035 
	C426.372314,83.742546 413.546387,87.566551 407.326294,96.850319 
	C401.091797,106.155586 400.383881,116.288246 405.223694,126.253311 
	C410.024628,136.138336 418.719360,140.520111 430.451935,140.848038 
M278.918396,119.895912 
	C278.796356,110.738724 278.674042,101.581551 278.552490,92.424355 
	C278.506195,88.937614 277.062988,86.495712 273.305359,86.515366 
	C269.580994,86.534828 268.113342,88.890503 268.126526,92.434021 
	C268.158142,100.932762 267.856781,109.443306 268.204315,117.928001 
	C268.816711,132.879059 279.763214,142.550476 294.351776,140.796097 
	C298.972076,140.240448 303.391663,138.015793 306.644897,136.962372 
	C310.009308,138.175705 312.877106,140.231186 315.434784,139.899033 
	C319.531128,139.367050 318.850739,135.283249 318.855682,132.169662 
	C318.876343,119.171425 318.834473,106.173035 318.883820,93.174957 
	C318.897247,89.635376 318.126129,86.643478 313.950775,86.524551 
	C309.589752,86.400345 308.387421,89.263168 308.419769,93.135872 
	C308.489410,101.467506 308.383942,109.800644 308.459747,118.132172 
	C308.512909,123.975510 305.827301,127.924370 300.575806,130.262039 
	C291.441956,134.327911 282.290100,130.290833 278.918396,119.895912 
M664.288208,100.261322 
	C669.782593,110.680550 675.425354,121.026451 680.639587,131.584030 
	C681.622009,133.573151 681.614319,136.671997 680.824402,138.798523 
	C678.518677,145.006012 675.485229,150.938705 672.937988,157.062683 
	C671.472351,160.586243 673.296021,164.041061 676.852478,163.713882 
	C678.828613,163.532089 681.404419,161.270920 682.303223,159.304031 
	C691.404480,139.388672 700.214294,119.340172 709.108215,99.330040 
	C709.916565,97.511452 710.778503,95.715775 711.548889,93.881470 
	C712.721619,91.089302 712.577698,88.484924 709.497864,87.158775 
	C706.527649,85.879814 703.954407,86.467140 702.615112,89.861893 
	C702.006714,91.404106 701.266296,92.894104 700.591125,94.410156 
	C696.251648,104.153908 691.913635,113.898315 687.180054,124.530014 
	C685.506042,121.308212 684.285156,119.010963 683.111267,116.689949 
	C678.542969,107.657578 673.978882,98.623009 669.436523,89.577545 
	C667.978271,86.673492 665.640930,85.774612 662.837891,87.146591 
	C659.959595,88.555405 659.451538,91.027092 660.935669,93.867630 
	C661.934448,95.779358 662.940735,97.687119 664.288208,100.261322 
M650.672974,140.501450 
	C652.302124,140.242462 654.403442,140.516327 655.444458,139.593719 
	C656.842102,138.355057 658.192444,136.152496 658.105164,134.438019 
	C658.035767,133.075623 655.972351,131.032043 654.457886,130.659927 
	C647.453491,128.938965 646.867004,128.484604 646.856201,121.107971 
	C646.832336,104.805122 646.850708,88.502228 646.845276,72.199348 
	C646.844849,70.869476 646.945862,69.515823 646.739502,68.214508 
	C646.249390,65.124588 644.290710,63.013081 641.267639,64.013290 
	C639.465088,64.609650 637.034241,67.057213 637.009827,68.704071 
	C636.729004,87.663338 636.669128,106.631523 636.962341,125.590958 
	C637.085205,133.535004 642.226013,138.838684 650.672974,140.501450 
M620.169556,96.630981 
	C620.169556,95.964966 620.153748,95.298515 620.172241,94.633018 
	C620.277649,90.853058 620.482544,86.716370 615.194092,86.651764 
	C609.997681,86.588287 609.944580,90.520912 609.968567,94.432770 
	C610.048096,107.419609 610.065430,120.407806 609.956665,133.394226 
	C609.925171,137.152786 610.618347,140.313843 615.009155,140.392960 
	C619.437805,140.472748 620.234375,137.341003 620.204468,133.560287 
	C620.109558,121.572731 620.169495,109.583946 620.169556,96.630981 
M610.420105,66.748589 
	C607.180603,72.092674 608.704529,77.594818 613.859924,77.774170 
	C616.187927,77.855148 619.504639,76.249619 620.688293,74.356194 
	C621.705444,72.729050 621.080994,69.096909 619.840820,67.254417 
	C617.689636,64.058426 614.233276,64.243706 610.420105,66.748589 
z"/>
<path fill="#16154B" opacity="1.000000" stroke="none" 
	d="
M53.004421,21.062935 
	C58.416271,17.804466 63.828121,14.545999 69.649689,11.648314 
	C70.165031,24.337191 70.270660,36.665287 70.281326,49.453068 
	C70.254608,57.272503 70.322845,64.632256 70.294022,72.449921 
	C70.294479,80.617508 70.392014,88.327179 70.369522,96.355721 
	C70.249504,98.182594 70.249504,99.690613 70.249504,100.231857 
	C81.387764,89.593018 92.693092,78.794609 104.305634,67.866806 
	C109.073814,63.482155 113.534782,59.226894 118.302765,54.964729 
	C119.057121,54.603218 119.504448,54.248619 119.927521,53.897720 
	C119.903275,53.901428 119.880219,53.857269 120.260849,53.937481 
	C123.074821,55.017342 125.508156,56.016991 127.995773,57.395676 
	C128.395523,59.521030 128.740982,61.267338 128.917542,63.316864 
	C127.498505,65.746437 126.248383,67.872787 124.703072,70.146515 
	C122.257011,72.518906 120.106140,74.743935 117.653748,77.108261 
	C114.572815,80.167107 111.793411,83.086670 108.701172,86.122116 
	C105.975372,88.844223 103.562416,91.450447 100.850174,94.199341 
	C99.708565,95.291290 98.866241,96.240585 97.940804,97.283546 
	C101.319038,101.416351 104.465897,105.266098 107.758598,109.437210 
	C112.476814,115.545242 117.049194,121.331909 121.765167,127.439392 
	C125.628754,133.490646 129.348755,139.221069 132.988998,145.312225 
	C132.538040,147.094131 132.166840,148.515305 131.601685,150.043015 
	C131.181778,150.355698 131.036560,150.608276 130.642517,151.098465 
	C126.720268,154.439987 122.861465,152.893417 118.973373,151.592010 
	C116.677429,148.471817 114.443733,145.688126 112.017960,142.620453 
	C109.623077,139.523163 107.420273,136.709854 105.101608,133.590912 
	C103.747025,131.817703 102.508301,130.350113 101.078690,128.610870 
	C99.623764,126.884224 98.359726,125.429214 97.023926,123.637390 
	C95.306702,121.197533 93.661247,119.094475 91.892838,116.676514 
	C89.904694,113.924934 88.039505,111.488266 85.726357,108.466385 
	C80.681976,113.690384 76.038002,118.365082 71.590408,123.219704 
	C70.704582,124.186592 70.173416,125.836838 70.157204,127.180168 
	C70.085533,133.116150 70.261665,139.055130 70.261017,145.369904 
	C69.583427,151.273636 65.876236,153.040421 60.624397,153.259033 
	C57.927662,151.082581 55.583984,149.016739 53.229095,146.485504 
	C53.128471,138.345490 53.039062,130.670837 53.010124,122.530991 
	C53.028057,112.709465 52.985523,103.353119 53.006744,93.531944 
	C53.025715,83.710594 52.980930,74.354073 53.003723,64.533150 
	C53.024193,55.711559 52.977085,47.354374 53.000450,38.533947 
	C53.048756,32.401451 53.026588,26.732193 53.004421,21.062935 
z"/>
<path fill="#1D1B4F" opacity="1.000000" stroke="none" 
	d="
M466.984680,104.000000 
	C466.984680,92.344780 467.068512,81.188614 466.943604,70.034790 
	C466.893585,65.570999 468.778839,63.623856 473.225128,63.789963 
	C481.857452,64.112457 490.693939,63.221485 499.089722,64.767395 
	C518.354126,68.314537 529.397949,84.736534 527.949341,105.847656 
	C526.660156,124.634842 513.249756,138.580780 494.549622,140.104752 
	C487.436676,140.684418 480.255249,140.467773 473.104370,140.521393 
	C468.784821,140.553787 466.872101,138.379440 466.938568,133.969086 
	C467.086548,124.148056 466.984711,114.323265 466.984680,104.000000 
M494.845215,130.872498 
	C514.780945,127.254517 520.697144,107.886765 517.020081,94.224098 
	C512.021729,75.652016 497.756470,70.703644 477.825195,73.627197 
	C477.825195,92.682175 477.825195,111.721573 477.825195,130.949005 
	C483.390442,130.949005 488.674255,130.949005 494.845215,130.872498 
z"/>
<path fill="#27A5DD" opacity="1.000000" stroke="none" 
	d="
M52.659996,21.114700 
	C53.026588,26.732193 53.048756,32.401451 52.635826,38.540199 
	C51.141819,39.662556 49.782001,40.086098 49.078201,41.009594 
	C46.574730,44.294537 44.260723,47.726650 41.935688,51.144333 
	C29.929138,68.793350 17.966459,86.472351 5.893760,104.075935 
	C5.041496,105.318657 3.426679,106.038414 2.166446,107.001350 
	C2.114035,92.563713 1.571437,78.105270 2.183110,63.695820 
	C2.584808,54.232883 7.810052,46.853195 16.115751,42.018780 
	C28.150738,35.013687 40.246010,28.112165 52.659996,21.114700 
z"/>
<path fill="#1D1C50" opacity="1.000000" stroke="none" 
	d="
M347.214661,93.034798 
	C358.715393,84.341530 371.084656,83.753662 380.891144,91.636063 
	C390.013397,98.968536 393.213287,114.169228 387.988495,125.351387 
	C382.477051,137.147095 370.007355,143.074219 356.851074,140.151703 
	C344.609955,137.432480 336.204681,126.751923 336.156982,113.700829 
	C336.104645,99.388176 336.165619,85.075142 336.130524,70.762390 
	C336.121796,67.192894 336.321747,63.925209 341.100433,63.809761 
	C346.198730,63.686584 346.482635,67.225441 346.538086,70.912735 
	C346.648071,78.225624 346.721008,85.539078 347.214661,93.034798 
M351.476166,127.047363 
	C352.252014,127.674736 352.976288,128.382874 353.811890,128.916748 
	C360.667664,133.297119 369.276001,132.542221 374.979889,127.095352 
	C380.750000,121.585251 382.206879,111.695999 378.308044,104.504059 
	C374.349579,97.202011 366.936768,93.895103 358.993713,95.887733 
	C346.095856,99.123352 341.982635,114.802811 351.476166,127.047363 
z"/>
<path fill="#18164B" opacity="1.000000" stroke="none" 
	d="
M244.740417,114.233215 
	C248.909149,119.875648 252.824631,125.261185 256.806946,130.596832 
	C259.023468,133.566605 260.233093,136.826691 256.878571,139.398605 
	C253.394928,142.069565 250.842026,139.744781 248.655777,136.744995 
	C240.943848,126.163292 233.127930,115.657387 225.358475,105.132225 
	C220.068451,108.475159 217.357956,112.537102 218.058243,118.859947 
	C218.623306,123.961922 218.113907,129.177368 218.191025,134.340805 
	C218.244095,137.893127 216.795914,140.343079 213.135818,140.394073 
	C209.559036,140.443878 207.816727,138.216934 207.820343,134.587631 
	C207.841934,112.929581 207.836685,91.271492 207.823715,69.613419 
	C207.821594,66.069534 209.195145,63.829254 213.055908,63.840012 
	C216.962494,63.850895 218.195587,66.181564 218.182404,69.694534 
	C218.148819,78.634773 218.171219,87.575226 218.171219,97.436165 
	C219.874207,95.974564 220.987717,95.135666 221.966034,94.161087 
	C231.172272,84.990082 240.384491,75.824699 249.525833,66.589264 
	C251.975952,64.113907 254.905258,62.233490 257.736633,64.856537 
	C260.845551,67.736679 259.014832,70.871445 256.403900,73.456459 
	C248.480667,81.301094 240.586105,89.174675 232.406631,97.309219 
	C236.556152,103.013832 240.535614,108.484650 244.740417,114.233215 
z"/>
<path fill="#1B194E" opacity="1.000000" stroke="none" 
	d="
M546.410278,95.446869 
	C555.590576,86.277809 567.426575,83.477333 578.107971,88.328491 
	C589.229370,93.379494 594.470581,102.337410 594.206726,114.581154 
	C594.074158,120.730728 594.141174,126.885925 594.200134,133.037796 
	C594.233276,136.497253 594.391357,140.106903 589.694824,140.435333 
	C584.972229,140.765594 583.827820,137.594391 583.888184,134.616470 
	C578.478882,136.629974 572.962036,139.782883 567.115662,140.611740 
	C557.434021,141.984390 549.448792,137.658249 544.375305,129.291077 
	C538.520569,119.635277 538.299561,109.504181 543.689331,99.434074 
	C544.389526,98.125732 545.337891,96.950195 546.410278,95.446869 
M583.818298,108.310562 
	C583.481384,107.372459 583.214478,106.401894 582.796692,105.501312 
	C578.758972,96.795776 569.248230,92.954147 560.719177,96.559563 
	C551.844177,100.311226 547.554626,110.991364 551.120850,120.457619 
	C554.430908,129.243912 563.812683,133.815155 572.592224,130.919510 
	C581.170959,128.090088 585.321899,120.151619 583.818298,108.310562 
z"/>
<path fill="#1B194E" opacity="1.000000" stroke="none" 
	d="
M430.003479,140.848022 
	C418.719360,140.520111 410.024628,136.138336 405.223694,126.253311 
	C400.383881,116.288246 401.091797,106.155586 407.326294,96.850319 
	C413.546387,87.566551 426.372314,83.742546 437.605713,87.423035 
	C447.235291,90.578056 453.539856,100.221703 453.559387,111.564751 
	C453.566467,115.664742 451.525726,117.205437 447.685791,117.190903 
	C437.525757,117.152428 427.365509,117.181076 417.205322,117.182907 
	C415.586121,117.183205 413.966949,117.182953 412.309357,117.182953 
	C413.649323,128.722672 426.016541,135.244431 437.403931,130.697296 
	C439.087585,130.025009 440.596405,128.327911 442.231964,128.263077 
	C444.543762,128.171494 447.658630,128.416153 449.061401,129.853241 
	C451.323669,132.170898 449.329987,134.879547 446.905487,135.783371 
	C441.537598,137.784470 435.949951,139.196045 430.003479,140.848022 
M440.000610,99.519691 
	C434.983887,94.309898 428.899109,93.876183 422.502625,95.986710 
	C416.449036,97.984123 413.262665,102.549667 412.030853,108.852074 
	C422.815338,108.852074 433.285370,108.852074 444.803864,108.852074 
	C443.194672,105.586174 441.841064,102.838928 440.000610,99.519691 
z"/>
<path fill="#26A0D9" opacity="1.000000" stroke="none" 
	d="
M2.099712,107.465759 
	C3.426679,106.038414 5.041496,105.318657 5.893760,104.075935 
	C17.966459,86.472351 29.929138,68.793350 41.935688,51.144333 
	C44.260723,47.726650 46.574730,44.294537 49.078201,41.009594 
	C49.782001,40.086098 51.141819,39.662556 52.565353,39.003441 
	C52.977085,47.354374 53.024193,55.711559 52.660229,64.574455 
	C51.143494,66.248329 49.854168,67.291306 48.959698,68.603439 
	C35.406578,88.485176 21.945389,108.429741 8.341038,128.276215 
	C6.638000,130.760666 4.242817,132.770691 2.168337,135.000534 
	C2.123218,125.977074 2.078098,116.953621 2.099712,107.465759 
z"/>
<path fill="#2798D4" opacity="1.000000" stroke="none" 
	d="
M2.101272,135.453735 
	C4.242817,132.770691 6.638000,130.760666 8.341038,128.276215 
	C21.945389,108.429741 35.406578,88.485176 48.959698,68.603439 
	C49.854168,67.291306 51.143494,66.248329 52.592651,65.038857 
	C52.980930,74.354073 53.025715,83.710594 52.662880,93.571487 
	C50.525150,96.006439 48.560547,97.775436 47.101582,99.892838 
	C34.027557,118.867134 21.042522,137.902740 8.031322,156.920319 
	C2.700697,150.866669 1.459567,143.645905 2.101272,135.453735 
z"/>
<path fill="#211F52" opacity="1.000000" stroke="none" 
	d="
M278.975403,120.327629 
	C282.290100,130.290833 291.441956,134.327911 300.575806,130.262039 
	C305.827301,127.924370 308.512909,123.975510 308.459747,118.132172 
	C308.383942,109.800644 308.489410,101.467506 308.419769,93.135872 
	C308.387421,89.263168 309.589752,86.400345 313.950775,86.524551 
	C318.126129,86.643478 318.897247,89.635376 318.883820,93.174957 
	C318.834473,106.173035 318.876343,119.171425 318.855682,132.169662 
	C318.850739,135.283249 319.531128,139.367050 315.434784,139.899033 
	C312.877106,140.231186 310.009308,138.175705 306.644897,136.962372 
	C303.391663,138.015793 298.972076,140.240448 294.351776,140.796097 
	C279.763214,142.550476 268.816711,132.879059 268.204315,117.928001 
	C267.856781,109.443306 268.158142,100.932762 268.126526,92.434021 
	C268.113342,88.890503 269.580994,86.534828 273.305359,86.515366 
	C277.062988,86.495712 278.506195,88.937614 278.552490,92.424355 
	C278.674042,101.581551 278.796356,110.738724 278.975403,120.327629 
z"/>
<path fill="#1D1B4F" opacity="1.000000" stroke="none" 
	d="
M664.115967,99.928986 
	C662.940735,97.687119 661.934448,95.779358 660.935669,93.867630 
	C659.451538,91.027092 659.959595,88.555405 662.837891,87.146591 
	C665.640930,85.774612 667.978271,86.673492 669.436523,89.577545 
	C673.978882,98.623009 678.542969,107.657578 683.111267,116.689949 
	C684.285156,119.010963 685.506042,121.308212 687.180054,124.530014 
	C691.913635,113.898315 696.251648,104.153908 700.591125,94.410156 
	C701.266296,92.894104 702.006714,91.404106 702.615112,89.861893 
	C703.954407,86.467140 706.527649,85.879814 709.497864,87.158775 
	C712.577698,88.484924 712.721619,91.089302 711.548889,93.881470 
	C710.778503,95.715775 709.916565,97.511452 709.108215,99.330040 
	C700.214294,119.340172 691.404480,139.388672 682.303223,159.304031 
	C681.404419,161.270920 678.828613,163.532089 676.852478,163.713882 
	C673.296021,164.041061 671.472351,160.586243 672.937988,157.062683 
	C675.485229,150.938705 678.518677,145.006012 680.824402,138.798523 
	C681.614319,136.671997 681.622009,133.573151 680.639587,131.584030 
	C675.425354,121.026451 669.782593,110.680550 664.115967,99.928986 
z"/>
<path fill="#278FCE" opacity="1.000000" stroke="none" 
	d="
M8.133390,157.245178 
	C21.042522,137.902740 34.027557,118.867134 47.101582,99.892838 
	C48.560547,97.775436 50.525150,96.006439 52.599129,94.036316 
	C52.985523,103.353119 53.028057,112.709465 52.667122,122.569534 
	C50.756973,124.541733 48.976345,125.818260 47.790157,127.511284 
	C42.084183,135.655273 36.429832,143.840332 30.977148,152.155075 
	C27.728249,157.109299 24.885595,162.329910 21.860313,167.430771 
	C17.318697,164.143845 12.777079,160.856934 8.133390,157.245178 
z"/>
<path fill="#A6A7AB" opacity="1.000000" stroke="none" 
	d="
M103.998421,67.996201 
	C92.693092,78.794609 81.387764,89.593018 70.249504,100.231857 
	C70.249504,99.690613 70.249504,98.182594 70.773087,96.326584 
	C72.420517,94.879333 73.910973,93.974335 74.612091,92.651108 
	C82.477150,77.807259 90.203781,62.890141 98.002274,48.010883 
	C104.317535,35.961559 110.679955,23.936945 117.021446,11.901367 
	C120.570908,13.650585 124.120369,15.399804 127.835342,17.785522 
	C122.965828,28.158403 117.772217,37.817097 112.951088,47.658276 
	C109.695168,54.304478 106.964203,61.207859 103.998421,67.996201 
z"/>
<path fill="#AFB0B3" opacity="1.000000" stroke="none" 
	d="
M116.888191,11.589263 
	C110.679955,23.936945 104.317535,35.961559 98.002274,48.010883 
	C90.203781,62.890141 82.477150,77.807259 74.612091,92.651108 
	C73.910973,93.974335 72.420517,94.879333 70.893097,96.007721 
	C70.392014,88.327179 70.294479,80.617508 70.638321,72.439888 
	C73.030846,69.698387 75.477814,67.688934 76.852409,65.108261 
	C85.560181,48.760326 93.947525,32.241741 102.649696,15.890747 
	C104.387497,12.625508 107.028336,9.840884 109.252777,6.834644 
	C111.753494,8.315481 114.254219,9.796319 116.888191,11.589263 
z"/>
<path fill="#2882C5" opacity="1.000000" stroke="none" 
	d="
M107.612755,109.115845 
	C104.465897,105.266098 101.319038,101.416351 97.940804,97.283546 
	C98.866241,96.240585 99.708565,95.291290 101.201202,94.227585 
	C120.718567,101.738121 139.562790,109.420273 158.462830,116.962563 
	C167.196472,120.447838 176.039078,123.660065 184.832291,126.996094 
	C184.877243,130.360153 184.922211,133.724228 184.513092,137.542542 
	C183.084473,137.844116 182.039047,137.869019 181.145935,137.512436 
	C164.077820,130.697891 147.064224,123.745224 129.956604,117.031960 
	C122.605225,114.147179 115.066414,111.740005 107.612755,109.115845 
z"/>
<path fill="#2879BF" opacity="1.000000" stroke="none" 
	d="
M184.899887,126.542213 
	C176.039078,123.660065 167.196472,120.447838 158.462830,116.962563 
	C139.562790,109.420273 120.718567,101.738121 101.500488,94.084915 
	C103.562416,91.450447 105.975372,88.844223 109.063065,86.161797 
	C116.160698,88.724655 122.556473,91.432175 129.011627,93.989830 
	C147.605179,101.356934 166.222717,108.663551 184.830826,115.993935 
	C184.876373,119.358734 184.921936,122.723541 184.899887,126.542213 
z"/>
<path fill="#296EB7" opacity="1.000000" stroke="none" 
	d="
M184.898529,115.535278 
	C166.222717,108.663551 147.605179,101.356934 129.011627,93.989830 
	C122.556473,91.432175 116.160698,88.724655 109.375908,86.045914 
	C111.793411,83.086670 114.572815,80.167107 117.980263,77.256470 
	C133.975861,83.528061 149.301788,89.895828 164.730499,96.003998 
	C171.321121,98.613197 178.126114,100.680893 184.833679,102.994652 
	C184.877869,107.021973 184.922043,111.049301 184.898529,115.535278 
z"/>
<path fill="#288BCB" opacity="1.000000" stroke="none" 
	d="
M107.758598,109.437202 
	C115.066414,111.740005 122.605225,114.147179 129.956604,117.031960 
	C147.064224,123.745224 164.077820,130.697891 181.145935,137.512436 
	C182.039047,137.869019 183.084473,137.844116 184.445541,137.996262 
	C184.339844,141.786285 183.847595,145.576874 182.770691,149.639236 
	C167.152405,143.905701 152.157074,137.801544 137.063538,131.950699 
	C132.045822,130.005630 126.776085,128.710724 121.621567,127.118584 
	C117.049194,121.331909 112.476814,115.545242 107.758598,109.437202 
z"/>
<path fill="#1B194E" opacity="1.000000" stroke="none" 
	d="
M650.297119,140.424393 
	C642.226013,138.838684 637.085205,133.535004 636.962341,125.590958 
	C636.669128,106.631523 636.729004,87.663338 637.009827,68.704071 
	C637.034241,67.057213 639.465088,64.609650 641.267639,64.013290 
	C644.290710,63.013081 646.249390,65.124588 646.739502,68.214508 
	C646.945862,69.515823 646.844849,70.869476 646.845276,72.199348 
	C646.850708,88.502228 646.832336,104.805122 646.856201,121.107971 
	C646.867004,128.484604 647.453491,128.938965 654.457886,130.659927 
	C655.972351,131.032043 658.035767,133.075623 658.105164,134.438019 
	C658.192444,136.152496 656.842102,138.355057 655.444458,139.593719 
	C654.403442,140.516327 652.302124,140.242462 650.297119,140.424393 
z"/>
<path fill="#2B4FA2" opacity="1.000000" stroke="none" 
	d="
M112.210030,142.904449 
	C114.443733,145.688126 116.677429,148.471817 118.928490,151.949448 
	C109.415787,166.813568 99.849930,180.959915 90.388367,195.175659 
	C88.668320,197.759995 87.374756,200.628159 85.884308,203.365295 
	C81.927834,201.504211 77.971352,199.643112 74.114822,197.324280 
	C81.204086,186.791473 88.145538,176.682770 95.197937,166.652054 
	C100.798225,158.686676 106.534264,150.816757 112.210030,142.904449 
z"/>
<path fill="#B4B5B8" opacity="1.000000" stroke="none" 
	d="
M109.027832,6.557982 
	C107.028336,9.840884 104.387497,12.625508 102.649696,15.890747 
	C93.947525,32.241741 85.560181,48.760326 76.852409,65.108261 
	C75.477814,67.688934 73.030846,69.698387 70.735390,71.981979 
	C70.322845,64.632256 70.254608,57.272503 70.628021,49.442825 
	C72.230888,47.948524 73.769684,47.137108 74.488197,45.863079 
	C77.670334,40.220695 80.530991,34.397907 83.668617,28.729309 
	C88.478439,20.039619 93.420242,11.422983 98.306030,2.775341 
	C101.804977,3.943999 105.303932,5.112659 109.027832,6.557982 
z"/>
<path fill="#2A5CAB" opacity="1.000000" stroke="none" 
	d="
M112.017960,142.620453 
	C106.534264,150.816757 100.798225,158.686676 95.197937,166.652054 
	C88.145538,176.682770 81.204086,186.791473 73.895355,197.045151 
	C70.813133,195.732452 68.050331,194.241135 65.235458,192.148102 
	C77.640022,173.054642 90.084953,154.554962 102.588287,136.094833 
	C103.204117,135.185593 104.329407,134.621414 105.217468,133.896545 
	C107.420273,136.709854 109.623077,139.523163 112.017960,142.620453 
z"/>
<path fill="#2D3993" opacity="1.000000" stroke="none" 
	d="
M130.972076,150.907257 
	C131.036560,150.608276 131.181778,150.355698 131.967651,150.036789 
	C133.082336,149.507828 133.637085,149.091614 134.434814,148.972351 
	C135.466660,153.181122 136.255524,157.092926 136.990082,161.425842 
	C136.230667,171.546097 132.783630,180.090195 126.298508,187.396759 
	C125.359558,188.454636 124.738899,189.794983 123.970947,191.004608 
	C123.970940,191.004608 123.986931,190.980408 123.665237,190.957016 
	C122.889557,191.389160 122.435562,191.844696 121.981567,192.300232 
	C114.247398,196.213486 106.513229,200.126755 98.428223,203.634033 
	C98.399513,202.464996 98.604424,201.622238 99.061104,200.950684 
	C108.009041,187.792816 117.083481,174.719452 125.887604,161.466415 
	C128.028793,158.243225 129.300552,154.442459 130.972076,150.907257 
z"/>
<path fill="#2A61AE" opacity="1.000000" stroke="none" 
	d="
M184.900970,102.544617 
	C178.126114,100.680893 171.321121,98.613197 164.730499,96.003998 
	C149.301788,89.895828 133.975861,83.528061 118.281799,77.117188 
	C120.106140,74.743935 122.257011,72.518906 125.087570,70.153915 
	C126.711876,70.282501 127.687096,70.473267 128.596603,70.831070 
	C147.346191,78.207161 166.088287,85.602264 184.831879,92.993591 
	C184.877335,96.027260 184.922775,99.060921 184.900970,102.544617 
z"/>
<path fill="#2971B9" opacity="1.000000" stroke="none" 
	d="
M60.977455,153.369614 
	C65.876236,153.040421 69.583427,151.273636 70.601227,145.362366 
	C72.316574,143.863449 73.886711,142.949753 74.846474,141.601562 
	C80.647079,133.453354 86.308098,125.205765 92.015793,116.991417 
	C93.661247,119.094475 95.306702,121.197533 96.676727,123.688721 
	C95.902260,124.474846 95.270515,124.781311 94.923668,125.284248 
	C86.868538,136.964325 78.782333,148.623795 70.835182,160.377213 
	C65.124496,168.823029 59.607098,177.399521 54.003479,185.917725 
	C51.171738,184.373138 48.339993,182.828568 45.303291,180.698639 
	C47.929127,175.710037 50.883579,171.380264 53.555595,166.882675 
	C56.178913,162.467056 58.515205,157.880920 60.977455,153.369614 
z"/>
<path fill="#2791CF" opacity="1.000000" stroke="none" 
	d="
M121.765167,127.439392 
	C126.776085,128.710724 132.045822,130.005630 137.063538,131.950699 
	C152.157074,137.801544 167.152405,143.905701 182.545898,149.953110 
	C180.580688,153.459824 178.255646,156.924454 175.492126,160.250839 
	C174.696426,159.771133 174.398926,159.283096 173.973236,159.109528 
	C161.830276,154.158813 149.691177,149.197159 137.487823,144.399078 
	C136.546463,144.028961 135.138168,144.846390 133.727631,145.070389 
	C133.508347,145.028931 133.068756,144.951508 133.068756,144.951508 
	C129.348755,139.221069 125.628754,133.490646 121.765167,127.439392 
z"/>
<path fill="#B9BABD" opacity="1.000000" stroke="none" 
	d="
M97.955330,2.530231 
	C93.420242,11.422983 88.478439,20.039619 83.668617,28.729309 
	C80.530991,34.397907 77.670334,40.220695 74.488197,45.863079 
	C73.769684,47.137108 72.230888,47.948524 70.722992,48.983139 
	C70.270660,36.665287 70.165031,24.337191 69.972290,11.553755 
	C78.329254,5.657899 86.794754,0.284780 97.955330,2.530231 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M130.642532,151.098465 
	C129.300552,154.442459 128.028793,158.243225 125.887604,161.466415 
	C117.083481,174.719452 108.009041,187.792816 99.061104,200.950684 
	C98.604424,201.622238 98.399513,202.464996 98.038940,203.578461 
	C94.171326,203.877777 90.342148,203.826675 86.198639,203.570435 
	C87.374756,200.628159 88.668320,197.759995 90.388367,195.175659 
	C99.849930,180.959915 109.415787,166.813568 118.990738,152.285980 
	C122.861465,152.893417 126.720268,154.439987 130.642532,151.098465 
z"/>
<path fill="#2885C7" opacity="1.000000" stroke="none" 
	d="
M22.083771,167.667603 
	C24.885595,162.329910 27.728249,157.109299 30.977148,152.155075 
	C36.429832,143.840332 42.084183,135.655273 47.790157,127.511284 
	C48.976345,125.818260 50.756973,124.541733 52.606651,123.034721 
	C53.039062,130.670837 53.128471,138.345490 52.858582,146.527191 
	C50.105427,150.057144 47.494450,152.935455 45.364609,156.134125 
	C41.389664,162.103851 37.694283,168.259720 33.882568,174.338120 
	C30.024120,172.193542 26.165676,170.048981 22.083771,167.667603 
z"/>
<path fill="#2898D4" opacity="1.000000" stroke="none" 
	d="
M133.946899,145.111847 
	C135.138168,144.846390 136.546463,144.028961 137.487823,144.399078 
	C149.691177,149.197159 161.830276,154.158813 173.973236,159.109528 
	C174.398926,159.283096 174.696426,159.771133 175.227386,160.501083 
	C170.590515,163.928726 165.779938,166.967880 160.293213,169.919128 
	C152.092819,166.889053 144.568604,163.946899 137.044388,161.004761 
	C136.255524,157.092926 135.466660,153.181122 134.390854,148.622238 
	C134.051575,147.020737 133.999237,146.066284 133.946899,145.111847 
z"/>
<path fill="#16144A" opacity="1.000000" stroke="none" 
	d="
M620.169556,97.113312 
	C620.169495,109.583946 620.109558,121.572731 620.204468,133.560287 
	C620.234375,137.341003 619.437805,140.472748 615.009155,140.392960 
	C610.618347,140.313843 609.925171,137.152786 609.956665,133.394226 
	C610.065430,120.407806 610.048096,107.419609 609.968567,94.432770 
	C609.944580,90.520912 609.997681,86.588287 615.194092,86.651764 
	C620.482544,86.716370 620.277649,90.853058 620.172241,94.633018 
	C620.153748,95.298515 620.169556,95.964966 620.169556,97.113312 
z"/>
<path fill="#296AB5" opacity="1.000000" stroke="none" 
	d="
M54.254753,186.148438 
	C59.607098,177.399521 65.124496,168.823029 70.835182,160.377213 
	C78.782333,148.623795 86.868538,136.964325 94.923668,125.284248 
	C95.270515,124.781311 95.902260,124.474846 96.748489,124.025536 
	C98.359726,125.429214 99.623764,126.884224 100.744354,128.760834 
	C99.549210,130.435776 98.389320,131.614288 97.462708,132.954147 
	C88.998764,145.192673 80.480530,157.395477 72.179222,169.743881 
	C67.863998,176.162872 63.952850,182.853516 59.859177,189.421448 
	C58.074795,188.407349 56.290413,187.393250 54.254753,186.148438 
z"/>
<path fill="#2A55A6" opacity="1.000000" stroke="none" 
	d="
M184.900345,92.547958 
	C166.088287,85.602264 147.346191,78.207161 128.596603,70.831070 
	C127.687096,70.473267 126.711876,70.282501 125.382751,70.006554 
	C126.248383,67.872787 127.498505,65.746437 129.280640,63.356758 
	C141.644562,67.774460 153.444473,72.538750 165.321167,77.103195 
	C171.757416,79.576775 178.324585,81.709755 184.832687,83.996376 
	C184.878067,86.698357 184.923431,89.400345 184.900345,92.547958 
z"/>
<path fill="#2A64B1" opacity="1.000000" stroke="none" 
	d="
M60.068802,189.667664 
	C63.952850,182.853516 67.863998,176.162872 72.179222,169.743881 
	C80.480530,157.395477 88.998764,145.192673 97.462708,132.954147 
	C98.389320,131.614288 99.549210,130.435776 100.935242,129.032471 
	C102.508301,130.350113 103.747025,131.817703 105.101608,133.590912 
	C104.329407,134.621414 103.204117,135.185593 102.588287,136.094833 
	C90.084953,154.554962 77.640022,173.054642 65.042229,191.875565 
	C63.360188,191.441116 61.819309,190.677505 60.068802,189.667664 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M127.941490,57.016640 
	C125.508156,56.016991 123.074821,55.017342 120.358894,53.656868 
	C120.732880,52.566257 121.389458,51.836472 122.373611,50.981049 
	C125.073441,49.793064 127.445686,48.730721 129.988525,48.014515 
	C131.221313,49.118958 132.184525,50.122871 133.361206,50.597134 
	C143.805313,54.806549 154.254166,59.008678 164.771240,63.030830 
	C170.450012,65.202614 176.264542,67.019402 182.276001,69.220825 
	C183.332047,71.332565 184.129929,73.219818 184.927795,75.107063 
	C184.970764,75.532715 185.013718,75.958366 184.574936,76.693222 
	C182.638779,76.780884 181.081451,76.821083 179.746262,76.296219 
	C169.448227,72.248009 159.251907,67.935181 148.904221,64.021225 
	C142.018600,61.416790 134.935944,59.333305 127.941490,57.016640 
z"/>
<path fill="#297BC0" opacity="1.000000" stroke="none" 
	d="
M34.092957,174.591461 
	C37.694283,168.259720 41.389664,162.103851 45.364609,156.134125 
	C47.494450,152.935455 50.105427,150.057144 52.869797,146.992569 
	C55.583984,149.016739 57.927662,151.082581 60.624397,153.259033 
	C58.515205,157.880920 56.178913,162.467056 53.555595,166.882675 
	C50.883579,171.380264 47.929127,175.710037 45.054535,180.453033 
	C41.441605,178.810135 37.872475,176.827469 34.092957,174.591461 
z"/>
<path fill="#A0A1A4" opacity="1.000000" stroke="none" 
	d="
M122.046036,51.106689 
	C121.389458,51.836472 120.732880,52.566257 119.978256,53.576656 
	C119.880219,53.857269 119.903275,53.901428 119.623383,53.885712 
	C118.894241,54.237209 118.444992,54.604420 117.995743,54.971634 
	C113.534782,59.226894 109.073814,63.482155 104.305634,67.866806 
	C106.964203,61.207859 109.695168,54.304478 112.951088,47.658276 
	C117.772217,37.817097 122.965828,28.158403 128.058243,18.029196 
	C130.300217,18.811857 132.484787,19.987343 134.853516,21.815496 
	C133.989227,24.857271 132.969513,27.259466 131.887009,29.633022 
	C128.619781,36.796883 125.328148,43.949619 122.046036,51.106689 
z"/>
<path fill="#2A9FD8" opacity="1.000000" stroke="none" 
	d="
M136.990082,161.425842 
	C144.568604,163.946899 152.092819,166.889053 159.954803,169.989655 
	C148.424088,177.087708 136.555603,184.027313 124.329025,190.985764 
	C124.738899,189.794983 125.359558,188.454636 126.298508,187.396759 
	C132.783630,180.090195 136.230667,171.546097 136.990082,161.425842 
z"/>
<path fill="#2B4CA0" opacity="1.000000" stroke="none" 
	d="
M127.995773,57.395683 
	C134.935944,59.333305 142.018600,61.416790 148.904221,64.021225 
	C159.251907,67.935181 169.448227,72.248009 179.746262,76.296219 
	C181.081451,76.821083 182.638779,76.780884 184.496918,77.005997 
	C184.924271,79.049538 184.947937,81.089523 184.902130,83.562943 
	C178.324585,81.709755 171.757416,79.576775 165.321167,77.103195 
	C153.444473,72.538750 141.644562,67.774460 129.449554,63.053543 
	C128.740982,61.267338 128.395523,59.521030 127.995773,57.395683 
z"/>
<path fill="#9A9A9D" opacity="1.000000" stroke="none" 
	d="
M122.373611,50.981049 
	C125.328148,43.949619 128.619781,36.796883 131.887009,29.633022 
	C132.969513,27.259466 133.989227,24.857271 135.071259,22.061415 
	C137.945389,23.217421 140.785919,24.780178 143.817169,26.991543 
	C143.383224,29.324478 142.879440,31.066376 142.110214,32.681881 
	C140.136658,36.826645 138.045227,40.915283 135.694794,45.179363 
	C133.531754,46.111038 131.674835,46.889713 129.817932,47.668381 
	C127.445686,48.730721 125.073441,49.793064 122.373611,50.981049 
z"/>
<path fill="#88888E" opacity="1.000000" stroke="none" 
	d="
M152.102524,31.439873 
	C155.619293,33.396687 159.136063,35.353508 162.804764,37.954796 
	C161.528076,41.141026 160.099442,43.682785 158.272491,46.184517 
	C153.910294,45.599094 149.946396,45.053699 145.995392,44.163040 
	C148.039703,39.691803 150.071121,35.565838 152.102524,31.439873 
z"/>
<path fill="#939496" opacity="1.000000" stroke="none" 
	d="
M151.881866,31.221512 
	C150.071121,35.565838 148.039703,39.691803 145.550201,44.259666 
	C142.061707,44.809834 139.031326,44.918098 136.000931,45.026360 
	C138.045227,40.915283 140.136658,36.826645 142.110214,32.681881 
	C142.879440,31.066376 143.383224,29.324478 144.025024,27.252903 
	C146.581818,28.244822 149.121521,29.623987 151.881866,31.221512 
z"/>
<path fill="#1D1B4F" opacity="1.000000" stroke="none" 
	d="
M610.710510,66.494217 
	C614.233276,64.243706 617.689636,64.058426 619.840820,67.254417 
	C621.080994,69.096909 621.705444,72.729050 620.688293,74.356194 
	C619.504639,76.249619 616.187927,77.855148 613.859924,77.774170 
	C608.704529,77.594818 607.180603,72.092674 610.710510,66.494217 
z"/>
<path fill="#797A7C" opacity="1.000000" stroke="none" 
	d="
M173.347382,43.854877 
	C175.309052,45.793518 177.270721,47.732166 179.159332,50.412292 
	C177.687637,53.117939 176.289001,55.082096 174.604401,56.891853 
	C172.202194,54.863976 170.085938,52.990501 168.009827,50.750595 
	C169.815781,48.207737 171.581589,46.031307 173.347382,43.854877 
z"/>
<path fill="#6F6F73" opacity="1.000000" stroke="none" 
	d="
M174.890381,57.046257 
	C176.289001,55.082096 177.687637,53.117939 179.147156,50.735962 
	C183.888199,55.222645 185.215500,61.271317 185.170059,67.788528 
	C185.155228,69.915176 185.141037,72.041817 185.027161,74.637764 
	C184.129929,73.219818 183.332047,71.332565 182.237915,68.864670 
	C179.591232,64.538109 177.240799,60.792187 174.890381,57.046257 
z"/>
<path fill="#808183" opacity="1.000000" stroke="none" 
	d="
M173.134277,43.572426 
	C171.581589,46.031307 169.815781,48.207737 167.664581,50.668007 
	C164.409714,49.376083 161.540268,47.800312 158.670807,46.224545 
	C160.099442,43.682785 161.528076,41.141026 163.001221,38.227806 
	C166.337555,39.667557 169.629349,41.478767 173.134277,43.572426 
z"/>
<path fill="#2A9FD8" opacity="1.000000" stroke="none" 
	d="
M122.298279,192.227417 
	C122.435562,191.844696 122.889557,191.389160 123.679543,190.954575 
	C123.548683,191.368546 123.081833,191.761566 122.298279,192.227417 
z"/>
<path fill="#2876BB" opacity="1.000000" stroke="none" 
	d="
M91.892838,116.676514 
	C86.308098,125.205765 80.647079,133.453354 74.846474,141.601562 
	C73.886711,142.949753 72.316574,143.863449 70.688301,144.985474 
	C70.261665,139.055130 70.085533,133.116150 70.157204,127.180168 
	C70.173416,125.836838 70.704582,124.186592 71.590408,123.219704 
	C76.038002,118.365082 80.681976,113.690384 85.726357,108.466385 
	C88.039505,111.488266 89.904694,113.924934 91.892838,116.676514 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M133.727631,145.070389 
	C133.999237,146.066284 134.051575,147.020737 134.147873,148.325287 
	C133.637085,149.091614 133.082336,149.507828 132.161621,149.930267 
	C132.166840,148.515305 132.538040,147.094131 132.988998,145.312225 
	C133.068756,144.951508 133.508347,145.028931 133.727631,145.070389 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M118.302765,54.964729 
	C118.444992,54.604420 118.894241,54.237209 119.647629,53.882008 
	C119.504448,54.248619 119.057121,54.603218 118.302765,54.964729 
z"/>
<path fill="#FEFEFE" opacity="1.000000" stroke="none" 
	d="
M494.401672,130.910751 
	C488.674255,130.949005 483.390442,130.949005 477.825195,130.949005 
	C477.825195,111.721573 477.825195,92.682175 477.825195,73.627197 
	C497.756470,70.703644 512.021729,75.652016 517.020081,94.224098 
	C520.697144,107.886765 514.780945,127.254517 494.401672,130.910751 
z"/>
<path fill="#FCFCFD" opacity="1.000000" stroke="none" 
	d="
M351.216492,126.785675 
	C341.982635,114.802811 346.095856,99.123352 358.993713,95.887733 
	C366.936768,93.895103 374.349579,97.202011 378.308044,104.504059 
	C382.206879,111.695999 380.750000,121.585251 374.979889,127.095352 
	C369.276001,132.542221 360.667664,133.297119 353.811890,128.916748 
	C352.976288,128.382874 352.252014,127.674736 351.216492,126.785675 
z"/>
<path fill="#FCFCFD" opacity="1.000000" stroke="none" 
	d="
M583.895264,108.733131 
	C585.321899,120.151619 581.170959,128.090088 572.592224,130.919510 
	C563.812683,133.815155 554.430908,129.243912 551.120850,120.457619 
	C547.554626,110.991364 551.844177,100.311226 560.719177,96.559563 
	C569.248230,92.954147 578.758972,96.795776 582.796692,105.501312 
	C583.214478,106.401894 583.481384,107.372459 583.895264,108.733131 
z"/>
<path fill="#FCFCFD" opacity="1.000000" stroke="none" 
	d="
M440.244019,99.805695 
	C441.841064,102.838928 443.194672,105.586174 444.803864,108.852074 
	C433.285370,108.852074 422.815338,108.852074 412.030853,108.852074 
	C413.262665,102.549667 416.449036,97.984123 422.502625,95.986710 
	C428.899109,93.876183 434.983887,94.309898 440.244019,99.805695 
z"/>
<path fill="#2D3892" opacity="1.000000" stroke="none" 
	d="
M158.272491,46.184513 
	C161.540268,47.800312 164.409714,49.376083 167.624435,51.034439 
	C170.085938,52.990501 172.202194,54.863976 174.604401,56.891857 
	C177.240799,60.792187 179.591232,64.538109 181.979736,68.640190 
	C176.264542,67.019402 170.450012,65.202614 164.771240,63.030830 
	C154.254166,59.008678 143.805313,54.806549 133.361206,50.597134 
	C132.184525,50.122871 131.221313,49.118958 129.988525,48.014519 
	C131.674835,46.889713 133.531754,46.111038 135.694794,45.179363 
	C139.031326,44.918098 142.061707,44.809834 145.537308,44.604939 
	C149.946396,45.053699 153.910294,45.599094 158.272491,46.184513 
z"/>
</svg>
            
        </a>
    </div>
    <div class="sidebar-content" style="height: calc(100% - 131px);">
        <ul class="sidebar-menu">
            
                
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="//localhost:1313/docs/overview/">
                                <i class="material-icons me-2">circle</i>
                                
                                Overview
                            </a>
                        </li>
                    
                
                    
                        
                        <li class="">
                            <a class="sidebar-root-link" href="//localhost:1313/docs/quickstart/">
                                <i class="material-icons me-2">rocket_launch</i>
                                
                                Quickstart
                            </a>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  ">
                            <button class="btn">
                                <i class="material-icons me-2">menu_book</i>
                                Learn ContainerD
                            </button>
                            <div class="sidebar-submenu ">
                                <ul>
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/history-of-containerd/">History of ContainerD</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/architecture-of-containerd/">Architecture of containerd</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/introduction-to-runc/">Introduction to Runc</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/containerd-ctr/"> ContainerD CLI ctr </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/kata-container/"> Kata Containers </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/firecracker/"> firecracker </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/crun/"> ContainerD &#43; Crun </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/nerdctl/"> contaiNERD &#43; nerdctl </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/runwasi/"> contaiNERD &#43; runwasi </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containerd/wasm-containerd-crun/">Wasm &#43; ContainerD &#43; CRUN </a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  current active">
                            <button class="btn">
                                <i class="material-icons me-2">menu_book</i>
                                Learn Docker
                            </button>
                            <div class="sidebar-submenu d-block">
                                <ul>
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/docker-prerequisites/">Docker Prerequisites</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/hello-world-in-docker/">Hello World in Docker</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/docker-images-filter/">Docker Image Filtering</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/images-as-tar-files/">Images as Tar Files</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/pushing-to-dockerhub/">Pushing to DockerHub</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/building-a-base-image/">Building a Base Image</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-add/">Dockerfile ADD</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-copy/">Dockerfile COPY</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-cmd/">Dockerfile CMD</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-entrypoint/">Dockerfile Entrypoint</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-workdir/">Dockerfile WORKDIR</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-run/">Dockerfile RUN </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-arg/">Dockerfile ARG </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-volume/">Dockerfile Volume</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-user/">Dockerfile USER</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-healthcheck/">Dockerfile HEALTHCHECK</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-env/">Dockerfile ENV</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/dockerfile-onbuild/">Dockerfile ONBUILD</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/multi-container-cli/">Multi-Container CLI </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/docker-compose-basics/">Docker Compose Basics</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-volume-mount/">Compose Volume Mount</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/custom-dockerfile-with-compose/">Custom Dockerfile with Compose</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/php-apache-and-db-with-compose/">PHP, Apache, and DB with Compose</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/host-volume-mount/">Host Volume Mount</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/named-volume-mount/">Named Volume Mount</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-build-command/">Compose Build Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-config-command/">Compose Config Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-cp-command/">Compose CP Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-create-command/">Compose Create Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-down-command/">Compose Down Command </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-events-command/">Compose Events Command </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-exec-command/">Compose Exec Command </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-images-command/">Compose Images Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-kill-command/">Compose Kill Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-logs-command/">Compose Logs Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-ls-command/">Compose ls Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-pause-unpause-command/">Compose Pause unpause Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-port-command/">Compose Port Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-ps-command/">Compose Ps Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-pull-command/">Compose Pull Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-push-command/">Compose Push Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-restart-command/">Compose Restart Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-rm-command/">Compose Rm Command </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-run-command/">Compose Run Command</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/local-network-setup/">Local Network Setup</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/remote-network-setup/">Remote Network Setup</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/newtorking-in-docker-compose/">Newtorking in Docker Compose</a></li>
                                        
                                    
                                        
                                        
                                            <li class="current "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-networking-with-nginx/">Compose Networking with Nginx</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/docker-wordpress-example/">Docker Wordpress Example</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/multi-arch-container/">Multi-Arch Container</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/docker/compose-watch-command/">Compose Watch Command</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  ">
                            <button class="btn">
                                <i class="material-icons me-2">start</i>
                                Container Security 
                            </button>
                            <div class="sidebar-submenu ">
                                <ul>
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/interacting-with-container-ecosystem/">Interacting with container ecosystem </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/attack-surface-of-the-container-ecosystem/">Attack surface of the container ecosystem </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/environment-variables/">Environment variables </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/docker-volumes/">Docker volumes </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/docker-networking/">Docker Networking </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/auditing-docker-security/">Auditing Docker Security </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/container-image-security/">Container Image Security </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/dockerfile-security-best-practices/">DockerFile Security Best Practices </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/secretscanner-finding-secrets-and-passwords-in-container-images-and-file-systems/">SecretScanner - Finding secrets and passwords in container images and file systems </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/yarahunter-malware-scanner-for-container-images/"> YaraHunter - Malware Scanner for Container Images </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/security-linting-of-dockerfiles/">Security Linting of Dockerfiles</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/static-analysis-of-container-images-library-for-container/">Static Analysis of container images library for container </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/docker-host-security-configurations/">Docker host security configurations</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/docker-daemon-security-configurations/">Docker Daemon security configurations</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/content-trust-and-integrity-checks/">Content Trust and Integrity checks</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/docker-registry-security-configurations/">Docker Registry security configurations </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/dockerscan/">DockerScan</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/dive/"> Dive </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/docker-events/">Docker events</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/scanning-docker-for-vulnerabilities-with-thraetmappeper/">Scanning Docker for vulnerabilities with ThraetMappeper </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/containersecurity/sock-shop-docker-compose-and-weave/">Sock Shop Docker Compose and Weave</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  ">
                            <button class="btn">
                                <i class="material-icons me-2">menu_book</i>
                                Learn kubenetes
                            </button>
                            <div class="sidebar-submenu ">
                                <ul>
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/pre-requisites-kubeadm/">pre-requisites</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/kubeadm/">kubeadm</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/ha-cluster/">HA Cluster</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/kubeadm-upgrade/">kubeadm upgrade &amp; downgrade </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/etcd-backup/">etcd Backup and Restore</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/basics-of-pods/">Basics of Pod</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/labels-and-selectors/">Labels and Selectors </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/create-pod-with-command-and-arguments/">Create POD with Command and Arguments </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/multi-container-pods/">Multi-Container Pods</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/deployments-and-replication/">Deployments and replication</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/rbac/">RBAC</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/configmap/">ConfigMap </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/services/">Kubernetes Service  </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/service-type-nodeportclusteriploadbalancer/">Service Type - NodePort,ClusterIP,LoadBalancer </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/networkpolicy/">NetworkPolicy </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/use-core-dns/">Use Core DNS</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/ingress-controller/">Ingress Controller</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/kubernetes/pre-requisit-for-this-lab/">Pre-requisit for this lab</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  ">
                            <button class="btn">
                                <i class="material-icons me-2">menu_book</i>
                                Learn Helm
                            </button>
                            <div class="sidebar-submenu ">
                                <ul>
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/helm/install-helm/">Basics of Helm</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/helm/deep-dive-chart/">Deep Dive into Charts</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/helm/-multiple-values/">Working with Multiple Values</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/helm/template-file/">creating template file and access through it </a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/helm/advance-if-statement/">Advance Temaplate with if statement</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/helm/else-else-if-statement/">else and else if statement</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="//localhost:1313/docs/helm/helm-templates-cheatsheet/">50 Helm Template Cheatsheets</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
            
        </ul>
        
    </div>
    
        <ul class="sidebar-footer list-unstyled mb-0">
            
        </ul>
    
</nav>

                    <main class="page-content bg-transparent">
                        
<div id="top-header" class="top-header d-print-none">
    <div class="header-bar d-flex justify-content-between">
        <div class="d-flex align-items-center">
            <a href='/' class="logo-icon me-3" aria-label="HomePage" alt="HomePage">
                <div class="small">
                    
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="100%" viewBox="0 0 712 205" enable-background="new 0 0 712 205" xml:space="preserve">
<path fill="#FEFEFF" opacity="1.000000" stroke="none" 
	d="
M471.000000,206.000000 
	C314.000000,206.000000 157.500000,206.000000 1.000000,206.000000 
	C1.000000,137.666672 1.000000,69.333336 1.000000,1.000000 
	C238.333328,1.000000 475.666656,1.000000 713.000000,1.000000 
	C713.000000,69.333336 713.000000,137.666672 713.000000,206.000000 
	C632.500000,206.000000 552.000000,206.000000 471.000000,206.000000 
M172.921143,43.289974 
	C169.629349,41.478767 166.337555,39.667557 162.652832,37.310326 
	C159.136063,35.353508 155.619293,33.396687 151.661224,31.003151 
	C149.121521,29.623987 146.581818,28.244822 143.626434,26.342934 
	C140.785919,24.780178 137.945389,23.217421 134.669373,21.162828 
	C132.484787,19.987343 130.300217,18.811857 127.669830,17.149023 
	C124.120369,15.399804 120.570908,13.650585 116.754936,11.277157 
	C114.254219,9.796319 111.753494,8.315481 108.802879,6.281318 
	C105.303932,5.112659 101.804977,3.943999 97.604622,2.285120 
	C86.794754,0.284780 78.329254,5.657899 69.239975,11.287532 
	C63.828121,14.545999 58.416271,17.804466 52.315567,21.166466 
	C40.246010,28.112165 28.150738,35.013687 16.115751,42.018780 
	C7.810052,46.853195 2.584808,54.232883 2.183110,63.695820 
	C1.571437,78.105270 2.114035,92.563713 2.032978,107.930161 
	C2.078098,116.953621 2.123218,125.977074 2.034208,135.906921 
	C1.459567,143.645905 2.700697,150.866669 8.235461,157.570023 
	C12.777079,160.856934 17.318697,164.143845 22.307230,167.904419 
	C26.165676,170.048981 30.024120,172.193542 34.303345,174.844818 
	C37.872475,176.827469 41.441605,178.810135 45.508247,181.283981 
	C48.339993,182.828568 51.171738,184.373138 54.506035,186.379150 
	C56.290413,187.393250 58.074795,188.407349 60.278427,189.913879 
	C61.819309,190.677505 63.360188,191.441116 65.287529,192.749817 
	C68.050331,194.241135 70.813133,195.732452 74.014877,197.782028 
	C77.971352,199.643112 81.927834,201.504211 86.512970,203.775558 
	C90.342148,203.826675 94.171326,203.877777 98.779060,204.040009 
	C106.513229,200.126755 114.247398,196.213486 122.614990,192.154587 
	C123.081833,191.761566 123.548683,191.368546 123.986931,190.980408 
	C123.986931,190.980408 123.970940,191.004608 124.687111,190.966919 
	C136.555603,184.027313 148.424088,177.087708 160.969360,170.007034 
	C165.779938,166.967880 170.590515,163.928726 175.930603,160.389084 
	C178.255646,156.924454 180.580688,153.459824 183.355347,149.367447 
	C183.847595,145.576874 184.339844,141.786285 184.967178,137.088287 
	C184.922211,133.724228 184.877243,130.360153 184.967484,126.088341 
	C184.921936,122.723541 184.876373,119.358734 184.966217,115.076622 
	C184.922043,111.049301 184.877869,107.021973 184.968231,102.094589 
	C184.922775,99.060921 184.877335,96.027260 184.968811,92.102325 
	C184.923431,89.400345 184.878067,86.698357 184.971588,83.129501 
	C184.947937,81.089523 184.924271,79.049538 185.056671,76.384018 
	C185.013718,75.958366 184.970764,75.532715 185.126541,74.168465 
	C185.141037,72.041817 185.155228,69.915176 185.170059,67.788528 
	C185.215500,61.271317 183.888199,55.222645 179.232391,49.670811 
	C177.270721,47.732166 175.309052,45.793518 172.921143,43.289974 
M466.984680,104.500000 
	C466.984711,114.323265 467.086548,124.148056 466.938568,133.969086 
	C466.872101,138.379440 468.784821,140.553787 473.104370,140.521393 
	C480.255249,140.467773 487.436676,140.684418 494.549622,140.104752 
	C513.249756,138.580780 526.660156,124.634842 527.949341,105.847656 
	C529.397949,84.736534 518.354126,68.314537 499.089722,64.767395 
	C490.693939,63.221485 481.857452,64.112457 473.225128,63.789963 
	C468.778839,63.623856 466.893585,65.570999 466.943604,70.034790 
	C467.068512,81.188614 466.984680,92.344780 466.984680,104.500000 
M346.809235,92.852295 
	C346.721008,85.539078 346.648071,78.225624 346.538086,70.912735 
	C346.482635,67.225441 346.198730,63.686584 341.100433,63.809761 
	C336.321747,63.925209 336.121796,67.192894 336.130524,70.762390 
	C336.165619,85.075142 336.104645,99.388176 336.156982,113.700829 
	C336.204681,126.751923 344.609955,137.432480 356.851074,140.151703 
	C370.007355,143.074219 382.477051,137.147095 387.988495,125.351387 
	C393.213287,114.169228 390.013397,98.968536 380.891144,91.636063 
	C371.084656,83.753662 358.715393,84.341530 346.809235,92.852295 
M244.515076,113.955460 
	C240.535614,108.484650 236.556152,103.013832 232.406631,97.309219 
	C240.586105,89.174675 248.480667,81.301094 256.403900,73.456459 
	C259.014832,70.871445 260.845551,67.736679 257.736633,64.856537 
	C254.905258,62.233490 251.975952,64.113907 249.525833,66.589264 
	C240.384491,75.824699 231.172272,84.990082 221.966034,94.161087 
	C220.987717,95.135666 219.874207,95.974564 218.171219,97.436165 
	C218.171219,87.575226 218.148819,78.634773 218.182404,69.694534 
	C218.195587,66.181564 216.962494,63.850895 213.055908,63.840012 
	C209.195145,63.829254 207.821594,66.069534 207.823715,69.613419 
	C207.836685,91.271492 207.841934,112.929581 207.820343,134.587631 
	C207.816727,138.216934 209.559036,140.443878 213.135818,140.394073 
	C216.795914,140.343079 218.244095,137.893127 218.191025,134.340805 
	C218.113907,129.177368 218.623306,123.961922 218.058243,118.859947 
	C217.357956,112.537102 220.068451,108.475159 225.358475,105.132225 
	C233.127930,115.657387 240.943848,126.163292 248.655777,136.744995 
	C250.842026,139.744781 253.394928,142.069565 256.878571,139.398605 
	C260.233093,136.826691 259.023468,133.566605 256.806946,130.596832 
	C252.824631,125.261185 248.909149,119.875648 244.515076,113.955460 
M546.171326,95.713150 
	C545.337891,96.950195 544.389526,98.125732 543.689331,99.434074 
	C538.299561,109.504181 538.520569,119.635277 544.375305,129.291077 
	C549.448792,137.658249 557.434021,141.984390 567.115662,140.611740 
	C572.962036,139.782883 578.478882,136.629974 583.888184,134.616470 
	C583.827820,137.594391 584.972229,140.765594 589.694824,140.435333 
	C594.391357,140.106903 594.233276,136.497253 594.200134,133.037796 
	C594.141174,126.885925 594.074158,120.730728 594.206726,114.581154 
	C594.470581,102.337410 589.229370,93.379494 578.107971,88.328491 
	C567.426575,83.477333 555.590576,86.277809 546.171326,95.713150 
M430.451935,140.848038 
	C435.949951,139.196045 441.537598,137.784470 446.905487,135.783371 
	C449.329987,134.879547 451.323669,132.170898 449.061401,129.853241 
	C447.658630,128.416153 444.543762,128.171494 442.231964,128.263077 
	C440.596405,128.327911 439.087585,130.025009 437.403931,130.697296 
	C426.016541,135.244431 413.649323,128.722672 412.309357,117.182953 
	C413.966949,117.182953 415.586121,117.183205 417.205322,117.182907 
	C427.365509,117.181076 437.525757,117.152428 447.685791,117.190903 
	C451.525726,117.205437 453.566467,115.664742 453.559387,111.564751 
	C453.539856,100.221703 447.235291,90.578056 437.605713,87.423035 
	C426.372314,83.742546 413.546387,87.566551 407.326294,96.850319 
	C401.091797,106.155586 400.383881,116.288246 405.223694,126.253311 
	C410.024628,136.138336 418.719360,140.520111 430.451935,140.848038 
M278.918396,119.895912 
	C278.796356,110.738724 278.674042,101.581551 278.552490,92.424355 
	C278.506195,88.937614 277.062988,86.495712 273.305359,86.515366 
	C269.580994,86.534828 268.113342,88.890503 268.126526,92.434021 
	C268.158142,100.932762 267.856781,109.443306 268.204315,117.928001 
	C268.816711,132.879059 279.763214,142.550476 294.351776,140.796097 
	C298.972076,140.240448 303.391663,138.015793 306.644897,136.962372 
	C310.009308,138.175705 312.877106,140.231186 315.434784,139.899033 
	C319.531128,139.367050 318.850739,135.283249 318.855682,132.169662 
	C318.876343,119.171425 318.834473,106.173035 318.883820,93.174957 
	C318.897247,89.635376 318.126129,86.643478 313.950775,86.524551 
	C309.589752,86.400345 308.387421,89.263168 308.419769,93.135872 
	C308.489410,101.467506 308.383942,109.800644 308.459747,118.132172 
	C308.512909,123.975510 305.827301,127.924370 300.575806,130.262039 
	C291.441956,134.327911 282.290100,130.290833 278.918396,119.895912 
M664.288208,100.261322 
	C669.782593,110.680550 675.425354,121.026451 680.639587,131.584030 
	C681.622009,133.573151 681.614319,136.671997 680.824402,138.798523 
	C678.518677,145.006012 675.485229,150.938705 672.937988,157.062683 
	C671.472351,160.586243 673.296021,164.041061 676.852478,163.713882 
	C678.828613,163.532089 681.404419,161.270920 682.303223,159.304031 
	C691.404480,139.388672 700.214294,119.340172 709.108215,99.330040 
	C709.916565,97.511452 710.778503,95.715775 711.548889,93.881470 
	C712.721619,91.089302 712.577698,88.484924 709.497864,87.158775 
	C706.527649,85.879814 703.954407,86.467140 702.615112,89.861893 
	C702.006714,91.404106 701.266296,92.894104 700.591125,94.410156 
	C696.251648,104.153908 691.913635,113.898315 687.180054,124.530014 
	C685.506042,121.308212 684.285156,119.010963 683.111267,116.689949 
	C678.542969,107.657578 673.978882,98.623009 669.436523,89.577545 
	C667.978271,86.673492 665.640930,85.774612 662.837891,87.146591 
	C659.959595,88.555405 659.451538,91.027092 660.935669,93.867630 
	C661.934448,95.779358 662.940735,97.687119 664.288208,100.261322 
M650.672974,140.501450 
	C652.302124,140.242462 654.403442,140.516327 655.444458,139.593719 
	C656.842102,138.355057 658.192444,136.152496 658.105164,134.438019 
	C658.035767,133.075623 655.972351,131.032043 654.457886,130.659927 
	C647.453491,128.938965 646.867004,128.484604 646.856201,121.107971 
	C646.832336,104.805122 646.850708,88.502228 646.845276,72.199348 
	C646.844849,70.869476 646.945862,69.515823 646.739502,68.214508 
	C646.249390,65.124588 644.290710,63.013081 641.267639,64.013290 
	C639.465088,64.609650 637.034241,67.057213 637.009827,68.704071 
	C636.729004,87.663338 636.669128,106.631523 636.962341,125.590958 
	C637.085205,133.535004 642.226013,138.838684 650.672974,140.501450 
M620.169556,96.630981 
	C620.169556,95.964966 620.153748,95.298515 620.172241,94.633018 
	C620.277649,90.853058 620.482544,86.716370 615.194092,86.651764 
	C609.997681,86.588287 609.944580,90.520912 609.968567,94.432770 
	C610.048096,107.419609 610.065430,120.407806 609.956665,133.394226 
	C609.925171,137.152786 610.618347,140.313843 615.009155,140.392960 
	C619.437805,140.472748 620.234375,137.341003 620.204468,133.560287 
	C620.109558,121.572731 620.169495,109.583946 620.169556,96.630981 
M610.420105,66.748589 
	C607.180603,72.092674 608.704529,77.594818 613.859924,77.774170 
	C616.187927,77.855148 619.504639,76.249619 620.688293,74.356194 
	C621.705444,72.729050 621.080994,69.096909 619.840820,67.254417 
	C617.689636,64.058426 614.233276,64.243706 610.420105,66.748589 
z"/>
<path fill="#16154B" opacity="1.000000" stroke="none" 
	d="
M53.004421,21.062935 
	C58.416271,17.804466 63.828121,14.545999 69.649689,11.648314 
	C70.165031,24.337191 70.270660,36.665287 70.281326,49.453068 
	C70.254608,57.272503 70.322845,64.632256 70.294022,72.449921 
	C70.294479,80.617508 70.392014,88.327179 70.369522,96.355721 
	C70.249504,98.182594 70.249504,99.690613 70.249504,100.231857 
	C81.387764,89.593018 92.693092,78.794609 104.305634,67.866806 
	C109.073814,63.482155 113.534782,59.226894 118.302765,54.964729 
	C119.057121,54.603218 119.504448,54.248619 119.927521,53.897720 
	C119.903275,53.901428 119.880219,53.857269 120.260849,53.937481 
	C123.074821,55.017342 125.508156,56.016991 127.995773,57.395676 
	C128.395523,59.521030 128.740982,61.267338 128.917542,63.316864 
	C127.498505,65.746437 126.248383,67.872787 124.703072,70.146515 
	C122.257011,72.518906 120.106140,74.743935 117.653748,77.108261 
	C114.572815,80.167107 111.793411,83.086670 108.701172,86.122116 
	C105.975372,88.844223 103.562416,91.450447 100.850174,94.199341 
	C99.708565,95.291290 98.866241,96.240585 97.940804,97.283546 
	C101.319038,101.416351 104.465897,105.266098 107.758598,109.437210 
	C112.476814,115.545242 117.049194,121.331909 121.765167,127.439392 
	C125.628754,133.490646 129.348755,139.221069 132.988998,145.312225 
	C132.538040,147.094131 132.166840,148.515305 131.601685,150.043015 
	C131.181778,150.355698 131.036560,150.608276 130.642517,151.098465 
	C126.720268,154.439987 122.861465,152.893417 118.973373,151.592010 
	C116.677429,148.471817 114.443733,145.688126 112.017960,142.620453 
	C109.623077,139.523163 107.420273,136.709854 105.101608,133.590912 
	C103.747025,131.817703 102.508301,130.350113 101.078690,128.610870 
	C99.623764,126.884224 98.359726,125.429214 97.023926,123.637390 
	C95.306702,121.197533 93.661247,119.094475 91.892838,116.676514 
	C89.904694,113.924934 88.039505,111.488266 85.726357,108.466385 
	C80.681976,113.690384 76.038002,118.365082 71.590408,123.219704 
	C70.704582,124.186592 70.173416,125.836838 70.157204,127.180168 
	C70.085533,133.116150 70.261665,139.055130 70.261017,145.369904 
	C69.583427,151.273636 65.876236,153.040421 60.624397,153.259033 
	C57.927662,151.082581 55.583984,149.016739 53.229095,146.485504 
	C53.128471,138.345490 53.039062,130.670837 53.010124,122.530991 
	C53.028057,112.709465 52.985523,103.353119 53.006744,93.531944 
	C53.025715,83.710594 52.980930,74.354073 53.003723,64.533150 
	C53.024193,55.711559 52.977085,47.354374 53.000450,38.533947 
	C53.048756,32.401451 53.026588,26.732193 53.004421,21.062935 
z"/>
<path fill="#1D1B4F" opacity="1.000000" stroke="none" 
	d="
M466.984680,104.000000 
	C466.984680,92.344780 467.068512,81.188614 466.943604,70.034790 
	C466.893585,65.570999 468.778839,63.623856 473.225128,63.789963 
	C481.857452,64.112457 490.693939,63.221485 499.089722,64.767395 
	C518.354126,68.314537 529.397949,84.736534 527.949341,105.847656 
	C526.660156,124.634842 513.249756,138.580780 494.549622,140.104752 
	C487.436676,140.684418 480.255249,140.467773 473.104370,140.521393 
	C468.784821,140.553787 466.872101,138.379440 466.938568,133.969086 
	C467.086548,124.148056 466.984711,114.323265 466.984680,104.000000 
M494.845215,130.872498 
	C514.780945,127.254517 520.697144,107.886765 517.020081,94.224098 
	C512.021729,75.652016 497.756470,70.703644 477.825195,73.627197 
	C477.825195,92.682175 477.825195,111.721573 477.825195,130.949005 
	C483.390442,130.949005 488.674255,130.949005 494.845215,130.872498 
z"/>
<path fill="#27A5DD" opacity="1.000000" stroke="none" 
	d="
M52.659996,21.114700 
	C53.026588,26.732193 53.048756,32.401451 52.635826,38.540199 
	C51.141819,39.662556 49.782001,40.086098 49.078201,41.009594 
	C46.574730,44.294537 44.260723,47.726650 41.935688,51.144333 
	C29.929138,68.793350 17.966459,86.472351 5.893760,104.075935 
	C5.041496,105.318657 3.426679,106.038414 2.166446,107.001350 
	C2.114035,92.563713 1.571437,78.105270 2.183110,63.695820 
	C2.584808,54.232883 7.810052,46.853195 16.115751,42.018780 
	C28.150738,35.013687 40.246010,28.112165 52.659996,21.114700 
z"/>
<path fill="#1D1C50" opacity="1.000000" stroke="none" 
	d="
M347.214661,93.034798 
	C358.715393,84.341530 371.084656,83.753662 380.891144,91.636063 
	C390.013397,98.968536 393.213287,114.169228 387.988495,125.351387 
	C382.477051,137.147095 370.007355,143.074219 356.851074,140.151703 
	C344.609955,137.432480 336.204681,126.751923 336.156982,113.700829 
	C336.104645,99.388176 336.165619,85.075142 336.130524,70.762390 
	C336.121796,67.192894 336.321747,63.925209 341.100433,63.809761 
	C346.198730,63.686584 346.482635,67.225441 346.538086,70.912735 
	C346.648071,78.225624 346.721008,85.539078 347.214661,93.034798 
M351.476166,127.047363 
	C352.252014,127.674736 352.976288,128.382874 353.811890,128.916748 
	C360.667664,133.297119 369.276001,132.542221 374.979889,127.095352 
	C380.750000,121.585251 382.206879,111.695999 378.308044,104.504059 
	C374.349579,97.202011 366.936768,93.895103 358.993713,95.887733 
	C346.095856,99.123352 341.982635,114.802811 351.476166,127.047363 
z"/>
<path fill="#18164B" opacity="1.000000" stroke="none" 
	d="
M244.740417,114.233215 
	C248.909149,119.875648 252.824631,125.261185 256.806946,130.596832 
	C259.023468,133.566605 260.233093,136.826691 256.878571,139.398605 
	C253.394928,142.069565 250.842026,139.744781 248.655777,136.744995 
	C240.943848,126.163292 233.127930,115.657387 225.358475,105.132225 
	C220.068451,108.475159 217.357956,112.537102 218.058243,118.859947 
	C218.623306,123.961922 218.113907,129.177368 218.191025,134.340805 
	C218.244095,137.893127 216.795914,140.343079 213.135818,140.394073 
	C209.559036,140.443878 207.816727,138.216934 207.820343,134.587631 
	C207.841934,112.929581 207.836685,91.271492 207.823715,69.613419 
	C207.821594,66.069534 209.195145,63.829254 213.055908,63.840012 
	C216.962494,63.850895 218.195587,66.181564 218.182404,69.694534 
	C218.148819,78.634773 218.171219,87.575226 218.171219,97.436165 
	C219.874207,95.974564 220.987717,95.135666 221.966034,94.161087 
	C231.172272,84.990082 240.384491,75.824699 249.525833,66.589264 
	C251.975952,64.113907 254.905258,62.233490 257.736633,64.856537 
	C260.845551,67.736679 259.014832,70.871445 256.403900,73.456459 
	C248.480667,81.301094 240.586105,89.174675 232.406631,97.309219 
	C236.556152,103.013832 240.535614,108.484650 244.740417,114.233215 
z"/>
<path fill="#1B194E" opacity="1.000000" stroke="none" 
	d="
M546.410278,95.446869 
	C555.590576,86.277809 567.426575,83.477333 578.107971,88.328491 
	C589.229370,93.379494 594.470581,102.337410 594.206726,114.581154 
	C594.074158,120.730728 594.141174,126.885925 594.200134,133.037796 
	C594.233276,136.497253 594.391357,140.106903 589.694824,140.435333 
	C584.972229,140.765594 583.827820,137.594391 583.888184,134.616470 
	C578.478882,136.629974 572.962036,139.782883 567.115662,140.611740 
	C557.434021,141.984390 549.448792,137.658249 544.375305,129.291077 
	C538.520569,119.635277 538.299561,109.504181 543.689331,99.434074 
	C544.389526,98.125732 545.337891,96.950195 546.410278,95.446869 
M583.818298,108.310562 
	C583.481384,107.372459 583.214478,106.401894 582.796692,105.501312 
	C578.758972,96.795776 569.248230,92.954147 560.719177,96.559563 
	C551.844177,100.311226 547.554626,110.991364 551.120850,120.457619 
	C554.430908,129.243912 563.812683,133.815155 572.592224,130.919510 
	C581.170959,128.090088 585.321899,120.151619 583.818298,108.310562 
z"/>
<path fill="#1B194E" opacity="1.000000" stroke="none" 
	d="
M430.003479,140.848022 
	C418.719360,140.520111 410.024628,136.138336 405.223694,126.253311 
	C400.383881,116.288246 401.091797,106.155586 407.326294,96.850319 
	C413.546387,87.566551 426.372314,83.742546 437.605713,87.423035 
	C447.235291,90.578056 453.539856,100.221703 453.559387,111.564751 
	C453.566467,115.664742 451.525726,117.205437 447.685791,117.190903 
	C437.525757,117.152428 427.365509,117.181076 417.205322,117.182907 
	C415.586121,117.183205 413.966949,117.182953 412.309357,117.182953 
	C413.649323,128.722672 426.016541,135.244431 437.403931,130.697296 
	C439.087585,130.025009 440.596405,128.327911 442.231964,128.263077 
	C444.543762,128.171494 447.658630,128.416153 449.061401,129.853241 
	C451.323669,132.170898 449.329987,134.879547 446.905487,135.783371 
	C441.537598,137.784470 435.949951,139.196045 430.003479,140.848022 
M440.000610,99.519691 
	C434.983887,94.309898 428.899109,93.876183 422.502625,95.986710 
	C416.449036,97.984123 413.262665,102.549667 412.030853,108.852074 
	C422.815338,108.852074 433.285370,108.852074 444.803864,108.852074 
	C443.194672,105.586174 441.841064,102.838928 440.000610,99.519691 
z"/>
<path fill="#26A0D9" opacity="1.000000" stroke="none" 
	d="
M2.099712,107.465759 
	C3.426679,106.038414 5.041496,105.318657 5.893760,104.075935 
	C17.966459,86.472351 29.929138,68.793350 41.935688,51.144333 
	C44.260723,47.726650 46.574730,44.294537 49.078201,41.009594 
	C49.782001,40.086098 51.141819,39.662556 52.565353,39.003441 
	C52.977085,47.354374 53.024193,55.711559 52.660229,64.574455 
	C51.143494,66.248329 49.854168,67.291306 48.959698,68.603439 
	C35.406578,88.485176 21.945389,108.429741 8.341038,128.276215 
	C6.638000,130.760666 4.242817,132.770691 2.168337,135.000534 
	C2.123218,125.977074 2.078098,116.953621 2.099712,107.465759 
z"/>
<path fill="#2798D4" opacity="1.000000" stroke="none" 
	d="
M2.101272,135.453735 
	C4.242817,132.770691 6.638000,130.760666 8.341038,128.276215 
	C21.945389,108.429741 35.406578,88.485176 48.959698,68.603439 
	C49.854168,67.291306 51.143494,66.248329 52.592651,65.038857 
	C52.980930,74.354073 53.025715,83.710594 52.662880,93.571487 
	C50.525150,96.006439 48.560547,97.775436 47.101582,99.892838 
	C34.027557,118.867134 21.042522,137.902740 8.031322,156.920319 
	C2.700697,150.866669 1.459567,143.645905 2.101272,135.453735 
z"/>
<path fill="#211F52" opacity="1.000000" stroke="none" 
	d="
M278.975403,120.327629 
	C282.290100,130.290833 291.441956,134.327911 300.575806,130.262039 
	C305.827301,127.924370 308.512909,123.975510 308.459747,118.132172 
	C308.383942,109.800644 308.489410,101.467506 308.419769,93.135872 
	C308.387421,89.263168 309.589752,86.400345 313.950775,86.524551 
	C318.126129,86.643478 318.897247,89.635376 318.883820,93.174957 
	C318.834473,106.173035 318.876343,119.171425 318.855682,132.169662 
	C318.850739,135.283249 319.531128,139.367050 315.434784,139.899033 
	C312.877106,140.231186 310.009308,138.175705 306.644897,136.962372 
	C303.391663,138.015793 298.972076,140.240448 294.351776,140.796097 
	C279.763214,142.550476 268.816711,132.879059 268.204315,117.928001 
	C267.856781,109.443306 268.158142,100.932762 268.126526,92.434021 
	C268.113342,88.890503 269.580994,86.534828 273.305359,86.515366 
	C277.062988,86.495712 278.506195,88.937614 278.552490,92.424355 
	C278.674042,101.581551 278.796356,110.738724 278.975403,120.327629 
z"/>
<path fill="#1D1B4F" opacity="1.000000" stroke="none" 
	d="
M664.115967,99.928986 
	C662.940735,97.687119 661.934448,95.779358 660.935669,93.867630 
	C659.451538,91.027092 659.959595,88.555405 662.837891,87.146591 
	C665.640930,85.774612 667.978271,86.673492 669.436523,89.577545 
	C673.978882,98.623009 678.542969,107.657578 683.111267,116.689949 
	C684.285156,119.010963 685.506042,121.308212 687.180054,124.530014 
	C691.913635,113.898315 696.251648,104.153908 700.591125,94.410156 
	C701.266296,92.894104 702.006714,91.404106 702.615112,89.861893 
	C703.954407,86.467140 706.527649,85.879814 709.497864,87.158775 
	C712.577698,88.484924 712.721619,91.089302 711.548889,93.881470 
	C710.778503,95.715775 709.916565,97.511452 709.108215,99.330040 
	C700.214294,119.340172 691.404480,139.388672 682.303223,159.304031 
	C681.404419,161.270920 678.828613,163.532089 676.852478,163.713882 
	C673.296021,164.041061 671.472351,160.586243 672.937988,157.062683 
	C675.485229,150.938705 678.518677,145.006012 680.824402,138.798523 
	C681.614319,136.671997 681.622009,133.573151 680.639587,131.584030 
	C675.425354,121.026451 669.782593,110.680550 664.115967,99.928986 
z"/>
<path fill="#278FCE" opacity="1.000000" stroke="none" 
	d="
M8.133390,157.245178 
	C21.042522,137.902740 34.027557,118.867134 47.101582,99.892838 
	C48.560547,97.775436 50.525150,96.006439 52.599129,94.036316 
	C52.985523,103.353119 53.028057,112.709465 52.667122,122.569534 
	C50.756973,124.541733 48.976345,125.818260 47.790157,127.511284 
	C42.084183,135.655273 36.429832,143.840332 30.977148,152.155075 
	C27.728249,157.109299 24.885595,162.329910 21.860313,167.430771 
	C17.318697,164.143845 12.777079,160.856934 8.133390,157.245178 
z"/>
<path fill="#A6A7AB" opacity="1.000000" stroke="none" 
	d="
M103.998421,67.996201 
	C92.693092,78.794609 81.387764,89.593018 70.249504,100.231857 
	C70.249504,99.690613 70.249504,98.182594 70.773087,96.326584 
	C72.420517,94.879333 73.910973,93.974335 74.612091,92.651108 
	C82.477150,77.807259 90.203781,62.890141 98.002274,48.010883 
	C104.317535,35.961559 110.679955,23.936945 117.021446,11.901367 
	C120.570908,13.650585 124.120369,15.399804 127.835342,17.785522 
	C122.965828,28.158403 117.772217,37.817097 112.951088,47.658276 
	C109.695168,54.304478 106.964203,61.207859 103.998421,67.996201 
z"/>
<path fill="#AFB0B3" opacity="1.000000" stroke="none" 
	d="
M116.888191,11.589263 
	C110.679955,23.936945 104.317535,35.961559 98.002274,48.010883 
	C90.203781,62.890141 82.477150,77.807259 74.612091,92.651108 
	C73.910973,93.974335 72.420517,94.879333 70.893097,96.007721 
	C70.392014,88.327179 70.294479,80.617508 70.638321,72.439888 
	C73.030846,69.698387 75.477814,67.688934 76.852409,65.108261 
	C85.560181,48.760326 93.947525,32.241741 102.649696,15.890747 
	C104.387497,12.625508 107.028336,9.840884 109.252777,6.834644 
	C111.753494,8.315481 114.254219,9.796319 116.888191,11.589263 
z"/>
<path fill="#2882C5" opacity="1.000000" stroke="none" 
	d="
M107.612755,109.115845 
	C104.465897,105.266098 101.319038,101.416351 97.940804,97.283546 
	C98.866241,96.240585 99.708565,95.291290 101.201202,94.227585 
	C120.718567,101.738121 139.562790,109.420273 158.462830,116.962563 
	C167.196472,120.447838 176.039078,123.660065 184.832291,126.996094 
	C184.877243,130.360153 184.922211,133.724228 184.513092,137.542542 
	C183.084473,137.844116 182.039047,137.869019 181.145935,137.512436 
	C164.077820,130.697891 147.064224,123.745224 129.956604,117.031960 
	C122.605225,114.147179 115.066414,111.740005 107.612755,109.115845 
z"/>
<path fill="#2879BF" opacity="1.000000" stroke="none" 
	d="
M184.899887,126.542213 
	C176.039078,123.660065 167.196472,120.447838 158.462830,116.962563 
	C139.562790,109.420273 120.718567,101.738121 101.500488,94.084915 
	C103.562416,91.450447 105.975372,88.844223 109.063065,86.161797 
	C116.160698,88.724655 122.556473,91.432175 129.011627,93.989830 
	C147.605179,101.356934 166.222717,108.663551 184.830826,115.993935 
	C184.876373,119.358734 184.921936,122.723541 184.899887,126.542213 
z"/>
<path fill="#296EB7" opacity="1.000000" stroke="none" 
	d="
M184.898529,115.535278 
	C166.222717,108.663551 147.605179,101.356934 129.011627,93.989830 
	C122.556473,91.432175 116.160698,88.724655 109.375908,86.045914 
	C111.793411,83.086670 114.572815,80.167107 117.980263,77.256470 
	C133.975861,83.528061 149.301788,89.895828 164.730499,96.003998 
	C171.321121,98.613197 178.126114,100.680893 184.833679,102.994652 
	C184.877869,107.021973 184.922043,111.049301 184.898529,115.535278 
z"/>
<path fill="#288BCB" opacity="1.000000" stroke="none" 
	d="
M107.758598,109.437202 
	C115.066414,111.740005 122.605225,114.147179 129.956604,117.031960 
	C147.064224,123.745224 164.077820,130.697891 181.145935,137.512436 
	C182.039047,137.869019 183.084473,137.844116 184.445541,137.996262 
	C184.339844,141.786285 183.847595,145.576874 182.770691,149.639236 
	C167.152405,143.905701 152.157074,137.801544 137.063538,131.950699 
	C132.045822,130.005630 126.776085,128.710724 121.621567,127.118584 
	C117.049194,121.331909 112.476814,115.545242 107.758598,109.437202 
z"/>
<path fill="#1B194E" opacity="1.000000" stroke="none" 
	d="
M650.297119,140.424393 
	C642.226013,138.838684 637.085205,133.535004 636.962341,125.590958 
	C636.669128,106.631523 636.729004,87.663338 637.009827,68.704071 
	C637.034241,67.057213 639.465088,64.609650 641.267639,64.013290 
	C644.290710,63.013081 646.249390,65.124588 646.739502,68.214508 
	C646.945862,69.515823 646.844849,70.869476 646.845276,72.199348 
	C646.850708,88.502228 646.832336,104.805122 646.856201,121.107971 
	C646.867004,128.484604 647.453491,128.938965 654.457886,130.659927 
	C655.972351,131.032043 658.035767,133.075623 658.105164,134.438019 
	C658.192444,136.152496 656.842102,138.355057 655.444458,139.593719 
	C654.403442,140.516327 652.302124,140.242462 650.297119,140.424393 
z"/>
<path fill="#2B4FA2" opacity="1.000000" stroke="none" 
	d="
M112.210030,142.904449 
	C114.443733,145.688126 116.677429,148.471817 118.928490,151.949448 
	C109.415787,166.813568 99.849930,180.959915 90.388367,195.175659 
	C88.668320,197.759995 87.374756,200.628159 85.884308,203.365295 
	C81.927834,201.504211 77.971352,199.643112 74.114822,197.324280 
	C81.204086,186.791473 88.145538,176.682770 95.197937,166.652054 
	C100.798225,158.686676 106.534264,150.816757 112.210030,142.904449 
z"/>
<path fill="#B4B5B8" opacity="1.000000" stroke="none" 
	d="
M109.027832,6.557982 
	C107.028336,9.840884 104.387497,12.625508 102.649696,15.890747 
	C93.947525,32.241741 85.560181,48.760326 76.852409,65.108261 
	C75.477814,67.688934 73.030846,69.698387 70.735390,71.981979 
	C70.322845,64.632256 70.254608,57.272503 70.628021,49.442825 
	C72.230888,47.948524 73.769684,47.137108 74.488197,45.863079 
	C77.670334,40.220695 80.530991,34.397907 83.668617,28.729309 
	C88.478439,20.039619 93.420242,11.422983 98.306030,2.775341 
	C101.804977,3.943999 105.303932,5.112659 109.027832,6.557982 
z"/>
<path fill="#2A5CAB" opacity="1.000000" stroke="none" 
	d="
M112.017960,142.620453 
	C106.534264,150.816757 100.798225,158.686676 95.197937,166.652054 
	C88.145538,176.682770 81.204086,186.791473 73.895355,197.045151 
	C70.813133,195.732452 68.050331,194.241135 65.235458,192.148102 
	C77.640022,173.054642 90.084953,154.554962 102.588287,136.094833 
	C103.204117,135.185593 104.329407,134.621414 105.217468,133.896545 
	C107.420273,136.709854 109.623077,139.523163 112.017960,142.620453 
z"/>
<path fill="#2D3993" opacity="1.000000" stroke="none" 
	d="
M130.972076,150.907257 
	C131.036560,150.608276 131.181778,150.355698 131.967651,150.036789 
	C133.082336,149.507828 133.637085,149.091614 134.434814,148.972351 
	C135.466660,153.181122 136.255524,157.092926 136.990082,161.425842 
	C136.230667,171.546097 132.783630,180.090195 126.298508,187.396759 
	C125.359558,188.454636 124.738899,189.794983 123.970947,191.004608 
	C123.970940,191.004608 123.986931,190.980408 123.665237,190.957016 
	C122.889557,191.389160 122.435562,191.844696 121.981567,192.300232 
	C114.247398,196.213486 106.513229,200.126755 98.428223,203.634033 
	C98.399513,202.464996 98.604424,201.622238 99.061104,200.950684 
	C108.009041,187.792816 117.083481,174.719452 125.887604,161.466415 
	C128.028793,158.243225 129.300552,154.442459 130.972076,150.907257 
z"/>
<path fill="#2A61AE" opacity="1.000000" stroke="none" 
	d="
M184.900970,102.544617 
	C178.126114,100.680893 171.321121,98.613197 164.730499,96.003998 
	C149.301788,89.895828 133.975861,83.528061 118.281799,77.117188 
	C120.106140,74.743935 122.257011,72.518906 125.087570,70.153915 
	C126.711876,70.282501 127.687096,70.473267 128.596603,70.831070 
	C147.346191,78.207161 166.088287,85.602264 184.831879,92.993591 
	C184.877335,96.027260 184.922775,99.060921 184.900970,102.544617 
z"/>
<path fill="#2971B9" opacity="1.000000" stroke="none" 
	d="
M60.977455,153.369614 
	C65.876236,153.040421 69.583427,151.273636 70.601227,145.362366 
	C72.316574,143.863449 73.886711,142.949753 74.846474,141.601562 
	C80.647079,133.453354 86.308098,125.205765 92.015793,116.991417 
	C93.661247,119.094475 95.306702,121.197533 96.676727,123.688721 
	C95.902260,124.474846 95.270515,124.781311 94.923668,125.284248 
	C86.868538,136.964325 78.782333,148.623795 70.835182,160.377213 
	C65.124496,168.823029 59.607098,177.399521 54.003479,185.917725 
	C51.171738,184.373138 48.339993,182.828568 45.303291,180.698639 
	C47.929127,175.710037 50.883579,171.380264 53.555595,166.882675 
	C56.178913,162.467056 58.515205,157.880920 60.977455,153.369614 
z"/>
<path fill="#2791CF" opacity="1.000000" stroke="none" 
	d="
M121.765167,127.439392 
	C126.776085,128.710724 132.045822,130.005630 137.063538,131.950699 
	C152.157074,137.801544 167.152405,143.905701 182.545898,149.953110 
	C180.580688,153.459824 178.255646,156.924454 175.492126,160.250839 
	C174.696426,159.771133 174.398926,159.283096 173.973236,159.109528 
	C161.830276,154.158813 149.691177,149.197159 137.487823,144.399078 
	C136.546463,144.028961 135.138168,144.846390 133.727631,145.070389 
	C133.508347,145.028931 133.068756,144.951508 133.068756,144.951508 
	C129.348755,139.221069 125.628754,133.490646 121.765167,127.439392 
z"/>
<path fill="#B9BABD" opacity="1.000000" stroke="none" 
	d="
M97.955330,2.530231 
	C93.420242,11.422983 88.478439,20.039619 83.668617,28.729309 
	C80.530991,34.397907 77.670334,40.220695 74.488197,45.863079 
	C73.769684,47.137108 72.230888,47.948524 70.722992,48.983139 
	C70.270660,36.665287 70.165031,24.337191 69.972290,11.553755 
	C78.329254,5.657899 86.794754,0.284780 97.955330,2.530231 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M130.642532,151.098465 
	C129.300552,154.442459 128.028793,158.243225 125.887604,161.466415 
	C117.083481,174.719452 108.009041,187.792816 99.061104,200.950684 
	C98.604424,201.622238 98.399513,202.464996 98.038940,203.578461 
	C94.171326,203.877777 90.342148,203.826675 86.198639,203.570435 
	C87.374756,200.628159 88.668320,197.759995 90.388367,195.175659 
	C99.849930,180.959915 109.415787,166.813568 118.990738,152.285980 
	C122.861465,152.893417 126.720268,154.439987 130.642532,151.098465 
z"/>
<path fill="#2885C7" opacity="1.000000" stroke="none" 
	d="
M22.083771,167.667603 
	C24.885595,162.329910 27.728249,157.109299 30.977148,152.155075 
	C36.429832,143.840332 42.084183,135.655273 47.790157,127.511284 
	C48.976345,125.818260 50.756973,124.541733 52.606651,123.034721 
	C53.039062,130.670837 53.128471,138.345490 52.858582,146.527191 
	C50.105427,150.057144 47.494450,152.935455 45.364609,156.134125 
	C41.389664,162.103851 37.694283,168.259720 33.882568,174.338120 
	C30.024120,172.193542 26.165676,170.048981 22.083771,167.667603 
z"/>
<path fill="#2898D4" opacity="1.000000" stroke="none" 
	d="
M133.946899,145.111847 
	C135.138168,144.846390 136.546463,144.028961 137.487823,144.399078 
	C149.691177,149.197159 161.830276,154.158813 173.973236,159.109528 
	C174.398926,159.283096 174.696426,159.771133 175.227386,160.501083 
	C170.590515,163.928726 165.779938,166.967880 160.293213,169.919128 
	C152.092819,166.889053 144.568604,163.946899 137.044388,161.004761 
	C136.255524,157.092926 135.466660,153.181122 134.390854,148.622238 
	C134.051575,147.020737 133.999237,146.066284 133.946899,145.111847 
z"/>
<path fill="#16144A" opacity="1.000000" stroke="none" 
	d="
M620.169556,97.113312 
	C620.169495,109.583946 620.109558,121.572731 620.204468,133.560287 
	C620.234375,137.341003 619.437805,140.472748 615.009155,140.392960 
	C610.618347,140.313843 609.925171,137.152786 609.956665,133.394226 
	C610.065430,120.407806 610.048096,107.419609 609.968567,94.432770 
	C609.944580,90.520912 609.997681,86.588287 615.194092,86.651764 
	C620.482544,86.716370 620.277649,90.853058 620.172241,94.633018 
	C620.153748,95.298515 620.169556,95.964966 620.169556,97.113312 
z"/>
<path fill="#296AB5" opacity="1.000000" stroke="none" 
	d="
M54.254753,186.148438 
	C59.607098,177.399521 65.124496,168.823029 70.835182,160.377213 
	C78.782333,148.623795 86.868538,136.964325 94.923668,125.284248 
	C95.270515,124.781311 95.902260,124.474846 96.748489,124.025536 
	C98.359726,125.429214 99.623764,126.884224 100.744354,128.760834 
	C99.549210,130.435776 98.389320,131.614288 97.462708,132.954147 
	C88.998764,145.192673 80.480530,157.395477 72.179222,169.743881 
	C67.863998,176.162872 63.952850,182.853516 59.859177,189.421448 
	C58.074795,188.407349 56.290413,187.393250 54.254753,186.148438 
z"/>
<path fill="#2A55A6" opacity="1.000000" stroke="none" 
	d="
M184.900345,92.547958 
	C166.088287,85.602264 147.346191,78.207161 128.596603,70.831070 
	C127.687096,70.473267 126.711876,70.282501 125.382751,70.006554 
	C126.248383,67.872787 127.498505,65.746437 129.280640,63.356758 
	C141.644562,67.774460 153.444473,72.538750 165.321167,77.103195 
	C171.757416,79.576775 178.324585,81.709755 184.832687,83.996376 
	C184.878067,86.698357 184.923431,89.400345 184.900345,92.547958 
z"/>
<path fill="#2A64B1" opacity="1.000000" stroke="none" 
	d="
M60.068802,189.667664 
	C63.952850,182.853516 67.863998,176.162872 72.179222,169.743881 
	C80.480530,157.395477 88.998764,145.192673 97.462708,132.954147 
	C98.389320,131.614288 99.549210,130.435776 100.935242,129.032471 
	C102.508301,130.350113 103.747025,131.817703 105.101608,133.590912 
	C104.329407,134.621414 103.204117,135.185593 102.588287,136.094833 
	C90.084953,154.554962 77.640022,173.054642 65.042229,191.875565 
	C63.360188,191.441116 61.819309,190.677505 60.068802,189.667664 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M127.941490,57.016640 
	C125.508156,56.016991 123.074821,55.017342 120.358894,53.656868 
	C120.732880,52.566257 121.389458,51.836472 122.373611,50.981049 
	C125.073441,49.793064 127.445686,48.730721 129.988525,48.014515 
	C131.221313,49.118958 132.184525,50.122871 133.361206,50.597134 
	C143.805313,54.806549 154.254166,59.008678 164.771240,63.030830 
	C170.450012,65.202614 176.264542,67.019402 182.276001,69.220825 
	C183.332047,71.332565 184.129929,73.219818 184.927795,75.107063 
	C184.970764,75.532715 185.013718,75.958366 184.574936,76.693222 
	C182.638779,76.780884 181.081451,76.821083 179.746262,76.296219 
	C169.448227,72.248009 159.251907,67.935181 148.904221,64.021225 
	C142.018600,61.416790 134.935944,59.333305 127.941490,57.016640 
z"/>
<path fill="#297BC0" opacity="1.000000" stroke="none" 
	d="
M34.092957,174.591461 
	C37.694283,168.259720 41.389664,162.103851 45.364609,156.134125 
	C47.494450,152.935455 50.105427,150.057144 52.869797,146.992569 
	C55.583984,149.016739 57.927662,151.082581 60.624397,153.259033 
	C58.515205,157.880920 56.178913,162.467056 53.555595,166.882675 
	C50.883579,171.380264 47.929127,175.710037 45.054535,180.453033 
	C41.441605,178.810135 37.872475,176.827469 34.092957,174.591461 
z"/>
<path fill="#A0A1A4" opacity="1.000000" stroke="none" 
	d="
M122.046036,51.106689 
	C121.389458,51.836472 120.732880,52.566257 119.978256,53.576656 
	C119.880219,53.857269 119.903275,53.901428 119.623383,53.885712 
	C118.894241,54.237209 118.444992,54.604420 117.995743,54.971634 
	C113.534782,59.226894 109.073814,63.482155 104.305634,67.866806 
	C106.964203,61.207859 109.695168,54.304478 112.951088,47.658276 
	C117.772217,37.817097 122.965828,28.158403 128.058243,18.029196 
	C130.300217,18.811857 132.484787,19.987343 134.853516,21.815496 
	C133.989227,24.857271 132.969513,27.259466 131.887009,29.633022 
	C128.619781,36.796883 125.328148,43.949619 122.046036,51.106689 
z"/>
<path fill="#2A9FD8" opacity="1.000000" stroke="none" 
	d="
M136.990082,161.425842 
	C144.568604,163.946899 152.092819,166.889053 159.954803,169.989655 
	C148.424088,177.087708 136.555603,184.027313 124.329025,190.985764 
	C124.738899,189.794983 125.359558,188.454636 126.298508,187.396759 
	C132.783630,180.090195 136.230667,171.546097 136.990082,161.425842 
z"/>
<path fill="#2B4CA0" opacity="1.000000" stroke="none" 
	d="
M127.995773,57.395683 
	C134.935944,59.333305 142.018600,61.416790 148.904221,64.021225 
	C159.251907,67.935181 169.448227,72.248009 179.746262,76.296219 
	C181.081451,76.821083 182.638779,76.780884 184.496918,77.005997 
	C184.924271,79.049538 184.947937,81.089523 184.902130,83.562943 
	C178.324585,81.709755 171.757416,79.576775 165.321167,77.103195 
	C153.444473,72.538750 141.644562,67.774460 129.449554,63.053543 
	C128.740982,61.267338 128.395523,59.521030 127.995773,57.395683 
z"/>
<path fill="#9A9A9D" opacity="1.000000" stroke="none" 
	d="
M122.373611,50.981049 
	C125.328148,43.949619 128.619781,36.796883 131.887009,29.633022 
	C132.969513,27.259466 133.989227,24.857271 135.071259,22.061415 
	C137.945389,23.217421 140.785919,24.780178 143.817169,26.991543 
	C143.383224,29.324478 142.879440,31.066376 142.110214,32.681881 
	C140.136658,36.826645 138.045227,40.915283 135.694794,45.179363 
	C133.531754,46.111038 131.674835,46.889713 129.817932,47.668381 
	C127.445686,48.730721 125.073441,49.793064 122.373611,50.981049 
z"/>
<path fill="#88888E" opacity="1.000000" stroke="none" 
	d="
M152.102524,31.439873 
	C155.619293,33.396687 159.136063,35.353508 162.804764,37.954796 
	C161.528076,41.141026 160.099442,43.682785 158.272491,46.184517 
	C153.910294,45.599094 149.946396,45.053699 145.995392,44.163040 
	C148.039703,39.691803 150.071121,35.565838 152.102524,31.439873 
z"/>
<path fill="#939496" opacity="1.000000" stroke="none" 
	d="
M151.881866,31.221512 
	C150.071121,35.565838 148.039703,39.691803 145.550201,44.259666 
	C142.061707,44.809834 139.031326,44.918098 136.000931,45.026360 
	C138.045227,40.915283 140.136658,36.826645 142.110214,32.681881 
	C142.879440,31.066376 143.383224,29.324478 144.025024,27.252903 
	C146.581818,28.244822 149.121521,29.623987 151.881866,31.221512 
z"/>
<path fill="#1D1B4F" opacity="1.000000" stroke="none" 
	d="
M610.710510,66.494217 
	C614.233276,64.243706 617.689636,64.058426 619.840820,67.254417 
	C621.080994,69.096909 621.705444,72.729050 620.688293,74.356194 
	C619.504639,76.249619 616.187927,77.855148 613.859924,77.774170 
	C608.704529,77.594818 607.180603,72.092674 610.710510,66.494217 
z"/>
<path fill="#797A7C" opacity="1.000000" stroke="none" 
	d="
M173.347382,43.854877 
	C175.309052,45.793518 177.270721,47.732166 179.159332,50.412292 
	C177.687637,53.117939 176.289001,55.082096 174.604401,56.891853 
	C172.202194,54.863976 170.085938,52.990501 168.009827,50.750595 
	C169.815781,48.207737 171.581589,46.031307 173.347382,43.854877 
z"/>
<path fill="#6F6F73" opacity="1.000000" stroke="none" 
	d="
M174.890381,57.046257 
	C176.289001,55.082096 177.687637,53.117939 179.147156,50.735962 
	C183.888199,55.222645 185.215500,61.271317 185.170059,67.788528 
	C185.155228,69.915176 185.141037,72.041817 185.027161,74.637764 
	C184.129929,73.219818 183.332047,71.332565 182.237915,68.864670 
	C179.591232,64.538109 177.240799,60.792187 174.890381,57.046257 
z"/>
<path fill="#808183" opacity="1.000000" stroke="none" 
	d="
M173.134277,43.572426 
	C171.581589,46.031307 169.815781,48.207737 167.664581,50.668007 
	C164.409714,49.376083 161.540268,47.800312 158.670807,46.224545 
	C160.099442,43.682785 161.528076,41.141026 163.001221,38.227806 
	C166.337555,39.667557 169.629349,41.478767 173.134277,43.572426 
z"/>
<path fill="#2A9FD8" opacity="1.000000" stroke="none" 
	d="
M122.298279,192.227417 
	C122.435562,191.844696 122.889557,191.389160 123.679543,190.954575 
	C123.548683,191.368546 123.081833,191.761566 122.298279,192.227417 
z"/>
<path fill="#2876BB" opacity="1.000000" stroke="none" 
	d="
M91.892838,116.676514 
	C86.308098,125.205765 80.647079,133.453354 74.846474,141.601562 
	C73.886711,142.949753 72.316574,143.863449 70.688301,144.985474 
	C70.261665,139.055130 70.085533,133.116150 70.157204,127.180168 
	C70.173416,125.836838 70.704582,124.186592 71.590408,123.219704 
	C76.038002,118.365082 80.681976,113.690384 85.726357,108.466385 
	C88.039505,111.488266 89.904694,113.924934 91.892838,116.676514 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M133.727631,145.070389 
	C133.999237,146.066284 134.051575,147.020737 134.147873,148.325287 
	C133.637085,149.091614 133.082336,149.507828 132.161621,149.930267 
	C132.166840,148.515305 132.538040,147.094131 132.988998,145.312225 
	C133.068756,144.951508 133.508347,145.028931 133.727631,145.070389 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M118.302765,54.964729 
	C118.444992,54.604420 118.894241,54.237209 119.647629,53.882008 
	C119.504448,54.248619 119.057121,54.603218 118.302765,54.964729 
z"/>
<path fill="#FEFEFE" opacity="1.000000" stroke="none" 
	d="
M494.401672,130.910751 
	C488.674255,130.949005 483.390442,130.949005 477.825195,130.949005 
	C477.825195,111.721573 477.825195,92.682175 477.825195,73.627197 
	C497.756470,70.703644 512.021729,75.652016 517.020081,94.224098 
	C520.697144,107.886765 514.780945,127.254517 494.401672,130.910751 
z"/>
<path fill="#FCFCFD" opacity="1.000000" stroke="none" 
	d="
M351.216492,126.785675 
	C341.982635,114.802811 346.095856,99.123352 358.993713,95.887733 
	C366.936768,93.895103 374.349579,97.202011 378.308044,104.504059 
	C382.206879,111.695999 380.750000,121.585251 374.979889,127.095352 
	C369.276001,132.542221 360.667664,133.297119 353.811890,128.916748 
	C352.976288,128.382874 352.252014,127.674736 351.216492,126.785675 
z"/>
<path fill="#FCFCFD" opacity="1.000000" stroke="none" 
	d="
M583.895264,108.733131 
	C585.321899,120.151619 581.170959,128.090088 572.592224,130.919510 
	C563.812683,133.815155 554.430908,129.243912 551.120850,120.457619 
	C547.554626,110.991364 551.844177,100.311226 560.719177,96.559563 
	C569.248230,92.954147 578.758972,96.795776 582.796692,105.501312 
	C583.214478,106.401894 583.481384,107.372459 583.895264,108.733131 
z"/>
<path fill="#FCFCFD" opacity="1.000000" stroke="none" 
	d="
M440.244019,99.805695 
	C441.841064,102.838928 443.194672,105.586174 444.803864,108.852074 
	C433.285370,108.852074 422.815338,108.852074 412.030853,108.852074 
	C413.262665,102.549667 416.449036,97.984123 422.502625,95.986710 
	C428.899109,93.876183 434.983887,94.309898 440.244019,99.805695 
z"/>
<path fill="#2D3892" opacity="1.000000" stroke="none" 
	d="
M158.272491,46.184513 
	C161.540268,47.800312 164.409714,49.376083 167.624435,51.034439 
	C170.085938,52.990501 172.202194,54.863976 174.604401,56.891857 
	C177.240799,60.792187 179.591232,64.538109 181.979736,68.640190 
	C176.264542,67.019402 170.450012,65.202614 164.771240,63.030830 
	C154.254166,59.008678 143.805313,54.806549 133.361206,50.597134 
	C132.184525,50.122871 131.221313,49.118958 129.988525,48.014519 
	C131.674835,46.889713 133.531754,46.111038 135.694794,45.179363 
	C139.031326,44.918098 142.061707,44.809834 145.537308,44.604939 
	C149.946396,45.053699 153.910294,45.599094 158.272491,46.184513 
z"/>
</svg>
                    
                </div>
                <div class="big">
                    
                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="100%" viewBox="0 0 712 205" enable-background="new 0 0 712 205" xml:space="preserve">
<path fill="#FEFEFF" opacity="1.000000" stroke="none" 
	d="
M471.000000,206.000000 
	C314.000000,206.000000 157.500000,206.000000 1.000000,206.000000 
	C1.000000,137.666672 1.000000,69.333336 1.000000,1.000000 
	C238.333328,1.000000 475.666656,1.000000 713.000000,1.000000 
	C713.000000,69.333336 713.000000,137.666672 713.000000,206.000000 
	C632.500000,206.000000 552.000000,206.000000 471.000000,206.000000 
M172.921143,43.289974 
	C169.629349,41.478767 166.337555,39.667557 162.652832,37.310326 
	C159.136063,35.353508 155.619293,33.396687 151.661224,31.003151 
	C149.121521,29.623987 146.581818,28.244822 143.626434,26.342934 
	C140.785919,24.780178 137.945389,23.217421 134.669373,21.162828 
	C132.484787,19.987343 130.300217,18.811857 127.669830,17.149023 
	C124.120369,15.399804 120.570908,13.650585 116.754936,11.277157 
	C114.254219,9.796319 111.753494,8.315481 108.802879,6.281318 
	C105.303932,5.112659 101.804977,3.943999 97.604622,2.285120 
	C86.794754,0.284780 78.329254,5.657899 69.239975,11.287532 
	C63.828121,14.545999 58.416271,17.804466 52.315567,21.166466 
	C40.246010,28.112165 28.150738,35.013687 16.115751,42.018780 
	C7.810052,46.853195 2.584808,54.232883 2.183110,63.695820 
	C1.571437,78.105270 2.114035,92.563713 2.032978,107.930161 
	C2.078098,116.953621 2.123218,125.977074 2.034208,135.906921 
	C1.459567,143.645905 2.700697,150.866669 8.235461,157.570023 
	C12.777079,160.856934 17.318697,164.143845 22.307230,167.904419 
	C26.165676,170.048981 30.024120,172.193542 34.303345,174.844818 
	C37.872475,176.827469 41.441605,178.810135 45.508247,181.283981 
	C48.339993,182.828568 51.171738,184.373138 54.506035,186.379150 
	C56.290413,187.393250 58.074795,188.407349 60.278427,189.913879 
	C61.819309,190.677505 63.360188,191.441116 65.287529,192.749817 
	C68.050331,194.241135 70.813133,195.732452 74.014877,197.782028 
	C77.971352,199.643112 81.927834,201.504211 86.512970,203.775558 
	C90.342148,203.826675 94.171326,203.877777 98.779060,204.040009 
	C106.513229,200.126755 114.247398,196.213486 122.614990,192.154587 
	C123.081833,191.761566 123.548683,191.368546 123.986931,190.980408 
	C123.986931,190.980408 123.970940,191.004608 124.687111,190.966919 
	C136.555603,184.027313 148.424088,177.087708 160.969360,170.007034 
	C165.779938,166.967880 170.590515,163.928726 175.930603,160.389084 
	C178.255646,156.924454 180.580688,153.459824 183.355347,149.367447 
	C183.847595,145.576874 184.339844,141.786285 184.967178,137.088287 
	C184.922211,133.724228 184.877243,130.360153 184.967484,126.088341 
	C184.921936,122.723541 184.876373,119.358734 184.966217,115.076622 
	C184.922043,111.049301 184.877869,107.021973 184.968231,102.094589 
	C184.922775,99.060921 184.877335,96.027260 184.968811,92.102325 
	C184.923431,89.400345 184.878067,86.698357 184.971588,83.129501 
	C184.947937,81.089523 184.924271,79.049538 185.056671,76.384018 
	C185.013718,75.958366 184.970764,75.532715 185.126541,74.168465 
	C185.141037,72.041817 185.155228,69.915176 185.170059,67.788528 
	C185.215500,61.271317 183.888199,55.222645 179.232391,49.670811 
	C177.270721,47.732166 175.309052,45.793518 172.921143,43.289974 
M466.984680,104.500000 
	C466.984711,114.323265 467.086548,124.148056 466.938568,133.969086 
	C466.872101,138.379440 468.784821,140.553787 473.104370,140.521393 
	C480.255249,140.467773 487.436676,140.684418 494.549622,140.104752 
	C513.249756,138.580780 526.660156,124.634842 527.949341,105.847656 
	C529.397949,84.736534 518.354126,68.314537 499.089722,64.767395 
	C490.693939,63.221485 481.857452,64.112457 473.225128,63.789963 
	C468.778839,63.623856 466.893585,65.570999 466.943604,70.034790 
	C467.068512,81.188614 466.984680,92.344780 466.984680,104.500000 
M346.809235,92.852295 
	C346.721008,85.539078 346.648071,78.225624 346.538086,70.912735 
	C346.482635,67.225441 346.198730,63.686584 341.100433,63.809761 
	C336.321747,63.925209 336.121796,67.192894 336.130524,70.762390 
	C336.165619,85.075142 336.104645,99.388176 336.156982,113.700829 
	C336.204681,126.751923 344.609955,137.432480 356.851074,140.151703 
	C370.007355,143.074219 382.477051,137.147095 387.988495,125.351387 
	C393.213287,114.169228 390.013397,98.968536 380.891144,91.636063 
	C371.084656,83.753662 358.715393,84.341530 346.809235,92.852295 
M244.515076,113.955460 
	C240.535614,108.484650 236.556152,103.013832 232.406631,97.309219 
	C240.586105,89.174675 248.480667,81.301094 256.403900,73.456459 
	C259.014832,70.871445 260.845551,67.736679 257.736633,64.856537 
	C254.905258,62.233490 251.975952,64.113907 249.525833,66.589264 
	C240.384491,75.824699 231.172272,84.990082 221.966034,94.161087 
	C220.987717,95.135666 219.874207,95.974564 218.171219,97.436165 
	C218.171219,87.575226 218.148819,78.634773 218.182404,69.694534 
	C218.195587,66.181564 216.962494,63.850895 213.055908,63.840012 
	C209.195145,63.829254 207.821594,66.069534 207.823715,69.613419 
	C207.836685,91.271492 207.841934,112.929581 207.820343,134.587631 
	C207.816727,138.216934 209.559036,140.443878 213.135818,140.394073 
	C216.795914,140.343079 218.244095,137.893127 218.191025,134.340805 
	C218.113907,129.177368 218.623306,123.961922 218.058243,118.859947 
	C217.357956,112.537102 220.068451,108.475159 225.358475,105.132225 
	C233.127930,115.657387 240.943848,126.163292 248.655777,136.744995 
	C250.842026,139.744781 253.394928,142.069565 256.878571,139.398605 
	C260.233093,136.826691 259.023468,133.566605 256.806946,130.596832 
	C252.824631,125.261185 248.909149,119.875648 244.515076,113.955460 
M546.171326,95.713150 
	C545.337891,96.950195 544.389526,98.125732 543.689331,99.434074 
	C538.299561,109.504181 538.520569,119.635277 544.375305,129.291077 
	C549.448792,137.658249 557.434021,141.984390 567.115662,140.611740 
	C572.962036,139.782883 578.478882,136.629974 583.888184,134.616470 
	C583.827820,137.594391 584.972229,140.765594 589.694824,140.435333 
	C594.391357,140.106903 594.233276,136.497253 594.200134,133.037796 
	C594.141174,126.885925 594.074158,120.730728 594.206726,114.581154 
	C594.470581,102.337410 589.229370,93.379494 578.107971,88.328491 
	C567.426575,83.477333 555.590576,86.277809 546.171326,95.713150 
M430.451935,140.848038 
	C435.949951,139.196045 441.537598,137.784470 446.905487,135.783371 
	C449.329987,134.879547 451.323669,132.170898 449.061401,129.853241 
	C447.658630,128.416153 444.543762,128.171494 442.231964,128.263077 
	C440.596405,128.327911 439.087585,130.025009 437.403931,130.697296 
	C426.016541,135.244431 413.649323,128.722672 412.309357,117.182953 
	C413.966949,117.182953 415.586121,117.183205 417.205322,117.182907 
	C427.365509,117.181076 437.525757,117.152428 447.685791,117.190903 
	C451.525726,117.205437 453.566467,115.664742 453.559387,111.564751 
	C453.539856,100.221703 447.235291,90.578056 437.605713,87.423035 
	C426.372314,83.742546 413.546387,87.566551 407.326294,96.850319 
	C401.091797,106.155586 400.383881,116.288246 405.223694,126.253311 
	C410.024628,136.138336 418.719360,140.520111 430.451935,140.848038 
M278.918396,119.895912 
	C278.796356,110.738724 278.674042,101.581551 278.552490,92.424355 
	C278.506195,88.937614 277.062988,86.495712 273.305359,86.515366 
	C269.580994,86.534828 268.113342,88.890503 268.126526,92.434021 
	C268.158142,100.932762 267.856781,109.443306 268.204315,117.928001 
	C268.816711,132.879059 279.763214,142.550476 294.351776,140.796097 
	C298.972076,140.240448 303.391663,138.015793 306.644897,136.962372 
	C310.009308,138.175705 312.877106,140.231186 315.434784,139.899033 
	C319.531128,139.367050 318.850739,135.283249 318.855682,132.169662 
	C318.876343,119.171425 318.834473,106.173035 318.883820,93.174957 
	C318.897247,89.635376 318.126129,86.643478 313.950775,86.524551 
	C309.589752,86.400345 308.387421,89.263168 308.419769,93.135872 
	C308.489410,101.467506 308.383942,109.800644 308.459747,118.132172 
	C308.512909,123.975510 305.827301,127.924370 300.575806,130.262039 
	C291.441956,134.327911 282.290100,130.290833 278.918396,119.895912 
M664.288208,100.261322 
	C669.782593,110.680550 675.425354,121.026451 680.639587,131.584030 
	C681.622009,133.573151 681.614319,136.671997 680.824402,138.798523 
	C678.518677,145.006012 675.485229,150.938705 672.937988,157.062683 
	C671.472351,160.586243 673.296021,164.041061 676.852478,163.713882 
	C678.828613,163.532089 681.404419,161.270920 682.303223,159.304031 
	C691.404480,139.388672 700.214294,119.340172 709.108215,99.330040 
	C709.916565,97.511452 710.778503,95.715775 711.548889,93.881470 
	C712.721619,91.089302 712.577698,88.484924 709.497864,87.158775 
	C706.527649,85.879814 703.954407,86.467140 702.615112,89.861893 
	C702.006714,91.404106 701.266296,92.894104 700.591125,94.410156 
	C696.251648,104.153908 691.913635,113.898315 687.180054,124.530014 
	C685.506042,121.308212 684.285156,119.010963 683.111267,116.689949 
	C678.542969,107.657578 673.978882,98.623009 669.436523,89.577545 
	C667.978271,86.673492 665.640930,85.774612 662.837891,87.146591 
	C659.959595,88.555405 659.451538,91.027092 660.935669,93.867630 
	C661.934448,95.779358 662.940735,97.687119 664.288208,100.261322 
M650.672974,140.501450 
	C652.302124,140.242462 654.403442,140.516327 655.444458,139.593719 
	C656.842102,138.355057 658.192444,136.152496 658.105164,134.438019 
	C658.035767,133.075623 655.972351,131.032043 654.457886,130.659927 
	C647.453491,128.938965 646.867004,128.484604 646.856201,121.107971 
	C646.832336,104.805122 646.850708,88.502228 646.845276,72.199348 
	C646.844849,70.869476 646.945862,69.515823 646.739502,68.214508 
	C646.249390,65.124588 644.290710,63.013081 641.267639,64.013290 
	C639.465088,64.609650 637.034241,67.057213 637.009827,68.704071 
	C636.729004,87.663338 636.669128,106.631523 636.962341,125.590958 
	C637.085205,133.535004 642.226013,138.838684 650.672974,140.501450 
M620.169556,96.630981 
	C620.169556,95.964966 620.153748,95.298515 620.172241,94.633018 
	C620.277649,90.853058 620.482544,86.716370 615.194092,86.651764 
	C609.997681,86.588287 609.944580,90.520912 609.968567,94.432770 
	C610.048096,107.419609 610.065430,120.407806 609.956665,133.394226 
	C609.925171,137.152786 610.618347,140.313843 615.009155,140.392960 
	C619.437805,140.472748 620.234375,137.341003 620.204468,133.560287 
	C620.109558,121.572731 620.169495,109.583946 620.169556,96.630981 
M610.420105,66.748589 
	C607.180603,72.092674 608.704529,77.594818 613.859924,77.774170 
	C616.187927,77.855148 619.504639,76.249619 620.688293,74.356194 
	C621.705444,72.729050 621.080994,69.096909 619.840820,67.254417 
	C617.689636,64.058426 614.233276,64.243706 610.420105,66.748589 
z"/>
<path fill="#16154B" opacity="1.000000" stroke="none" 
	d="
M53.004421,21.062935 
	C58.416271,17.804466 63.828121,14.545999 69.649689,11.648314 
	C70.165031,24.337191 70.270660,36.665287 70.281326,49.453068 
	C70.254608,57.272503 70.322845,64.632256 70.294022,72.449921 
	C70.294479,80.617508 70.392014,88.327179 70.369522,96.355721 
	C70.249504,98.182594 70.249504,99.690613 70.249504,100.231857 
	C81.387764,89.593018 92.693092,78.794609 104.305634,67.866806 
	C109.073814,63.482155 113.534782,59.226894 118.302765,54.964729 
	C119.057121,54.603218 119.504448,54.248619 119.927521,53.897720 
	C119.903275,53.901428 119.880219,53.857269 120.260849,53.937481 
	C123.074821,55.017342 125.508156,56.016991 127.995773,57.395676 
	C128.395523,59.521030 128.740982,61.267338 128.917542,63.316864 
	C127.498505,65.746437 126.248383,67.872787 124.703072,70.146515 
	C122.257011,72.518906 120.106140,74.743935 117.653748,77.108261 
	C114.572815,80.167107 111.793411,83.086670 108.701172,86.122116 
	C105.975372,88.844223 103.562416,91.450447 100.850174,94.199341 
	C99.708565,95.291290 98.866241,96.240585 97.940804,97.283546 
	C101.319038,101.416351 104.465897,105.266098 107.758598,109.437210 
	C112.476814,115.545242 117.049194,121.331909 121.765167,127.439392 
	C125.628754,133.490646 129.348755,139.221069 132.988998,145.312225 
	C132.538040,147.094131 132.166840,148.515305 131.601685,150.043015 
	C131.181778,150.355698 131.036560,150.608276 130.642517,151.098465 
	C126.720268,154.439987 122.861465,152.893417 118.973373,151.592010 
	C116.677429,148.471817 114.443733,145.688126 112.017960,142.620453 
	C109.623077,139.523163 107.420273,136.709854 105.101608,133.590912 
	C103.747025,131.817703 102.508301,130.350113 101.078690,128.610870 
	C99.623764,126.884224 98.359726,125.429214 97.023926,123.637390 
	C95.306702,121.197533 93.661247,119.094475 91.892838,116.676514 
	C89.904694,113.924934 88.039505,111.488266 85.726357,108.466385 
	C80.681976,113.690384 76.038002,118.365082 71.590408,123.219704 
	C70.704582,124.186592 70.173416,125.836838 70.157204,127.180168 
	C70.085533,133.116150 70.261665,139.055130 70.261017,145.369904 
	C69.583427,151.273636 65.876236,153.040421 60.624397,153.259033 
	C57.927662,151.082581 55.583984,149.016739 53.229095,146.485504 
	C53.128471,138.345490 53.039062,130.670837 53.010124,122.530991 
	C53.028057,112.709465 52.985523,103.353119 53.006744,93.531944 
	C53.025715,83.710594 52.980930,74.354073 53.003723,64.533150 
	C53.024193,55.711559 52.977085,47.354374 53.000450,38.533947 
	C53.048756,32.401451 53.026588,26.732193 53.004421,21.062935 
z"/>
<path fill="#1D1B4F" opacity="1.000000" stroke="none" 
	d="
M466.984680,104.000000 
	C466.984680,92.344780 467.068512,81.188614 466.943604,70.034790 
	C466.893585,65.570999 468.778839,63.623856 473.225128,63.789963 
	C481.857452,64.112457 490.693939,63.221485 499.089722,64.767395 
	C518.354126,68.314537 529.397949,84.736534 527.949341,105.847656 
	C526.660156,124.634842 513.249756,138.580780 494.549622,140.104752 
	C487.436676,140.684418 480.255249,140.467773 473.104370,140.521393 
	C468.784821,140.553787 466.872101,138.379440 466.938568,133.969086 
	C467.086548,124.148056 466.984711,114.323265 466.984680,104.000000 
M494.845215,130.872498 
	C514.780945,127.254517 520.697144,107.886765 517.020081,94.224098 
	C512.021729,75.652016 497.756470,70.703644 477.825195,73.627197 
	C477.825195,92.682175 477.825195,111.721573 477.825195,130.949005 
	C483.390442,130.949005 488.674255,130.949005 494.845215,130.872498 
z"/>
<path fill="#27A5DD" opacity="1.000000" stroke="none" 
	d="
M52.659996,21.114700 
	C53.026588,26.732193 53.048756,32.401451 52.635826,38.540199 
	C51.141819,39.662556 49.782001,40.086098 49.078201,41.009594 
	C46.574730,44.294537 44.260723,47.726650 41.935688,51.144333 
	C29.929138,68.793350 17.966459,86.472351 5.893760,104.075935 
	C5.041496,105.318657 3.426679,106.038414 2.166446,107.001350 
	C2.114035,92.563713 1.571437,78.105270 2.183110,63.695820 
	C2.584808,54.232883 7.810052,46.853195 16.115751,42.018780 
	C28.150738,35.013687 40.246010,28.112165 52.659996,21.114700 
z"/>
<path fill="#1D1C50" opacity="1.000000" stroke="none" 
	d="
M347.214661,93.034798 
	C358.715393,84.341530 371.084656,83.753662 380.891144,91.636063 
	C390.013397,98.968536 393.213287,114.169228 387.988495,125.351387 
	C382.477051,137.147095 370.007355,143.074219 356.851074,140.151703 
	C344.609955,137.432480 336.204681,126.751923 336.156982,113.700829 
	C336.104645,99.388176 336.165619,85.075142 336.130524,70.762390 
	C336.121796,67.192894 336.321747,63.925209 341.100433,63.809761 
	C346.198730,63.686584 346.482635,67.225441 346.538086,70.912735 
	C346.648071,78.225624 346.721008,85.539078 347.214661,93.034798 
M351.476166,127.047363 
	C352.252014,127.674736 352.976288,128.382874 353.811890,128.916748 
	C360.667664,133.297119 369.276001,132.542221 374.979889,127.095352 
	C380.750000,121.585251 382.206879,111.695999 378.308044,104.504059 
	C374.349579,97.202011 366.936768,93.895103 358.993713,95.887733 
	C346.095856,99.123352 341.982635,114.802811 351.476166,127.047363 
z"/>
<path fill="#18164B" opacity="1.000000" stroke="none" 
	d="
M244.740417,114.233215 
	C248.909149,119.875648 252.824631,125.261185 256.806946,130.596832 
	C259.023468,133.566605 260.233093,136.826691 256.878571,139.398605 
	C253.394928,142.069565 250.842026,139.744781 248.655777,136.744995 
	C240.943848,126.163292 233.127930,115.657387 225.358475,105.132225 
	C220.068451,108.475159 217.357956,112.537102 218.058243,118.859947 
	C218.623306,123.961922 218.113907,129.177368 218.191025,134.340805 
	C218.244095,137.893127 216.795914,140.343079 213.135818,140.394073 
	C209.559036,140.443878 207.816727,138.216934 207.820343,134.587631 
	C207.841934,112.929581 207.836685,91.271492 207.823715,69.613419 
	C207.821594,66.069534 209.195145,63.829254 213.055908,63.840012 
	C216.962494,63.850895 218.195587,66.181564 218.182404,69.694534 
	C218.148819,78.634773 218.171219,87.575226 218.171219,97.436165 
	C219.874207,95.974564 220.987717,95.135666 221.966034,94.161087 
	C231.172272,84.990082 240.384491,75.824699 249.525833,66.589264 
	C251.975952,64.113907 254.905258,62.233490 257.736633,64.856537 
	C260.845551,67.736679 259.014832,70.871445 256.403900,73.456459 
	C248.480667,81.301094 240.586105,89.174675 232.406631,97.309219 
	C236.556152,103.013832 240.535614,108.484650 244.740417,114.233215 
z"/>
<path fill="#1B194E" opacity="1.000000" stroke="none" 
	d="
M546.410278,95.446869 
	C555.590576,86.277809 567.426575,83.477333 578.107971,88.328491 
	C589.229370,93.379494 594.470581,102.337410 594.206726,114.581154 
	C594.074158,120.730728 594.141174,126.885925 594.200134,133.037796 
	C594.233276,136.497253 594.391357,140.106903 589.694824,140.435333 
	C584.972229,140.765594 583.827820,137.594391 583.888184,134.616470 
	C578.478882,136.629974 572.962036,139.782883 567.115662,140.611740 
	C557.434021,141.984390 549.448792,137.658249 544.375305,129.291077 
	C538.520569,119.635277 538.299561,109.504181 543.689331,99.434074 
	C544.389526,98.125732 545.337891,96.950195 546.410278,95.446869 
M583.818298,108.310562 
	C583.481384,107.372459 583.214478,106.401894 582.796692,105.501312 
	C578.758972,96.795776 569.248230,92.954147 560.719177,96.559563 
	C551.844177,100.311226 547.554626,110.991364 551.120850,120.457619 
	C554.430908,129.243912 563.812683,133.815155 572.592224,130.919510 
	C581.170959,128.090088 585.321899,120.151619 583.818298,108.310562 
z"/>
<path fill="#1B194E" opacity="1.000000" stroke="none" 
	d="
M430.003479,140.848022 
	C418.719360,140.520111 410.024628,136.138336 405.223694,126.253311 
	C400.383881,116.288246 401.091797,106.155586 407.326294,96.850319 
	C413.546387,87.566551 426.372314,83.742546 437.605713,87.423035 
	C447.235291,90.578056 453.539856,100.221703 453.559387,111.564751 
	C453.566467,115.664742 451.525726,117.205437 447.685791,117.190903 
	C437.525757,117.152428 427.365509,117.181076 417.205322,117.182907 
	C415.586121,117.183205 413.966949,117.182953 412.309357,117.182953 
	C413.649323,128.722672 426.016541,135.244431 437.403931,130.697296 
	C439.087585,130.025009 440.596405,128.327911 442.231964,128.263077 
	C444.543762,128.171494 447.658630,128.416153 449.061401,129.853241 
	C451.323669,132.170898 449.329987,134.879547 446.905487,135.783371 
	C441.537598,137.784470 435.949951,139.196045 430.003479,140.848022 
M440.000610,99.519691 
	C434.983887,94.309898 428.899109,93.876183 422.502625,95.986710 
	C416.449036,97.984123 413.262665,102.549667 412.030853,108.852074 
	C422.815338,108.852074 433.285370,108.852074 444.803864,108.852074 
	C443.194672,105.586174 441.841064,102.838928 440.000610,99.519691 
z"/>
<path fill="#26A0D9" opacity="1.000000" stroke="none" 
	d="
M2.099712,107.465759 
	C3.426679,106.038414 5.041496,105.318657 5.893760,104.075935 
	C17.966459,86.472351 29.929138,68.793350 41.935688,51.144333 
	C44.260723,47.726650 46.574730,44.294537 49.078201,41.009594 
	C49.782001,40.086098 51.141819,39.662556 52.565353,39.003441 
	C52.977085,47.354374 53.024193,55.711559 52.660229,64.574455 
	C51.143494,66.248329 49.854168,67.291306 48.959698,68.603439 
	C35.406578,88.485176 21.945389,108.429741 8.341038,128.276215 
	C6.638000,130.760666 4.242817,132.770691 2.168337,135.000534 
	C2.123218,125.977074 2.078098,116.953621 2.099712,107.465759 
z"/>
<path fill="#2798D4" opacity="1.000000" stroke="none" 
	d="
M2.101272,135.453735 
	C4.242817,132.770691 6.638000,130.760666 8.341038,128.276215 
	C21.945389,108.429741 35.406578,88.485176 48.959698,68.603439 
	C49.854168,67.291306 51.143494,66.248329 52.592651,65.038857 
	C52.980930,74.354073 53.025715,83.710594 52.662880,93.571487 
	C50.525150,96.006439 48.560547,97.775436 47.101582,99.892838 
	C34.027557,118.867134 21.042522,137.902740 8.031322,156.920319 
	C2.700697,150.866669 1.459567,143.645905 2.101272,135.453735 
z"/>
<path fill="#211F52" opacity="1.000000" stroke="none" 
	d="
M278.975403,120.327629 
	C282.290100,130.290833 291.441956,134.327911 300.575806,130.262039 
	C305.827301,127.924370 308.512909,123.975510 308.459747,118.132172 
	C308.383942,109.800644 308.489410,101.467506 308.419769,93.135872 
	C308.387421,89.263168 309.589752,86.400345 313.950775,86.524551 
	C318.126129,86.643478 318.897247,89.635376 318.883820,93.174957 
	C318.834473,106.173035 318.876343,119.171425 318.855682,132.169662 
	C318.850739,135.283249 319.531128,139.367050 315.434784,139.899033 
	C312.877106,140.231186 310.009308,138.175705 306.644897,136.962372 
	C303.391663,138.015793 298.972076,140.240448 294.351776,140.796097 
	C279.763214,142.550476 268.816711,132.879059 268.204315,117.928001 
	C267.856781,109.443306 268.158142,100.932762 268.126526,92.434021 
	C268.113342,88.890503 269.580994,86.534828 273.305359,86.515366 
	C277.062988,86.495712 278.506195,88.937614 278.552490,92.424355 
	C278.674042,101.581551 278.796356,110.738724 278.975403,120.327629 
z"/>
<path fill="#1D1B4F" opacity="1.000000" stroke="none" 
	d="
M664.115967,99.928986 
	C662.940735,97.687119 661.934448,95.779358 660.935669,93.867630 
	C659.451538,91.027092 659.959595,88.555405 662.837891,87.146591 
	C665.640930,85.774612 667.978271,86.673492 669.436523,89.577545 
	C673.978882,98.623009 678.542969,107.657578 683.111267,116.689949 
	C684.285156,119.010963 685.506042,121.308212 687.180054,124.530014 
	C691.913635,113.898315 696.251648,104.153908 700.591125,94.410156 
	C701.266296,92.894104 702.006714,91.404106 702.615112,89.861893 
	C703.954407,86.467140 706.527649,85.879814 709.497864,87.158775 
	C712.577698,88.484924 712.721619,91.089302 711.548889,93.881470 
	C710.778503,95.715775 709.916565,97.511452 709.108215,99.330040 
	C700.214294,119.340172 691.404480,139.388672 682.303223,159.304031 
	C681.404419,161.270920 678.828613,163.532089 676.852478,163.713882 
	C673.296021,164.041061 671.472351,160.586243 672.937988,157.062683 
	C675.485229,150.938705 678.518677,145.006012 680.824402,138.798523 
	C681.614319,136.671997 681.622009,133.573151 680.639587,131.584030 
	C675.425354,121.026451 669.782593,110.680550 664.115967,99.928986 
z"/>
<path fill="#278FCE" opacity="1.000000" stroke="none" 
	d="
M8.133390,157.245178 
	C21.042522,137.902740 34.027557,118.867134 47.101582,99.892838 
	C48.560547,97.775436 50.525150,96.006439 52.599129,94.036316 
	C52.985523,103.353119 53.028057,112.709465 52.667122,122.569534 
	C50.756973,124.541733 48.976345,125.818260 47.790157,127.511284 
	C42.084183,135.655273 36.429832,143.840332 30.977148,152.155075 
	C27.728249,157.109299 24.885595,162.329910 21.860313,167.430771 
	C17.318697,164.143845 12.777079,160.856934 8.133390,157.245178 
z"/>
<path fill="#A6A7AB" opacity="1.000000" stroke="none" 
	d="
M103.998421,67.996201 
	C92.693092,78.794609 81.387764,89.593018 70.249504,100.231857 
	C70.249504,99.690613 70.249504,98.182594 70.773087,96.326584 
	C72.420517,94.879333 73.910973,93.974335 74.612091,92.651108 
	C82.477150,77.807259 90.203781,62.890141 98.002274,48.010883 
	C104.317535,35.961559 110.679955,23.936945 117.021446,11.901367 
	C120.570908,13.650585 124.120369,15.399804 127.835342,17.785522 
	C122.965828,28.158403 117.772217,37.817097 112.951088,47.658276 
	C109.695168,54.304478 106.964203,61.207859 103.998421,67.996201 
z"/>
<path fill="#AFB0B3" opacity="1.000000" stroke="none" 
	d="
M116.888191,11.589263 
	C110.679955,23.936945 104.317535,35.961559 98.002274,48.010883 
	C90.203781,62.890141 82.477150,77.807259 74.612091,92.651108 
	C73.910973,93.974335 72.420517,94.879333 70.893097,96.007721 
	C70.392014,88.327179 70.294479,80.617508 70.638321,72.439888 
	C73.030846,69.698387 75.477814,67.688934 76.852409,65.108261 
	C85.560181,48.760326 93.947525,32.241741 102.649696,15.890747 
	C104.387497,12.625508 107.028336,9.840884 109.252777,6.834644 
	C111.753494,8.315481 114.254219,9.796319 116.888191,11.589263 
z"/>
<path fill="#2882C5" opacity="1.000000" stroke="none" 
	d="
M107.612755,109.115845 
	C104.465897,105.266098 101.319038,101.416351 97.940804,97.283546 
	C98.866241,96.240585 99.708565,95.291290 101.201202,94.227585 
	C120.718567,101.738121 139.562790,109.420273 158.462830,116.962563 
	C167.196472,120.447838 176.039078,123.660065 184.832291,126.996094 
	C184.877243,130.360153 184.922211,133.724228 184.513092,137.542542 
	C183.084473,137.844116 182.039047,137.869019 181.145935,137.512436 
	C164.077820,130.697891 147.064224,123.745224 129.956604,117.031960 
	C122.605225,114.147179 115.066414,111.740005 107.612755,109.115845 
z"/>
<path fill="#2879BF" opacity="1.000000" stroke="none" 
	d="
M184.899887,126.542213 
	C176.039078,123.660065 167.196472,120.447838 158.462830,116.962563 
	C139.562790,109.420273 120.718567,101.738121 101.500488,94.084915 
	C103.562416,91.450447 105.975372,88.844223 109.063065,86.161797 
	C116.160698,88.724655 122.556473,91.432175 129.011627,93.989830 
	C147.605179,101.356934 166.222717,108.663551 184.830826,115.993935 
	C184.876373,119.358734 184.921936,122.723541 184.899887,126.542213 
z"/>
<path fill="#296EB7" opacity="1.000000" stroke="none" 
	d="
M184.898529,115.535278 
	C166.222717,108.663551 147.605179,101.356934 129.011627,93.989830 
	C122.556473,91.432175 116.160698,88.724655 109.375908,86.045914 
	C111.793411,83.086670 114.572815,80.167107 117.980263,77.256470 
	C133.975861,83.528061 149.301788,89.895828 164.730499,96.003998 
	C171.321121,98.613197 178.126114,100.680893 184.833679,102.994652 
	C184.877869,107.021973 184.922043,111.049301 184.898529,115.535278 
z"/>
<path fill="#288BCB" opacity="1.000000" stroke="none" 
	d="
M107.758598,109.437202 
	C115.066414,111.740005 122.605225,114.147179 129.956604,117.031960 
	C147.064224,123.745224 164.077820,130.697891 181.145935,137.512436 
	C182.039047,137.869019 183.084473,137.844116 184.445541,137.996262 
	C184.339844,141.786285 183.847595,145.576874 182.770691,149.639236 
	C167.152405,143.905701 152.157074,137.801544 137.063538,131.950699 
	C132.045822,130.005630 126.776085,128.710724 121.621567,127.118584 
	C117.049194,121.331909 112.476814,115.545242 107.758598,109.437202 
z"/>
<path fill="#1B194E" opacity="1.000000" stroke="none" 
	d="
M650.297119,140.424393 
	C642.226013,138.838684 637.085205,133.535004 636.962341,125.590958 
	C636.669128,106.631523 636.729004,87.663338 637.009827,68.704071 
	C637.034241,67.057213 639.465088,64.609650 641.267639,64.013290 
	C644.290710,63.013081 646.249390,65.124588 646.739502,68.214508 
	C646.945862,69.515823 646.844849,70.869476 646.845276,72.199348 
	C646.850708,88.502228 646.832336,104.805122 646.856201,121.107971 
	C646.867004,128.484604 647.453491,128.938965 654.457886,130.659927 
	C655.972351,131.032043 658.035767,133.075623 658.105164,134.438019 
	C658.192444,136.152496 656.842102,138.355057 655.444458,139.593719 
	C654.403442,140.516327 652.302124,140.242462 650.297119,140.424393 
z"/>
<path fill="#2B4FA2" opacity="1.000000" stroke="none" 
	d="
M112.210030,142.904449 
	C114.443733,145.688126 116.677429,148.471817 118.928490,151.949448 
	C109.415787,166.813568 99.849930,180.959915 90.388367,195.175659 
	C88.668320,197.759995 87.374756,200.628159 85.884308,203.365295 
	C81.927834,201.504211 77.971352,199.643112 74.114822,197.324280 
	C81.204086,186.791473 88.145538,176.682770 95.197937,166.652054 
	C100.798225,158.686676 106.534264,150.816757 112.210030,142.904449 
z"/>
<path fill="#B4B5B8" opacity="1.000000" stroke="none" 
	d="
M109.027832,6.557982 
	C107.028336,9.840884 104.387497,12.625508 102.649696,15.890747 
	C93.947525,32.241741 85.560181,48.760326 76.852409,65.108261 
	C75.477814,67.688934 73.030846,69.698387 70.735390,71.981979 
	C70.322845,64.632256 70.254608,57.272503 70.628021,49.442825 
	C72.230888,47.948524 73.769684,47.137108 74.488197,45.863079 
	C77.670334,40.220695 80.530991,34.397907 83.668617,28.729309 
	C88.478439,20.039619 93.420242,11.422983 98.306030,2.775341 
	C101.804977,3.943999 105.303932,5.112659 109.027832,6.557982 
z"/>
<path fill="#2A5CAB" opacity="1.000000" stroke="none" 
	d="
M112.017960,142.620453 
	C106.534264,150.816757 100.798225,158.686676 95.197937,166.652054 
	C88.145538,176.682770 81.204086,186.791473 73.895355,197.045151 
	C70.813133,195.732452 68.050331,194.241135 65.235458,192.148102 
	C77.640022,173.054642 90.084953,154.554962 102.588287,136.094833 
	C103.204117,135.185593 104.329407,134.621414 105.217468,133.896545 
	C107.420273,136.709854 109.623077,139.523163 112.017960,142.620453 
z"/>
<path fill="#2D3993" opacity="1.000000" stroke="none" 
	d="
M130.972076,150.907257 
	C131.036560,150.608276 131.181778,150.355698 131.967651,150.036789 
	C133.082336,149.507828 133.637085,149.091614 134.434814,148.972351 
	C135.466660,153.181122 136.255524,157.092926 136.990082,161.425842 
	C136.230667,171.546097 132.783630,180.090195 126.298508,187.396759 
	C125.359558,188.454636 124.738899,189.794983 123.970947,191.004608 
	C123.970940,191.004608 123.986931,190.980408 123.665237,190.957016 
	C122.889557,191.389160 122.435562,191.844696 121.981567,192.300232 
	C114.247398,196.213486 106.513229,200.126755 98.428223,203.634033 
	C98.399513,202.464996 98.604424,201.622238 99.061104,200.950684 
	C108.009041,187.792816 117.083481,174.719452 125.887604,161.466415 
	C128.028793,158.243225 129.300552,154.442459 130.972076,150.907257 
z"/>
<path fill="#2A61AE" opacity="1.000000" stroke="none" 
	d="
M184.900970,102.544617 
	C178.126114,100.680893 171.321121,98.613197 164.730499,96.003998 
	C149.301788,89.895828 133.975861,83.528061 118.281799,77.117188 
	C120.106140,74.743935 122.257011,72.518906 125.087570,70.153915 
	C126.711876,70.282501 127.687096,70.473267 128.596603,70.831070 
	C147.346191,78.207161 166.088287,85.602264 184.831879,92.993591 
	C184.877335,96.027260 184.922775,99.060921 184.900970,102.544617 
z"/>
<path fill="#2971B9" opacity="1.000000" stroke="none" 
	d="
M60.977455,153.369614 
	C65.876236,153.040421 69.583427,151.273636 70.601227,145.362366 
	C72.316574,143.863449 73.886711,142.949753 74.846474,141.601562 
	C80.647079,133.453354 86.308098,125.205765 92.015793,116.991417 
	C93.661247,119.094475 95.306702,121.197533 96.676727,123.688721 
	C95.902260,124.474846 95.270515,124.781311 94.923668,125.284248 
	C86.868538,136.964325 78.782333,148.623795 70.835182,160.377213 
	C65.124496,168.823029 59.607098,177.399521 54.003479,185.917725 
	C51.171738,184.373138 48.339993,182.828568 45.303291,180.698639 
	C47.929127,175.710037 50.883579,171.380264 53.555595,166.882675 
	C56.178913,162.467056 58.515205,157.880920 60.977455,153.369614 
z"/>
<path fill="#2791CF" opacity="1.000000" stroke="none" 
	d="
M121.765167,127.439392 
	C126.776085,128.710724 132.045822,130.005630 137.063538,131.950699 
	C152.157074,137.801544 167.152405,143.905701 182.545898,149.953110 
	C180.580688,153.459824 178.255646,156.924454 175.492126,160.250839 
	C174.696426,159.771133 174.398926,159.283096 173.973236,159.109528 
	C161.830276,154.158813 149.691177,149.197159 137.487823,144.399078 
	C136.546463,144.028961 135.138168,144.846390 133.727631,145.070389 
	C133.508347,145.028931 133.068756,144.951508 133.068756,144.951508 
	C129.348755,139.221069 125.628754,133.490646 121.765167,127.439392 
z"/>
<path fill="#B9BABD" opacity="1.000000" stroke="none" 
	d="
M97.955330,2.530231 
	C93.420242,11.422983 88.478439,20.039619 83.668617,28.729309 
	C80.530991,34.397907 77.670334,40.220695 74.488197,45.863079 
	C73.769684,47.137108 72.230888,47.948524 70.722992,48.983139 
	C70.270660,36.665287 70.165031,24.337191 69.972290,11.553755 
	C78.329254,5.657899 86.794754,0.284780 97.955330,2.530231 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M130.642532,151.098465 
	C129.300552,154.442459 128.028793,158.243225 125.887604,161.466415 
	C117.083481,174.719452 108.009041,187.792816 99.061104,200.950684 
	C98.604424,201.622238 98.399513,202.464996 98.038940,203.578461 
	C94.171326,203.877777 90.342148,203.826675 86.198639,203.570435 
	C87.374756,200.628159 88.668320,197.759995 90.388367,195.175659 
	C99.849930,180.959915 109.415787,166.813568 118.990738,152.285980 
	C122.861465,152.893417 126.720268,154.439987 130.642532,151.098465 
z"/>
<path fill="#2885C7" opacity="1.000000" stroke="none" 
	d="
M22.083771,167.667603 
	C24.885595,162.329910 27.728249,157.109299 30.977148,152.155075 
	C36.429832,143.840332 42.084183,135.655273 47.790157,127.511284 
	C48.976345,125.818260 50.756973,124.541733 52.606651,123.034721 
	C53.039062,130.670837 53.128471,138.345490 52.858582,146.527191 
	C50.105427,150.057144 47.494450,152.935455 45.364609,156.134125 
	C41.389664,162.103851 37.694283,168.259720 33.882568,174.338120 
	C30.024120,172.193542 26.165676,170.048981 22.083771,167.667603 
z"/>
<path fill="#2898D4" opacity="1.000000" stroke="none" 
	d="
M133.946899,145.111847 
	C135.138168,144.846390 136.546463,144.028961 137.487823,144.399078 
	C149.691177,149.197159 161.830276,154.158813 173.973236,159.109528 
	C174.398926,159.283096 174.696426,159.771133 175.227386,160.501083 
	C170.590515,163.928726 165.779938,166.967880 160.293213,169.919128 
	C152.092819,166.889053 144.568604,163.946899 137.044388,161.004761 
	C136.255524,157.092926 135.466660,153.181122 134.390854,148.622238 
	C134.051575,147.020737 133.999237,146.066284 133.946899,145.111847 
z"/>
<path fill="#16144A" opacity="1.000000" stroke="none" 
	d="
M620.169556,97.113312 
	C620.169495,109.583946 620.109558,121.572731 620.204468,133.560287 
	C620.234375,137.341003 619.437805,140.472748 615.009155,140.392960 
	C610.618347,140.313843 609.925171,137.152786 609.956665,133.394226 
	C610.065430,120.407806 610.048096,107.419609 609.968567,94.432770 
	C609.944580,90.520912 609.997681,86.588287 615.194092,86.651764 
	C620.482544,86.716370 620.277649,90.853058 620.172241,94.633018 
	C620.153748,95.298515 620.169556,95.964966 620.169556,97.113312 
z"/>
<path fill="#296AB5" opacity="1.000000" stroke="none" 
	d="
M54.254753,186.148438 
	C59.607098,177.399521 65.124496,168.823029 70.835182,160.377213 
	C78.782333,148.623795 86.868538,136.964325 94.923668,125.284248 
	C95.270515,124.781311 95.902260,124.474846 96.748489,124.025536 
	C98.359726,125.429214 99.623764,126.884224 100.744354,128.760834 
	C99.549210,130.435776 98.389320,131.614288 97.462708,132.954147 
	C88.998764,145.192673 80.480530,157.395477 72.179222,169.743881 
	C67.863998,176.162872 63.952850,182.853516 59.859177,189.421448 
	C58.074795,188.407349 56.290413,187.393250 54.254753,186.148438 
z"/>
<path fill="#2A55A6" opacity="1.000000" stroke="none" 
	d="
M184.900345,92.547958 
	C166.088287,85.602264 147.346191,78.207161 128.596603,70.831070 
	C127.687096,70.473267 126.711876,70.282501 125.382751,70.006554 
	C126.248383,67.872787 127.498505,65.746437 129.280640,63.356758 
	C141.644562,67.774460 153.444473,72.538750 165.321167,77.103195 
	C171.757416,79.576775 178.324585,81.709755 184.832687,83.996376 
	C184.878067,86.698357 184.923431,89.400345 184.900345,92.547958 
z"/>
<path fill="#2A64B1" opacity="1.000000" stroke="none" 
	d="
M60.068802,189.667664 
	C63.952850,182.853516 67.863998,176.162872 72.179222,169.743881 
	C80.480530,157.395477 88.998764,145.192673 97.462708,132.954147 
	C98.389320,131.614288 99.549210,130.435776 100.935242,129.032471 
	C102.508301,130.350113 103.747025,131.817703 105.101608,133.590912 
	C104.329407,134.621414 103.204117,135.185593 102.588287,136.094833 
	C90.084953,154.554962 77.640022,173.054642 65.042229,191.875565 
	C63.360188,191.441116 61.819309,190.677505 60.068802,189.667664 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M127.941490,57.016640 
	C125.508156,56.016991 123.074821,55.017342 120.358894,53.656868 
	C120.732880,52.566257 121.389458,51.836472 122.373611,50.981049 
	C125.073441,49.793064 127.445686,48.730721 129.988525,48.014515 
	C131.221313,49.118958 132.184525,50.122871 133.361206,50.597134 
	C143.805313,54.806549 154.254166,59.008678 164.771240,63.030830 
	C170.450012,65.202614 176.264542,67.019402 182.276001,69.220825 
	C183.332047,71.332565 184.129929,73.219818 184.927795,75.107063 
	C184.970764,75.532715 185.013718,75.958366 184.574936,76.693222 
	C182.638779,76.780884 181.081451,76.821083 179.746262,76.296219 
	C169.448227,72.248009 159.251907,67.935181 148.904221,64.021225 
	C142.018600,61.416790 134.935944,59.333305 127.941490,57.016640 
z"/>
<path fill="#297BC0" opacity="1.000000" stroke="none" 
	d="
M34.092957,174.591461 
	C37.694283,168.259720 41.389664,162.103851 45.364609,156.134125 
	C47.494450,152.935455 50.105427,150.057144 52.869797,146.992569 
	C55.583984,149.016739 57.927662,151.082581 60.624397,153.259033 
	C58.515205,157.880920 56.178913,162.467056 53.555595,166.882675 
	C50.883579,171.380264 47.929127,175.710037 45.054535,180.453033 
	C41.441605,178.810135 37.872475,176.827469 34.092957,174.591461 
z"/>
<path fill="#A0A1A4" opacity="1.000000" stroke="none" 
	d="
M122.046036,51.106689 
	C121.389458,51.836472 120.732880,52.566257 119.978256,53.576656 
	C119.880219,53.857269 119.903275,53.901428 119.623383,53.885712 
	C118.894241,54.237209 118.444992,54.604420 117.995743,54.971634 
	C113.534782,59.226894 109.073814,63.482155 104.305634,67.866806 
	C106.964203,61.207859 109.695168,54.304478 112.951088,47.658276 
	C117.772217,37.817097 122.965828,28.158403 128.058243,18.029196 
	C130.300217,18.811857 132.484787,19.987343 134.853516,21.815496 
	C133.989227,24.857271 132.969513,27.259466 131.887009,29.633022 
	C128.619781,36.796883 125.328148,43.949619 122.046036,51.106689 
z"/>
<path fill="#2A9FD8" opacity="1.000000" stroke="none" 
	d="
M136.990082,161.425842 
	C144.568604,163.946899 152.092819,166.889053 159.954803,169.989655 
	C148.424088,177.087708 136.555603,184.027313 124.329025,190.985764 
	C124.738899,189.794983 125.359558,188.454636 126.298508,187.396759 
	C132.783630,180.090195 136.230667,171.546097 136.990082,161.425842 
z"/>
<path fill="#2B4CA0" opacity="1.000000" stroke="none" 
	d="
M127.995773,57.395683 
	C134.935944,59.333305 142.018600,61.416790 148.904221,64.021225 
	C159.251907,67.935181 169.448227,72.248009 179.746262,76.296219 
	C181.081451,76.821083 182.638779,76.780884 184.496918,77.005997 
	C184.924271,79.049538 184.947937,81.089523 184.902130,83.562943 
	C178.324585,81.709755 171.757416,79.576775 165.321167,77.103195 
	C153.444473,72.538750 141.644562,67.774460 129.449554,63.053543 
	C128.740982,61.267338 128.395523,59.521030 127.995773,57.395683 
z"/>
<path fill="#9A9A9D" opacity="1.000000" stroke="none" 
	d="
M122.373611,50.981049 
	C125.328148,43.949619 128.619781,36.796883 131.887009,29.633022 
	C132.969513,27.259466 133.989227,24.857271 135.071259,22.061415 
	C137.945389,23.217421 140.785919,24.780178 143.817169,26.991543 
	C143.383224,29.324478 142.879440,31.066376 142.110214,32.681881 
	C140.136658,36.826645 138.045227,40.915283 135.694794,45.179363 
	C133.531754,46.111038 131.674835,46.889713 129.817932,47.668381 
	C127.445686,48.730721 125.073441,49.793064 122.373611,50.981049 
z"/>
<path fill="#88888E" opacity="1.000000" stroke="none" 
	d="
M152.102524,31.439873 
	C155.619293,33.396687 159.136063,35.353508 162.804764,37.954796 
	C161.528076,41.141026 160.099442,43.682785 158.272491,46.184517 
	C153.910294,45.599094 149.946396,45.053699 145.995392,44.163040 
	C148.039703,39.691803 150.071121,35.565838 152.102524,31.439873 
z"/>
<path fill="#939496" opacity="1.000000" stroke="none" 
	d="
M151.881866,31.221512 
	C150.071121,35.565838 148.039703,39.691803 145.550201,44.259666 
	C142.061707,44.809834 139.031326,44.918098 136.000931,45.026360 
	C138.045227,40.915283 140.136658,36.826645 142.110214,32.681881 
	C142.879440,31.066376 143.383224,29.324478 144.025024,27.252903 
	C146.581818,28.244822 149.121521,29.623987 151.881866,31.221512 
z"/>
<path fill="#1D1B4F" opacity="1.000000" stroke="none" 
	d="
M610.710510,66.494217 
	C614.233276,64.243706 617.689636,64.058426 619.840820,67.254417 
	C621.080994,69.096909 621.705444,72.729050 620.688293,74.356194 
	C619.504639,76.249619 616.187927,77.855148 613.859924,77.774170 
	C608.704529,77.594818 607.180603,72.092674 610.710510,66.494217 
z"/>
<path fill="#797A7C" opacity="1.000000" stroke="none" 
	d="
M173.347382,43.854877 
	C175.309052,45.793518 177.270721,47.732166 179.159332,50.412292 
	C177.687637,53.117939 176.289001,55.082096 174.604401,56.891853 
	C172.202194,54.863976 170.085938,52.990501 168.009827,50.750595 
	C169.815781,48.207737 171.581589,46.031307 173.347382,43.854877 
z"/>
<path fill="#6F6F73" opacity="1.000000" stroke="none" 
	d="
M174.890381,57.046257 
	C176.289001,55.082096 177.687637,53.117939 179.147156,50.735962 
	C183.888199,55.222645 185.215500,61.271317 185.170059,67.788528 
	C185.155228,69.915176 185.141037,72.041817 185.027161,74.637764 
	C184.129929,73.219818 183.332047,71.332565 182.237915,68.864670 
	C179.591232,64.538109 177.240799,60.792187 174.890381,57.046257 
z"/>
<path fill="#808183" opacity="1.000000" stroke="none" 
	d="
M173.134277,43.572426 
	C171.581589,46.031307 169.815781,48.207737 167.664581,50.668007 
	C164.409714,49.376083 161.540268,47.800312 158.670807,46.224545 
	C160.099442,43.682785 161.528076,41.141026 163.001221,38.227806 
	C166.337555,39.667557 169.629349,41.478767 173.134277,43.572426 
z"/>
<path fill="#2A9FD8" opacity="1.000000" stroke="none" 
	d="
M122.298279,192.227417 
	C122.435562,191.844696 122.889557,191.389160 123.679543,190.954575 
	C123.548683,191.368546 123.081833,191.761566 122.298279,192.227417 
z"/>
<path fill="#2876BB" opacity="1.000000" stroke="none" 
	d="
M91.892838,116.676514 
	C86.308098,125.205765 80.647079,133.453354 74.846474,141.601562 
	C73.886711,142.949753 72.316574,143.863449 70.688301,144.985474 
	C70.261665,139.055130 70.085533,133.116150 70.157204,127.180168 
	C70.173416,125.836838 70.704582,124.186592 71.590408,123.219704 
	C76.038002,118.365082 80.681976,113.690384 85.726357,108.466385 
	C88.039505,111.488266 89.904694,113.924934 91.892838,116.676514 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M133.727631,145.070389 
	C133.999237,146.066284 134.051575,147.020737 134.147873,148.325287 
	C133.637085,149.091614 133.082336,149.507828 132.161621,149.930267 
	C132.166840,148.515305 132.538040,147.094131 132.988998,145.312225 
	C133.068756,144.951508 133.508347,145.028931 133.727631,145.070389 
z"/>
<path fill="#2D4399" opacity="1.000000" stroke="none" 
	d="
M118.302765,54.964729 
	C118.444992,54.604420 118.894241,54.237209 119.647629,53.882008 
	C119.504448,54.248619 119.057121,54.603218 118.302765,54.964729 
z"/>
<path fill="#FEFEFE" opacity="1.000000" stroke="none" 
	d="
M494.401672,130.910751 
	C488.674255,130.949005 483.390442,130.949005 477.825195,130.949005 
	C477.825195,111.721573 477.825195,92.682175 477.825195,73.627197 
	C497.756470,70.703644 512.021729,75.652016 517.020081,94.224098 
	C520.697144,107.886765 514.780945,127.254517 494.401672,130.910751 
z"/>
<path fill="#FCFCFD" opacity="1.000000" stroke="none" 
	d="
M351.216492,126.785675 
	C341.982635,114.802811 346.095856,99.123352 358.993713,95.887733 
	C366.936768,93.895103 374.349579,97.202011 378.308044,104.504059 
	C382.206879,111.695999 380.750000,121.585251 374.979889,127.095352 
	C369.276001,132.542221 360.667664,133.297119 353.811890,128.916748 
	C352.976288,128.382874 352.252014,127.674736 351.216492,126.785675 
z"/>
<path fill="#FCFCFD" opacity="1.000000" stroke="none" 
	d="
M583.895264,108.733131 
	C585.321899,120.151619 581.170959,128.090088 572.592224,130.919510 
	C563.812683,133.815155 554.430908,129.243912 551.120850,120.457619 
	C547.554626,110.991364 551.844177,100.311226 560.719177,96.559563 
	C569.248230,92.954147 578.758972,96.795776 582.796692,105.501312 
	C583.214478,106.401894 583.481384,107.372459 583.895264,108.733131 
z"/>
<path fill="#FCFCFD" opacity="1.000000" stroke="none" 
	d="
M440.244019,99.805695 
	C441.841064,102.838928 443.194672,105.586174 444.803864,108.852074 
	C433.285370,108.852074 422.815338,108.852074 412.030853,108.852074 
	C413.262665,102.549667 416.449036,97.984123 422.502625,95.986710 
	C428.899109,93.876183 434.983887,94.309898 440.244019,99.805695 
z"/>
<path fill="#2D3892" opacity="1.000000" stroke="none" 
	d="
M158.272491,46.184513 
	C161.540268,47.800312 164.409714,49.376083 167.624435,51.034439 
	C170.085938,52.990501 172.202194,54.863976 174.604401,56.891857 
	C177.240799,60.792187 179.591232,64.538109 181.979736,68.640190 
	C176.264542,67.019402 170.450012,65.202614 164.771240,63.030830 
	C154.254166,59.008678 143.805313,54.806549 133.361206,50.597134 
	C132.184525,50.122871 131.221313,49.118958 129.988525,48.014519 
	C131.674835,46.889713 133.531754,46.111038 135.694794,45.179363 
	C139.031326,44.918098 142.061707,44.809834 145.537308,44.604939 
	C149.946396,45.053699 153.910294,45.599094 158.272491,46.184513 
z"/>
</svg>
                    
                </div>
            </a>
            <button id="close-sidebar" class="btn btn-icon btn-soft">
                <span class="material-icons size-20 menu-icon align-middle">menu</span>
            </button>
            
            
                    
                    <button id="flexsearch-button" class="ms-3 btn btn-soft" data-bs-toggle="collapse" data-bs-target="#FlexSearchCollapse" aria-expanded="false" aria-controls="FlexSearchCollapse">
                        <span class="material-icons size-20 menu-icon align-middle">search</span>
                        <span class="flexsearch-button-placeholder ms-1 me-2 d-none d-sm-block">Search</span>
                        <div class="d-none d-sm-block">
                            <span class="flexsearch-button-keys">
                                <kbd class="flexsearch-button-cmd-key">
                                    <svg width="44" height="15"><path d="M2.118,11.5A1.519,1.519,0,0,1,1,11.042,1.583,1.583,0,0,1,1,8.815a1.519,1.519,0,0,1,1.113-.458h.715V6.643H2.118A1.519,1.519,0,0,1,1,6.185,1.519,1.519,0,0,1,.547,5.071,1.519,1.519,0,0,1,1,3.958,1.519,1.519,0,0,1,2.118,3.5a1.519,1.519,0,0,1,1.114.458A1.519,1.519,0,0,1,3.69,5.071v.715H5.4V5.071A1.564,1.564,0,0,1,6.976,3.5,1.564,1.564,0,0,1,8.547,5.071,1.564,1.564,0,0,1,6.976,6.643H6.261V8.357h.715a1.575,1.575,0,0,1,1.113,2.685,1.583,1.583,0,0,1-2.227,0A1.519,1.519,0,0,1,5.4,9.929V9.214H3.69v.715a1.519,1.519,0,0,1-.458,1.113A1.519,1.519,0,0,1,2.118,11.5Zm0-.857a.714.714,0,0,0,.715-.714V9.214H2.118a.715.715,0,1,0,0,1.429Zm4.858,0a.715.715,0,1,0,0-1.429H6.261v.715a.714.714,0,0,0,.715.714ZM3.69,8.357H5.4V6.643H3.69ZM2.118,5.786h.715V5.071a.714.714,0,0,0-.715-.714.715.715,0,0,0-.5,1.22A.686.686,0,0,0,2.118,5.786Zm4.143,0h.715a.715.715,0,0,0,.5-1.22.715.715,0,0,0-1.22.5Z" fill="currentColor"></path><path d="M12.4,11.475H11.344l3.879-7.95h1.056Z" fill="currentColor"></path><path d="M25.073,5.384l-.864.576a2.121,2.121,0,0,0-1.786-.923,2.207,2.207,0,0,0-2.266,2.326,2.206,2.206,0,0,0,2.266,2.325,2.1,2.1,0,0,0,1.782-.918l.84.617a3.108,3.108,0,0,1-2.622,1.293,3.217,3.217,0,0,1-3.349-3.317,3.217,3.217,0,0,1,3.349-3.317A3.046,3.046,0,0,1,25.073,5.384Z" fill="currentColor"></path><path d="M30.993,5.142h-2.07v5.419H27.891V5.142h-2.07V4.164h5.172Z" fill="currentColor"></path><path d="M34.67,4.164c1.471,0,2.266.658,2.266,1.851,0,1.087-.832,1.809-2.134,1.855l2.107,2.691h-1.28L33.591,7.87H33.07v2.691H32.038v-6.4Zm-1.6.969v1.8h1.572c.832,0,1.22-.3,1.22-.918s-.411-.882-1.22-.882Z" fill="currentColor"></path><path d="M42.883,10.561H38.31v-6.4h1.033V9.583h3.54Z" fill="currentColor"></path></svg>
                                </kbd>
                                <kbd class="flexsearch-button-key">
                                    <svg width="15" height="15"><path d="M5.926,12.279H4.41L9.073,2.721H10.59Z" fill="currentColor"/></svg>
                                </kbd>
                            </span>
                        </div>
                    </button>
                
            </div>

        <div class="d-flex align-items-center">
            <ul class="list-unstyled mb-0">
                
                
                    
                    <li class="list-inline-item mb-0">
                        <a href=" https://github.com/ " alt="github" rel="noopener noreferrer" target="_blank">
                            <div class="btn btn-icon btn-default border-0">
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
                                
                            </div>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item mb-0">
                        <a href=" https://twitter.com/kubedaily " alt="twitter" rel="noopener noreferrer" target="_blank">
                            <div class="btn btn-icon btn-default border-0">
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>Twitter / X</title><path d="M.088.768l9.266,12.39L.029,23.231h2.1l8.163-8.819,6.6,8.819h7.142L14.242,10.145,22.921.768h-2.1L13.3,8.891,7.229.768ZM3.174,2.314H6.455L20.942,21.685h-3.28Z" fill="currentColor"/></svg>
                                
                            </div>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item mb-0">
                        <a href=" //localhost:1313/index.xml " alt="rss" rel="noopener noreferrer" target="_blank">
                            <div class="btn btn-icon btn-default border-0">
                                
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>RSS</title><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
                                
                            </div>
                        </a>
                    </li>
                    
                
            </ul>
            <button id="mode" class="btn btn-icon btn-default ms-2" type="button" aria-label="Toggle user interface mode">
                <span class="toggle-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentColor">
                        <title>Enable dark mode</title>
                        <path d="M24 42q-7.5 0-12.75-5.25T6 24q0-7.5 5.25-12.75T24 6q.4 0 .85.025.45.025 1.15.075-1.8 1.6-2.8 3.95-1 2.35-1 4.95 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6 0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z"/>
                    </svg>
                </span>
                <span class="toggle-light">
                    <svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentColor">
                        <title>Enable light mode</title>
                        <path d="M24 31q2.9 0 4.95-2.05Q31 26.9 31 24q0-2.9-2.05-4.95Q26.9 17 24 17q-2.9 0-4.95 2.05Q17 21.1 17 24q0 2.9 2.05 4.95Q21.1 31 24 31Zm0 3q-4.15 0-7.075-2.925T14 24q0-4.15 2.925-7.075T24 14q4.15 0 7.075 2.925T34 24q0 4.15-2.925 7.075T24 34ZM3.5 25.5q-.65 0-1.075-.425Q2 24.65 2 24q0-.65.425-1.075Q2.85 22.5 3.5 22.5h5q.65 0 1.075.425Q10 23.35 10 24q0 .65-.425 1.075-.425.425-1.075.425Zm36 0q-.65 0-1.075-.425Q38 24.65 38 24q0-.65.425-1.075.425-.425 1.075-.425h5q.65 0 1.075.425Q46 23.35 46 24q0 .65-.425 1.075-.425.425-1.075.425ZM24 10q-.65 0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 10 24 10Zm0 36q-.65 0-1.075-.425-.425-.425-.425-1.075v-5q0-.65.425-1.075Q23.35 38 24 38q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46ZM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05 0 .6-.4 1-.4.45-1.025.45-.625 0-1.075-.4Zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45ZM33.9 14.1q-.45-.45-.45-1.05 0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4-.625 0-1.075-.4ZM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425ZM24 24Z"/>
                    </svg>
                </span>
            </button>
            
        </div>
    </div>
    
    
            <div class="collapse" id="FlexSearchCollapse">
                <div class="flexsearch-container">
                    <div class="flexsearch-keymap">
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to navigate</span>
                        </li>
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to select</span>
                        </li>
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to close</span>
                        </li>
                    </div>
                    <form class="flexsearch position-relative flex-grow-1 ms-2 me-2">
                        <div class="d-flex flex-row">
                            <input id="flexsearch" class="form-control" type="search" placeholder="Search" aria-label="Search" autocomplete="off">
                            <button id="hideFlexsearch" type="button" class="ms-2 btn btn-soft">
                                cancel
                            </button>
                        </div>
                        <div id="suggestions" class="shadow rounded-1 d-none"></div>
                    </form>
                </div>
            </div>
        
    
    
</div>

                            <div class="container-fluid">
                                <div class="layout-spacing">
                                    
                                        <div class="d-md-flex justify-content-between align-items-center"><nav aria-label="breadcrumb" class="d-inline-block pb-2 mt-1 mt-sm-0">
    <ul id="breadcrumbs" class="breadcrumb bg-transparent mb-0" itemscope itemtype="https://schema.org/BreadcrumbList">
        
            
                <li class="breadcrumb-item text-capitalize active" aria-current="page" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a itemprop="item" href="/docs/">
                        <i class="material-icons size-20 align-text-bottom" itemprop="name">Home</i>
                    </a>
                    <meta itemprop="position" content='1' />
                </li>
            
            
                <li class="breadcrumb-item text-capitalize" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a itemprop="item" href="/docs/docker/">
                        <span itemprop="name">Learn Docker</span>
                    </a>
                    <meta itemprop="position" content='2' />
                </li>
            
        
            <li class="breadcrumb-item text-capitalize active" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                <span itemprop="name">Compose Networking with Nginx</span>
                <meta itemprop="position" content='3' />
            </li>
        
    </ul>
</nav></div>
                                    
                                    <div class="row flex-xl-nowrap">
                                        
                                        <div class="docs-toc col-xl-3    d-xl-block"><toc>
    <div class="fw-bold text-uppercase mb-2">On this page</div>
    <nav id="toc">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li></li>
            <li><a href="#run-docker-compose">run docker compose</a></li>
            <li><a href="#go-to-httplocalhost8080-and-observer-the-command-line">Go to http://localhost:8080 and observer the command line</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </toc></div>
                                        
                                        
                                        <div class="docs-toc-mobile    d-print-none d-xl-none">
                                            <button id="toc-dropdown-btn" class="btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-offset="0,0" aria-expanded="false">
                                                Table of Contents
                                            </button>
<nav id="toc-mobile">
  <ul class="dropdown-menu">
    <li>
      <ul>
        <li>
          <ul>
            <li></li>
            <li><a href="#run-docker-compose">run docker compose</a></li>
            <li><a href="#go-to-httplocalhost8080-and-observer-the-command-line">Go to http://localhost:8080 and observer the command line</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
                                        <div class="docs-content col-12 col-xl-9 mt-0">
                                            <div class="mb-0 d-flex">
                                                
                                                <i class="material-icons title-icon me-2">article</i>
                                                
                                                <h1 class="content-title mb-0">
                                                    Compose Networking with Nginx
                                                    
                                                </h1>
                                            </div>
                                            
                                                <p class="lead mb-3"></p>
                                            
                                            <div id="content" class="main-content" data-bs-spy="scroll" data-bs-root-margin="0px 0px -65%" data-bs-target="#toc-mobile">
                                                
    
    <div data-prismjs-copy="" data-prismjs-copy-success="" data-prismjs-copy-error="">
        <p>create docker-compose.yml with following content :</p>



  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="f2cc398" class="language-yml ">
  <code>version: &#34;3.7&#34;

services:
  web:
    image: nginx:alpine
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    ports:
      - 8080:80
    networks:
      - app1_net
      - app2_net

  app1:
    image: httpd:latest
    networks:
      - app1_net

  app2:
    image: httpd:latest
    networks:
      - app2_net

networks:
  app1_net:
  app2_net:</code>
  </pre>
  </div>
<h4 id="the-following-nginxconf-configuration-file-in-the-same-directory">the following nginx.conf configuration file in the same directory: <a href="#the-following-nginxconf-configuration-file-in-the-same-directory" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h4>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="d516f8f" class="language-sh ">
  <code>
events {}
http {
    server {
    listen 80;
    listen [::]:80;

    server_name example.com;

    location / {
        proxy_pass http://app1:80/;
    }
    location /app2 {
        proxy_pass http://app2:80/;
    }
  }
}</code>
  </pre>
  </div>
<h3 id="run-docker-compose">run docker compose <a href="#run-docker-compose" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="b28996d" class="language-sh ">
  <code>
docker compose up </code>
  </pre>
  </div>
<h3 id="go-to-httplocalhost8080-and-observer-the-command-line">Go to http://localhost:8080 and observer the command line <a href="#go-to-httplocalhost8080-and-observer-the-command-line" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3><p>•	It will show you the nignx-container web_1 container (reverse_proxy) was requested <br>
•	And forwarded the request to “app1” container <br>
•	Reload a few times to make this more obvious <br></p>
<h4 id="go-to-httplocalhost8080app2-and-observe-the-command-line">Go to http://localhost:8080/app2 and observe the command line <a href="#go-to-httplocalhost8080app2-and-observe-the-command-line" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h4><p>•	It will show you again that nginx-container web_1 container (reverse_proxy) was requested  <br>
•	And now forwards to “app2” container <br>
•	Reload a few times to make this more obvious <br></p>

    </div>

    





    
    






<div class="gitinfo d-flex flex-wrap justify-content-between align-items-center opacity-85 pt-3">
    <div id="edit-this-page" class="mt-1">
        <a href="https://github.com/colinwilson/lotusdocs.dev/blob/release/content/docs/docker/Docker-compose-ngnix-net.md" alt="Compose Networking with Nginx" rel="noopener noreferrer" target="_blank">
            
            <span class="me-1 align-text-bottom">
                
                    <svg width="20px" height="20px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
  <path d="M16 0.396c-8.839 0-16 7.167-16 16 0 7.073 4.584 13.068 10.937 15.183 0.803 0.151 1.093-0.344 1.093-0.772 0-0.38-0.009-1.385-0.015-2.719-4.453 0.964-5.391-2.151-5.391-2.151-0.729-1.844-1.781-2.339-1.781-2.339-1.448-0.989 0.115-0.968 0.115-0.968 1.604 0.109 2.448 1.645 2.448 1.645 1.427 2.448 3.744 1.74 4.661 1.328 0.14-1.031 0.557-1.74 1.011-2.135-3.552-0.401-7.287-1.776-7.287-7.907 0-1.751 0.62-3.177 1.645-4.297-0.177-0.401-0.719-2.031 0.141-4.235 0 0 1.339-0.427 4.4 1.641 1.281-0.355 2.641-0.532 4-0.541 1.36 0.009 2.719 0.187 4 0.541 3.043-2.068 4.381-1.641 4.381-1.641 0.859 2.204 0.317 3.833 0.161 4.235 1.015 1.12 1.635 2.547 1.635 4.297 0 6.145-3.74 7.5-7.296 7.891 0.556 0.479 1.077 1.464 1.077 2.959 0 2.14-0.020 3.864-0.020 4.385 0 0.416 0.28 0.916 1.104 0.755 6.4-2.093 10.979-8.093 10.979-15.156 0-8.833-7.161-16-16-16z"/>
</svg>

                
            </span>
            Edit this page
            
        </a>
    </div>
    
    <div id="last-modified" class="mt-1">
        <p class="mb-0 fw-semibold">Last updated <span
            id="relativetime"
            data-authdate="2024-01-25T04:33:12&#43;0530"
            title="25 Jan 2024, 04:33 IST">
            25 Jan 2024, 04:33 IST
        </span>. <span class="material-icons size-20 align-text-bottom opacity-75">history</span>
        </p>
    </div>
    
</div>

    

    
                                            </div>
                                            <div><hr class="doc-hr">
<div id="doc-nav" class="d-print-none">

	<div class="row flex-xl-nowrap ">
	<div class="col-sm-6 pt-2 doc-next">
		<a href="/docs/docker/newtorking-in-docker-compose/">
			<div class="card h-100 my-1">
				<div class="card-body py-2">
                    <p class="card-title fs-5 fw-semibold lh-base mb-0"><i class="material-icons align-middle">navigate_before</i> Newtorking in Docker Compose</p>
					<p class="card-text ms-2"></p>
					
				</div>
			</div>
		</a>
        </div>
	<div class="col-sm-6 pt-2 doc-prev">
		<a class="ms-auto" href="/docs/docker/docker-wordpress-example/">
			<div class="card h-100 my-1 text-end">
				<div class="card-body py-2">
                    <p class="card-title fs-5 fw-semibold lh-base mb-0">Docker Wordpress Example <i class="material-icons align-middle">navigate_next</i></p>
					<p class="card-text me-2"></p>
					
				</div>
			</div>
		</a>
        </div>
	</div>
</div></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
<footer class="shadow py-3 d-print-none">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col">
                <div class="text-sm-start text-center mx-md-2">
                    <p class="mb-0">
                        
                        © 2025 CloudNativeFolks Community
                    </p>
                </div>
            </div>
            <center> <h6>  Subscribe to CloudNativeFolks Community Newsletter 
            </h6>
                        <iframe src="https://cloudnativefolks.substack.com/embed" width="480" height="150" style="border:1px solid #EEE; background:white;" frameborder="0" scrolling="no">  </iframe> </center>
        </div>
        
    </div>
</footer>
</main>
            </div>
        </div>

        
        
        <button onclick="topFunction()" id="back-to-top" aria-label="Back to Top Button" class="back-to-top fs-5"><svg width="24" height="24"><path d="M12,10.224l-6.3,6.3L4.32,15.152,12,7.472l7.68,7.68L18.3,16.528Z" style="fill:#fff"/></svg></button>
        
        

        
        
            <script>(()=>{var e=document.getElementById("mode");e!==null&&(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")):(localStorage.setItem("theme","light"),document.documentElement.removeAttribute("data-dark-mode"))}),e.addEventListener("click",()=>{document.documentElement.toggleAttribute("data-dark-mode"),localStorage.setItem("theme",document.documentElement.hasAttribute("data-dark-mode")?"dark":"light")}),localStorage.getItem("theme")==="dark"?document.documentElement.setAttribute("data-dark-mode",""):document.documentElement.removeAttribute("data-dark-mode"))})()</script>
        




    
        
        
    
    






    <script src="/docs/js/bootstrap.js" defer></script>


    <script type="text/javascript" src="//localhost:1313/docs/js/bundle.js" defer></script>
        

        
        <script type="module">
    var suggestions = document.getElementById('suggestions');
    var search = document.getElementById('flexsearch');

    const flexsearchContainer = document.getElementById('FlexSearchCollapse');

    const hideFlexsearchBtn = document.getElementById('hideFlexsearch');

    const configObject = { toggle: false }
    const flexsearchContainerCollapse = new Collapse(flexsearchContainer, configObject) 

    if (search !== null) {
        document.addEventListener('keydown', inputFocus);
        flexsearchContainer.addEventListener('shown.bs.collapse', function () {
            search.focus();
        });
        
        var topHeader = document.getElementById("top-header");
        document.addEventListener('click', function(elem) {
            if (!flexsearchContainer.contains(elem.target) && !topHeader.contains(elem.target))
                flexsearchContainerCollapse.hide();
        });
    }

    hideFlexsearchBtn.addEventListener('click', () =>{
        flexsearchContainerCollapse.hide()
    })

    function inputFocus(e) {
        if (e.ctrlKey && e.key === '/') {
            e.preventDefault();
            flexsearchContainerCollapse.toggle();
        }
        if (e.key === 'Escape' ) {
            search.blur();
            
            flexsearchContainerCollapse.hide();
        }
    };

    document.addEventListener('click', function(event) {

    var isClickInsideElement = suggestions.contains(event.target);

    if (!isClickInsideElement) {
        suggestions.classList.add('d-none');
    }

    });

    


    document.addEventListener('keydown',suggestionFocus);

    function suggestionFocus(e) {
    const suggestionsHidden = suggestions.classList.contains('d-none');
    if (suggestionsHidden) return;

    const focusableSuggestions= [...suggestions.querySelectorAll('a')];
    if (focusableSuggestions.length === 0) return;

    const index = focusableSuggestions.indexOf(document.activeElement);

    if (e.key === "ArrowUp") {
        e.preventDefault();
        const nextIndex = index > 0 ? index - 1 : 0;
        focusableSuggestions[nextIndex].focus();
    }
    else if (e.key === "ArrowDown") {
        e.preventDefault();
        const nextIndex= index + 1 < focusableSuggestions.length ? index + 1 : index;
        focusableSuggestions[nextIndex].focus();
    }

    }

    


    (function(){

    var index = new FlexSearch.Document({
        
        tokenize: "forward",
        minlength:  0 ,
        cache:  100 ,
        optimize:  true ,
        document: {
        id: 'id',
        store: [
            "href", "title", "description"
        ],
        index: ["title", "description", "content"]
        }
    });


    


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    


    

    

    index.add(
            {
                id:  0 ,
                href: "\/docs\/helm\/install-helm\/",
                title: "Basics of Helm",
                description: "git clone\nInstall Helm 3 link ~ curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 11679 100 11679 0 0 32332 0 --:--:-- --:--:-- --:--:-- 32262 Downloading https://get.helm.sh/helm-v3.14.3-darwin-arm64.tar.gz Verifying checksum... Done. Preparing to install helm into /usr/local/bin Password: helm installed into /usr/local/bin/helm Creating the chart link (base) ➜ helm-workshop git:(main) helm create application-1 Creating application-1 Structure of the chart link (base) ➜ application-1 git:(main) ✗ tree . ├── Chart.yaml ├── charts ├── templates │ ├── NOTES.txt │ ├── _helpers.tpl │ ├── deployment.yaml │ ├── hpa.yaml │ ├── ingress.yaml │ ├── service.yaml │ ├── serviceaccount.yaml │ └── tests │ └── test-connection.yaml └── values.yaml 4 directories, 10 files (base) ➜ application-1 git:(main) ✗ deleted unwanted files\n",
                content: "git clone\nInstall Helm 3 link ~ curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 100 11679 100 11679 0 0 32332 0 --:--:-- --:--:-- --:--:-- 32262 Downloading https://get.helm.sh/helm-v3.14.3-darwin-arm64.tar.gz Verifying checksum... Done. Preparing to install helm into /usr/local/bin Password: helm installed into /usr/local/bin/helm Creating the chart link (base) ➜ helm-workshop git:(main) helm create application-1 Creating application-1 Structure of the chart link (base) ➜ application-1 git:(main) ✗ tree . ├── Chart.yaml ├── charts ├── templates │ ├── NOTES.txt │ ├── _helpers.tpl │ ├── deployment.yaml │ ├── hpa.yaml │ ├── ingress.yaml │ ├── service.yaml │ ├── serviceaccount.yaml │ └── tests │ └── test-connection.yaml └── values.yaml 4 directories, 10 files (base) ➜ application-1 git:(main) ✗ deleted unwanted files\nbase) ➜ application-1 git:(main) ✗ tree . ├── Chart.yaml ├── charts ├── templates │ ├── deployment.yaml │ ├── service.yaml │ └── tests └── values.yaml Configuration the yamls files from scratch linkcreate ngnix deployment with 3 replicas and use nodeport to expose ports\nhow to deploy the chart link (base) ➜ application-1 git:(main) ✗ helm install chart-1 . W0323 05:55:21.671543 6164 warnings.go:70] unknown field \"spec.ports[0].nodeport\" NAME: chart-1 LAST DEPLOYED: Sat Mar 23 05:55:21 2024 NAMESPACE: default STATUS: deployed REVISION: 1 TEST SUITE: None ### view the chart (base) ➜ application-1 git:(main) ✗ kubectl get deploy,svc NAME READY UP-TO-DATE AVAILABLE AGE deployment.apps/my-deployememt 0/1 1 0 49s NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE service/kubernetes ClusterIP 10.96.0.1 443/TCP 23m service/my-service NodePort 10.102.58.218 80:31492/TCP 49s (base) ➜ application-1 git:(main) ✗ kubectl get nodes -o wide NAME STATUS ROLES AGE VERSION INTERNAL-IP EXTERNAL-IP OS-IMAGE KERNEL-VERSION CONTAINER-RUNTIME minikube Ready control-plane 24m v1.28.3 192.168.49.2 Ubuntu 22.04.3 LTS 6.6.16-linuxkit docker://24.0.7 ip addess + port a (base) ➜ application-1 git:(main) ✗ helm list NAME NAMESPACE REVISION UPDATED STATUS CHART APP VERSION chart-1 default 1 2024-03-23 05:55:21.559484 +0530 IST deployed application-1-0.1.0 1.16.0 delete the chart link (base) ➜ application-1 git:(main) ✗ helm uninstall chart-1 release \"chart-1\" uninstalled "
            }
        );
    index.add(
            {
                id:  1 ,
                href: "\/docs\/docker\/docker-prerequisites\/",
                title: "Docker Prerequisites",
                description: " Here are the steps to create a Docker Hub account:\nGo to https://hub.docker.com/signup and click on the “Sign Up” button. Fill out the registration form with your name, email address, and password. ",
                content: " Here are the steps to create a Docker Hub account:\nGo to https://hub.docker.com/signup and click on the “Sign Up” button. Fill out the registration form with your name, email address, and password. Agree to the terms of service and privacy policy by checking the box. Click on the “Sign Up” button to complete the registration process. You will receive a verification email from Docker Hub. Follow the link in the email to verify your email address. Once your email address is verified, you can log in to Docker Hub using your email address and password. You can now create and manage your repositories, and upload your Docker images to share with the community. That’s it! You now have a Docker Hub account and you can start using it to store, share, and distribute your Docker images.\n"
            }
        );
    index.add(
            {
                id:  2 ,
                href: "\/docs\/containerd\/history-of-containerd\/",
                title: "History of ContainerD",
                description: "History of ContainerD linkOrigin from Docker: The origins of containerd can be traced back to Docker, the popular container platform. Docker initially included all components required to run a container in a single monolithic binary, which included the container runtime. As Docker grew, there was a need to break down this monolithic structure into more manageable, modular components.\nAnnouncement and Spin-Off (2016): Docker announced containerd in December 2016 as a core component split off from the Docker Engine. This move was part of Docker’s effort to modularize its platform. containerd was designed to manage the entire container lifecycle, including image transfer and storage, container execution and supervision, low-level storage, and network attachments. Donation to CNCF (2017): In March 2017, Docker donated containerd to the Cloud Native Computing Foundation (CNCF), the same foundation that hosts Kubernetes. This move was aimed at fostering an open, neutral, and community-driven base for container operations.\n",
                content: "History of ContainerD linkOrigin from Docker: The origins of containerd can be traced back to Docker, the popular container platform. Docker initially included all components required to run a container in a single monolithic binary, which included the container runtime. As Docker grew, there was a need to break down this monolithic structure into more manageable, modular components.\nAnnouncement and Spin-Off (2016): Docker announced containerd in December 2016 as a core component split off from the Docker Engine. This move was part of Docker’s effort to modularize its platform. containerd was designed to manage the entire container lifecycle, including image transfer and storage, container execution and supervision, low-level storage, and network attachments. Donation to CNCF (2017): In March 2017, Docker donated containerd to the Cloud Native Computing Foundation (CNCF), the same foundation that hosts Kubernetes. This move was aimed at fostering an open, neutral, and community-driven base for container operations.\nGraduation from CNCF (2019): containerd graduated from CNCF in February 2019, which indicated its maturity, stable API, and growing adoption. Graduation from CNCF is a significant milestone that reflects a project’s sustainability and adherence to certain standards of governance.\nAdoption and Usage: Over the years, containerd has seen significant adoption in the industry. It is used by Kubernetes, as well as cloud providers and Linux distributions for their container operations. This wide adoption is due to its simplicity, robustness, and the strong community support it has garnered.\n"
            }
        );
    index.add(
            {
                id:  3 ,
                href: "\/docs\/containersecurity\/interacting-with-container-ecosystem\/",
                title: "Interacting with container ecosystem ",
                description: "Interacting with container ecosystem link Docker Images and Image Layers\nIn Docker, an image is a lightweight, stand-alone, executable package that includes everything needed to run a piece of software, including the application code, libraries, dependencies, and runtime. It’s used to build and run containerized applications.\nA Docker image is made up of a series of layers, where each layer represents an instruction in the image’s Dockerfile. When you build an image, each instruction in the Dockerfile creates a new layer in the image. For example, if the Dockerfile has a COPY instruction to copy in some new files, that creates a new layer in the image with those files. If you then change a file and rebuild the image, only the layers that have changed need to be rebuilt, which makes building images faster and more efficient.\n",
                content: "Interacting with container ecosystem link Docker Images and Image Layers\nIn Docker, an image is a lightweight, stand-alone, executable package that includes everything needed to run a piece of software, including the application code, libraries, dependencies, and runtime. It’s used to build and run containerized applications.\nA Docker image is made up of a series of layers, where each layer represents an instruction in the image’s Dockerfile. When you build an image, each instruction in the Dockerfile creates a new layer in the image. For example, if the Dockerfile has a COPY instruction to copy in some new files, that creates a new layer in the image with those files. If you then change a file and rebuild the image, only the layers that have changed need to be rebuilt, which makes building images faster and more efficient.\nEach layer is a delta of the changes made in that instruction compared to the previous layer. When you run a container from an image, Docker creates a new top writable layer on top of the underlying layers, allowing you to make changes to the running container. These changes are not persisted when the container is stopped and removed, unless you commit the changes to a new image.\nIn summary, a Docker image is a lightweight, stand-alone, executable package that contains everything needed to run a piece of software, and it is made up of a series of layers representing instructions in the image’s Dockerfile.\nDocker images commands link docker images [OPTIONS] [REPOSITORY[:TAG]] The default docker images will show all top level images, their repository and tags, and their size. Docker images have intermediate layers that increase reusability, decrease disk usage, and speed up docker build by allowing each step to be cached. These intermediate layers are not shown by default. The SIZE is the cumulative space taken up by the image and all its parent images. This is also the disk space used by the contents of the Tar file created when you docker save an image.\nAn image will be listed more than once if it has multiple repository names or tags. This single image (identifiable by its matching IMAGE ID) uses up the SIZE listed only once.\ndocker images - list all local Docker images\nExample: docker images docker image ls - list all local Docker images with additional information such as image ID, repository, and tag Example: docker image ls\ndocker image inspect - display detailed information about a Docker image Example: docker image inspect ubuntu:latest docker image history - show the history of a Docker image Example: docker image history ubuntu:latest docker image pull - download a Docker image from a registry Example: docker image pull ubuntu:latest docker image push - push a Docker image to a registry Example: docker image push my-image:latest docker image tag - add a tag to a Docker image Example: docker image tag ubuntu:latest my-image:latest docker image build - build a Docker image from a Dockerfile Example: docker image build -t my-image:latest . docker image save - save a Docker image to a tar archive Example: docker image save ubuntu:latest \u003e ubuntu.tar docker image load` - load a Docker image from a tar archive Example: docker image load \u003c ubuntu.tar```\nName, shorthand Default Description –all , -a Show all images (default hides intermediate images) –digests Show digests –filter , -f Filter output based on conditions provided –format Pretty-print images using a Go template –no-trunc Don’t truncate output –quiet , -q Only show image IDs List recently created images link $ docker images alternative\n$ docker image ls Filtering Docker Image List link $ docker images --filter \" = \" With the –filter option, you can specify the following keys :\nreference : that can be used in order to isolate images having a certain name or tag; $ docker images --filter \"reference=deb*\" before : to filter images created “before” a specific point in time;\n$ docker images --filter \"before=\" since : to filter images since a specific point in time (usually another image creation);\ndocker images --filter \"since=\" label : if you used the LABEL instruction to create metadata for your image you can filter them later with this key\n$ docker images --filter \"label=maintainer=\" dangling : in order to isolate images that are not used anymore.\ndocker images --filter \"dangling=true\" Here are some examples of using the ‘docker images’ command with the ‘–format’ option: linkTo list all Docker images and their IDs in a table format, use the following command:\ndocker images --format \"table {{.ID}}\\t{{.Repository}}\" output\nIMAGE ID REPOSITORY 4f4b6b93e0a4 alpine To list all Docker images and their sizes in a custom format, use the following command:\ndocker images --format \"{{.Size}}\\t{{.Repository}}\" output\nSIZE REPOSITORY 3.99 MB alpine To list all Docker images and their created dates in a custom format, use the following command:\ndocker images --format \"{{.CreatedAt}}\\t{{.Repository}}\" output\nCREATED AT REPOSITORY 2022-03-01T00:00:00Z alpine To list all Docker images with their full repository and tag names, use the --no-trunc flag:\ndocker images --all --no-trunc docker images --quiet - This command lists all of the Docker images on the system, but only displays the image IDs.\ndocker images --quiet output\ncdd72a7d23c8 docker pull --quiet [image name] - This command pulls a Docker image from the registry, but only displays the image ID of the image being pulled.\ndocker pull --quiet alpine output\nd9e555c53f53 docker build --quiet -t [image name] [Dockerfile location] - This command builds a Docker image from a Dockerfile, but only displays the image ID of the image being built.\ndocker build --quiet -t my-image . output\n24c1f2a1c63d Understand Image Layers link\nwhy layers ? to save on computational efforts when building images , and bandwidth (aka pulling and pushing ) them\nBuild Container images\nFROM node:alpine WORKDIR /app COPY package*.json ./ RUN npm install COPY ./ ./ CMD [\"npm\", \"start\"] This Dockerfile contains instructions needed to build a basic Node.js app image on Docker. When you run a docker build command, Docker starts executing these instructions one at a time, iteratively.\nEach time a command is executed from the Dockerfile, a new image layer is created on top of the existing image. This process is iterated until Docker reads the last command of the Dockerfile. Each instruction created a new image.\nComposition of a Docker Image linktypically , an image can constitute the following\nBase Image\nall of the container iamges are created from the base image. this ia an emoty first layer that allows users to build their images form scratch\nif you do not want to create your base image from scratch, you can use an official Docker image like Centos as your base image or customize one of the official Docker images to your requirements. Parent Image\nthe parent images is most cases, the first Docker image layer. This is foundation of all other layers in your Docker. Thus, this layer provides the basic building blocks for container environments. Layers\nThe other Docker layers are added to the base image using a code to allow them to run in a container. Docker’s default status displays all the top-layer images, including file sizes, tags, and repositories. Caching of intermediate layers makes it easier to view the top layers. Storage drives in Docker manage the contents in image layers. Container layer\nBesides creating a new container, a Docker image creates a container or writable layer. It hosts the changes that you make to your running container. This layer also stores the deleted and newly written files and changes made to the existing files. This layer is also useful when customizing containers. Docker manifest\nThe list of all image layers created by specific image names is known as a Docker manifest. These manifests are used the same way you would use an image name in the docker run and pull commands.\nTo build a Docker container image using a Dockerfile, follow these steps:\nCreate a new directory and navigate to it in your terminal. Inside the directory, create a file named Dockerfile (without any file extension). Inside the Dockerfile, specify the base image you want to build from using the “FROM” directive. For example: FROM alpine Add any additional instructions to the Dockerfile, such as installing packages, copying files, or setting environment variables. Save the Dockerfile. In your terminal, navigate to the directory containing the Dockerfile. Run the docker build command, followed by the desired name and tag for the image, and the path to the Dockerfile: docker build -t my-image:latest .\nThe Docker engine will now build the image based on the instructions in the Dockerfile. Once the build is complete, you can verify that the image was created by running the “docker images” command:\ndocker images Dockerfile instructions with example link1.FROM: This instruction sets the base image for the Docker container. For example:\nFROM ubuntu:latest\n2.RUN: This instruction runs a command in the container. For example:\nRUN apt-get update\n3.COPY: This instruction copies files from the host machine to the container. For example:\nCOPY app/ /app\n4.ADD: This instruction is similar to COPY, but it can also handle URL sources and automatically decompress compressed files. For example:\nADD https://example.com/app.tar.gz /app\n5.ENV: This instruction sets environment variables in the container. For example:\nENV LANG=en_US.UTF-8\n6.WORKDIR: This instruction sets the working directory for the container. For example:\nWORKDIR /app\n7.EXPOSE: This instruction exposes a port on the container to be accessed from the host machine. For example:\nEXPOSE 8080\n8.CMD: This instruction sets the default command to be run when the container is started. For example:\nCMD [\"python\", \"app.py\"]\n9.ENTRYPOINT: This instruction sets the default command to be run when the container is started, but it cannot be overridden by command-line arguments. For example:\nENTRYPOINT [\"python\", \"app.py\"]\nLab 1 linkBegin by creating a new file called “Dockerfile” in your project directory. In the Dockerfile, we will first specify the base image that we will be using. For this example, we will be using the latest version of Ubuntu as our base image.\nFROM ubuntu:latest Next, we will run the necessary commands to install Git on the base image.\nRUN apt-get update RUN apt-get install -y git Once the installation is complete, we will set the default command to run when the container starts. In this case, we will set it to run the Git version command to confirm that Git is installed and functioning correctly.\nCMD [\"git\", \"--version\"] Save the Dockerfile and close it. To build the Docker image, we will use the “docker build” command and specify the path to the Dockerfile as an argument.\ndocker build -t my_git_image . This will start a new container based on the “my_git_image” image and run the default command specified in the Dockerfile. The output should show the version of Git installed in the image.\nLab 2 linkIn the Dockerfile, specify the base image you want to use. For example:\nFROM ubuntu:20.04 Add the ADD instruction to your Dockerfile to copy files or directories from your local system into the image. For example:\nADD my_file.txt /app/ ADD my_directory /app/ Use the RUN instruction to execute any necessary commands or installs for your image.\nUse the CMD instruction to specify the command that will be run when a container is started from this image.\nBuild the Docker image using the following command:\ndocker build -t my_image_name . Run the image using the following command:\ndocker run -d my_image_name Lab 2 linkDockerfilein your favorite text editor and add the following content to it:\nFROM ubuntu:18.04 CMD [\"echo\", \"Hello, World!\"] This Dockerfile specifies that we want to use the ubuntu:18.04 base image and run the echo command with the arguments\"Hello, World!\" when the container is started.\ndocker build -t myimage . docker run myimage Lab 3 linkIn the Dockerfile, specify the base image that your image will be built on. For this example, we will use the alpine base image, which is a lightweight version of Linux:\nFROM alpine Next, add the COPY instruction to copy a file or directory from your local machine into the image. For example, if you want to copy the file hello.txt from your current directory into the image, you would use the following instruction:\nCOPY hello.txt / ou can also specify a different destination for the file. For example, if you want to copy hello.txt into the /app directory inside the image, you would use the following instruction:\nCOPY hello.txt /app/ Now that you have specified the base image and the files to be copied, you can build your Docker image. Run the following command to build the image, replacing my-image with the desired name for your image:\ndocker build -t my-image . To verify that the image was built successfully and that the file was copied into the image, you can run the following command to view the list of available Docker images:\ndocker images You should see your new image listed in the output. To run the image, use the docker run command, followed by the name of the image:\ndocker run my-image Lab 4 linkhere is an example of creating a Python app with an Entrypoint instruction:\nFirst, create a new directory for your app and navigate to it in the command line. Create a file called app.py and add the following code:\ndef main(): print(\"Hello, world!\") if __name__ == \"__main__\": main() Next, create a file called Dockerfile and add the following code:\nFROM python:3.8-slim COPY app.py /app/app.py ENTRYPOINT [\"python\", \"/app/app.py\"] Build the Docker image by running the following command:\ndocker build -t my-app . Run the Docker image by using the following command:\ndocker run my-app Lab 5 link FROM nginx:alpine WORKDIR /var/www/html COPY . . EXPOSE 80 CMD [\"nginx\", \"-g\", \"daemon off;\"] This Dockerfile will use the nginx:alpine image as a base, set the working directory to /var/www/html, copy all the files in the current directory (.) to the working directory, expose port 80, and start the nginx daemon.\nNow let’s create a sample HTML file calledindex.html:\nNginx Workdir Example Welcome to the Nginx Workdir Example Now we can build and run the Docker container using the following commands:\ndocker build -t nginx-workdir . docker run -p 8080:80 nginx-workdir This will build the Docker image with the tag nginx-workdir and run the container, mapping port 8080 on the host machine to port 80 in the container.\nTo verify that everything is working, open your web browser and navigate to http://localhost:8080. You should see the content of the index.html file displayed.\nThat’s it! You have successfully created a Docker container using the WORKDIR instruction to set the working directory for the nginx daemon.\nLab 6 link Pull the Nginx image from Docker Hub: docker pull nginx Create a directory on your local machine that you want to use as the volume for Nginx: mkdir /path/to/volume Run the Nginx container and mount the volume using the -v flag: docker run -d -p 80:80 -v /path/to/volume:/usr/share/nginx/html:ro nginx Test that the volume is working by creating a file in the volume directory on your local machine: echo \"Hello, World!\" \u003e /path/to/volume/index.html\nVisit http://localhost in your web browser to see the contents of the volume displayed in the Nginx container. Note: The -d flag runs the container in detached mode, the -p flag maps port 80 on the host to port 80 in the container, and the :ro flag makes the volume read-only inside the container.\nStoring data in a container link Storing data in a container(mounts, volumes, etc.)\nNetworking in containers\nStoring data in a docker container linkThere are several options for storing data in a docker container:\nUse a volume: Docker volumes allow you to persist data outside of the container, so it can be shared between multiple containers or saved even if the container is stopped or removed. You can create a volume using the “docker volume create” command and then mount it to a specific directory in your container using the “-v” flag in the “docker run” command.\nCreate a volume using the docker volume create command:\n$ docker volume create data-volume Run a docker container and mount the volume using the -v flag: $ docker run -d --name my-container -v data-volume:/data ubuntu:latest Check if the volume is mounted to the container by using the docker inspect command: $ docker inspect my-container | grep Mounts You should see output similar to this:\n\"Mounts\": [ { \"Type\": \"volume\", \"Name\": \"data-volume\", \"Source\": \"/var/lib/docker/volumes/data-volume/_data\", \"Destination\": \"/data\", \"Driver\": \"local\", \"Mode\": \"\", \"RW\": true, \"Propagation\": \"\" } ], Now, any data that you write to the /data directory inside the container will be persisted in the volume.\nFor example, you can create a file in the /data directory:\n$ docker exec -it my-container touch /data/test.txt To verify that the data has been persisted, you can run another container and mount the same volume:\n$ docker run -it --name my-container-2 -v data-volume:/data ubuntu:latest bash Inside the new container, you should be able to see the test.txt file:\n$ ls /data test.txt This demonstrates how you can use a volume to store data in a docker container. The data will persist even if the container is stopped or deleted, as it is stored in the volume, which is managed by Docker.\nUse a bind mount:\nA bind mount is a file or directory on the host machine that is mounted into a container. This allows you to access data on the host machine from within the container. You can create a bind mount using the -v flag in the “docker run” command, specifying the path to the file or directory on the host as well as the desired mount point in the container.\nCreate a directory on the host machine that you want to use as the bind mount. For example:\nmkdir /data Run the docker container, using the -v flag to specify the bind mount. The syntax is -v host_directory:container_directory. For example:\ndocker run -d -p 8080:80 -v /data:/var/www/html my_web_server This will mount the /data directory on the host machine to the /var/www/html directory in the container, which is typically the root directory for web server content.\nYou can now add or modify files in the /data directory on the host machine and they will be automatically reflected in the container’s /var/www/html directory. To verify that the bind mount is working, you can create a test file in the /data directory on the host machine: echo \"This is a test file\" \u003e /data/test.txt Then, open a shell in the container and check if the file exists in the /var/www/html directory:\ndocker exec -it my_web_server /bin/bash ls /var/www/html You should see the test.txt file listed in the output.\nUse a data container: A data container is a container specifically designed to store data that can be shared between multiple containers. You can create a data container using the docker create command, and then mount the data container’s volume to a specific directory in other containers using the “-v” flag in the “docker run” command.\nCreate a new data container using the docker create command. For example:\ndocker create -v /data --name data-container busybox /bin/true This creates a data container with a volume at /data and a name of data-container.\nStart the data container using the docker start command. For example:\ndocker run -it --volumes-from data-container --name app-container ubuntu bash This creates a new container named app-container that will use the volume from the data container.\nIn the app-container, you can now access the data stored in the data-container. For example: root@7bd72f1f0f77:/# ls /data This will show the contents of the /data volume in the data-container.\nTo stop the data container, use the docker stop command. For example:\ndocker stop data-container This will stop the data container, but the data will still be available in the app-container.\nTo delete the data container, use the docker rm command. For example:\ndocker rm data-container This will delete the data container, but the data will still be available in the app-container.\nUse a host path: You can also store data directly on the host machine and access it from within the container using the “-v” flag in the “docker run” command, specifying the path on the host machine as the mount point in the container. However, this option is not recommended as it can lead to issues with container portability and separation of concerns. To use a host path to store data in Docker, you will need to use the “-v” flag in the “docker run” command to specify the host path and the container path for the data volume. Here is an example using a MongoDB container:\nFirst, create a directory on your host machine to store the data:\nmkdir -p /data/mongodb Run the MongoDB container, using the “-v” flag to mount the host path as a data volume in the container:\ndocker run -d --name mongodb -v /data/mongodb:/data/db mongo:latest You can verify that the data volume is being used by the container by checking the output of the “docker inspect” command:\ndocker inspect mongodb | grep -i \"Mounts\" This should return a list of all the mounted data volumes, including the host path that you specified in the “docker run” command.\nNote: Make sure that the host path that you specify in the “-v” flag exists and is readable/writable by the container. Otherwise, the container may not start or may have issues accessing the data volume.\nNetworking in containers linkThere are two types of networking in Docker:\nBridge networking: This is the default networking mode in Docker. It creates a virtual network between containers on the same host. Each container is given its own IP address within this network, and containers can communicate with each other using this network. First, create a Dockerfile that will build our container:\nFROM alpine CMD [\"echo\", \"Hello World!\"] Build the image using the following command:\ndocker build -t hello-world . docker run -it hello-world Inspect the container’s networking configuration using the following command:\n\"NetworkSettings\": { \"Bridge\": \"\", \"SandboxID\": \"4f3c70f4f74b1dc5d5e5e3f5e5ed72c5e5e1f2613e1644b2aa5b004f2ab2d9e8\", \"HairpinMode\": false, \"LinkLocalIPv6Address\": \"\", \"LinkLocalIPv6PrefixLen\": 0, \"Ports\": {}, \"SandboxKey\": \"/var/run/docker/netns/4f3c70f4f74b\", \"SecondaryIPAddresses\": null, \"SecondaryIPv6Addresses\": null, \"EndpointID\": \"f48c68e9ce012791d63f0b3ee3b3a85d6c7f6ed5b6c4b6e5b6d5b6c2e5e5f6d4\", \"Gateway\": \"172.17.0.1\", \"GlobalIPv6Address\": \"\", \"GlobalIPv6PrefixLen\": 0, \"IPAddress\": \"172.17.0.2\", \"IPPrefixLen\": 16, \"IPv6Gateway\": \"\", \"MacAddress\": \"02:42:ac:11:00:02\", \"Networks\": { \"bridge\": { \"IPAMConfig\": null, \"Links\": null, \"Aliases\": null, \"NetworkID\": \"5e5f5c5d5e5d5e5f5d5f5c5e5d5e5d5d5e5f5d5e5f5c5d5e5d5e5f5c5e5f5d5e\", \"EndpointID\": \"f48c68e9ce012791d63f0b3ee3b3a85d6c7f6ed5b6c4b6e5b6d5b6c2e5e5f6d4\", \"Gateway\": \"172.17.0.1\", \"IPAddress\": \"172.17.0.2\", \"IPPrefixLen\": 16, \"IPv6Gate Overlay networking: This type of networking allows you to connect multiple Docker hosts into a single virtual network. This is useful for situations where you have multiple hosts running Docker containers, and you want them to be able to communicate with each other. Overlay networking in Docker allows containers to communicate with each other across multiple hosts. This is useful for situations where you have multiple Docker hosts running and you want to create a network that spans across those hosts.\nTo demonstrate overlay networking, we will create two Docker hosts and a single network that will be shared between them. We will then create two containers, one on each host, and demonstrate that they can communicate with each other through the overlay network.\nFirst, we will create two Docker hosts using Docker Machine. For this example, we will use two virtual machines running on VirtualBox.\ndocker-machine create --driver virtualbox host1 docker-machine create --driver virtualbox host2 Next, we will create an overlay network on one of the hosts. We will name this network “mynetwork” and specify the --attachable flag so that other containers can attach to it\neval $(docker-machine env host1) docker network create --driver overlay --attachable mynetwork Now that the network has been created, we can deploy containers on both hosts and attach them to the network.\nOn host1:\neval $(docker-machine env host1) docker run -d --name container1 --network mynetwork busybox On host2:\neval $(docker-machine env host2) docker run -d --name container2 --network mynetwork busybox Now that both containers are attached to the same overlay network, we can verify that they can communicate with each other.\nOn host1:\neval $(docker-machine env host1) docker exec -it container1 ping -c 3 container2 On host2:\neval $(docker-machine env host2) docker exec -it container2 ping -c 3 container1 If the ping commands are successful, it means that the containers are able to communicate with each other through the overlay network.\nThis is just a simple example of how overlay networking can be used in Docker. There are many other uses and configurations that can be explored.\nDocker Compose linkDocker Compose is a tool for defining and running multi-container Docker applications. With Compose, you use a YAML file to configure your application’s services. Then, with a single command, you create and start all the services from your configuration.\nTo install Docker Compose, follow the instructions for your operating system:\n# For macOS or Linux: sudo curl -L \"https://github.com/docker/compose/releases/download/1.28.5/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose # For Windows: Download the Docker Compose binary from https://github.com/docker/compose/releases/download/1.28.5/docker-compose-Windows-x86_64.exe and save it to a location on your PATH (e.g., C:\\Program Files\\Docker). Once Docker Compose is installed, you can use it to create and start your multi-container Docker application by using the docker-compose up command. For example, suppose you have a YAML file called docker-compose.yml that defines your application’s services like this:\nversion: '3' services: web: build: . ports: - \"5000:5000\" volumes: - .:/app redis: image: \"redis:alpine\" You can start all of these services with the following command:\ndocker-compose up This command will build the web service image, create and start the web and redis containers, and attach the terminal to the logs of the running containers.\nDocker Compose Build link docker-compose build Redeploy just one Service link docker-compose up $SERVICE_NAME start all services / container using docker compose link docker-compose up // Specify a custom filepath for your //docker-compose file // (it assumes docker-compose.yml in //your current directory by default) ocker-compose -f custom-docker-compose.yml up // Apply multiple compose files (changes in latter) docker-compose -f docker-compose.yml docker-compose-production.yml sample docker-compose file link #docker-compose.yml file version: '3' services: # Your web application =\u003e Container web: build: . ports: - \"5000:5000\" # Redis cache container redis: image: \"redis:alpine\" version: \"3\" networks: backend: driver: bridge services: app: build: context: . dockerfile: Dockerfile container_name: app image: ${REGISTRY}/my-project-name restart: always ports: - \"80:80\" - \"443:443\" depends_on: - db networks: - backend env_file: - ./.env db: image: mariadb:10.5 container_name: db restart: always networks: backend volumes: - mysql-data:/var/lib/mysql environment: - FOO=bar - SOME_ENV_VAR=${SUBSTITUTED_VARIABLE} env_file: - ./.env volumes: mysql-data: driver: local labels\nservices: web: labels: com.app.description: \"My web app\" Docker CheatSheet\n"
            }
        );
    index.add(
            {
                id:  4 ,
                href: "\/docs\/containerd\/architecture-of-containerd\/",
                title: "Architecture of containerd",
                description: " This diagram represents the architecture of containerd, an industry-standard core container runtime. It is designed to be less opinionated and can be used as a base for building a more complex container platform. Let’s break down the architecture depicted in the image:\nEcosystem Layer\nThe topmost layer is the ecosystem that interacts with containerd. It includes:\nPlatforms: Cloud platforms and container orchestration systems that use containerd as their runtime, such as Google Cloud Platform, Docker, IBM Cloud, Microsoft Azure, Alibaba Cloud, AWS, and others.\n",
                content: " This diagram represents the architecture of containerd, an industry-standard core container runtime. It is designed to be less opinionated and can be used as a base for building a more complex container platform. Let’s break down the architecture depicted in the image:\nEcosystem Layer\nThe topmost layer is the ecosystem that interacts with containerd. It includes:\nPlatforms: Cloud platforms and container orchestration systems that use containerd as their runtime, such as Google Cloud Platform, Docker, IBM Cloud, Microsoft Azure, Alibaba Cloud, AWS, and others.\nClients: Tools that interact with containerd, like kubectl for Kubernetes, Docker CLI, ctr (containerd’s own CLI tool), BuildKit for building containers, and others.\nCRI Runtime: containerd is compatible with the Kubernetes Container Runtime Interface (CRI), making it possible to use containerd as the runtime in Kubernetes.\ncontainerd Layer\nThis is the core of containerd, divided into several components:\nAPI: The gRPC API layer through which clients communicate with containerd. It defines service handlers for various container management tasks.\nService Handlers: These are gRPC services that handle API requests. They include services for managing containers, images, snapshots, tasks, namespaces, and more.\nCore Layer\nThis is where the main functionality of containerd resides:\nServices: These are the backend services that do the actual work. They include: Containers Service: Manages container metadata.\nContent Service: Manages the storage and retrieval of content like layers and config.\nDiff Service: Handles layer diff computations.\nImages Service: Manages image metadata. Leases Service: Manages client leases for resources.\nNamespaces Service: Provides multi-tenancy by segregating resources per namespace.\nSnapshots Service: Manages filesystem snapshots.\nTasks Service: Manages the execution of containers.\nBackend Layer\nThe backend consists of the components that interact with the host system:\nContent Store: Storage for content like container images. This can be local storage or a plugin.\nSnapshotter: Handles the creation of filesystem snapshots. There are various snapshotter plugins available, including overlay, btrfs, devmapper, native, and windows.\nRuntime: This is where the containers are actually run. containerd supports multiple runtimes:\nrunc: The default OCI runtime for Linux containers.\nrunhcs: A runtime for running Windows containers.\nKata Containers: Provides lightweight VMs that offer more isolation than traditional container environments.\nFirecracker: A microVM manager for creating and managing microVMs. gVisor: A user-space kernel for providing sandboxed environments.\nV2 shim client: A newer version of the shim that manages the lifecycle of the containers and the host processes related to it.\nSystem Layer\nThe bottom layer represents the system dependencies:\nOperating Systems: The diagram shows containerd being compatible with ARM and Intel architectures, indicating cross-platform support.\nLinux Penguins: Symbolizes that containerd is a Linux-native technology, but it also supports Windows as indicated by the “windows” snapshotter. Metrics Off to the side, there is a connection to Prometheus, which is a monitoring system that collects metrics. containerd has built-in support for exporting metrics that Prometheus can scrape and use for monitoring and alerting.\nOverall, containerd is designed to handle the lifecycle of containers and images in a container system, manage storage and execution, and allow for extensive customization through plugins and external tooling. It is a key component in many modern container platforms, offering a balance between functionality and flexibility.\n"
            }
        );
    index.add(
            {
                id:  5 ,
                href: "\/docs\/containersecurity\/attack-surface-of-the-container-ecosystem\/",
                title: "Attack surface of the container ecosystem ",
                description: "Container Technology Archiecture link Developer systems (generate images and send them to testing and accreditation) Testing and accreditation systems (validate and verify the contents of images, sign images, and send images to the registry) Registries (store images and distribute images to the orchestrator upon request) Orchestrators (convert images into containers and deploy containers to hosts) Hosts (run and stop containers as directed by the orchestrator) Attack surface of the container ecosystem link ",
                content: "Container Technology Archiecture link Developer systems (generate images and send them to testing and accreditation) Testing and accreditation systems (validate and verify the contents of images, sign images, and send images to the registry) Registries (store images and distribute images to the orchestrator upon request) Orchestrators (convert images into containers and deploy containers to hosts) Hosts (run and stop containers as directed by the orchestrator) Attack surface of the container ecosystem link One way to start thinking about the threat model is to consider the actors involved. These might include:\nExternal attackers attempting to access a deployment from outside Internal attackers who have managed to access some part of the deployment Malicious internal actors such as developers and administrators who have some level of privilege to access the deployment Inadvertent internal actors who may accidentally cause problems Application processes that, while not sentient beings intending to compromise your system, might have programmatic access to the system "
            }
        );
    index.add(
            {
                id:  6 ,
                href: "\/docs\/helm\/deep-dive-chart\/",
                title: "Deep Dive into Charts",
                description: "create new chart link (base) ➜ helm-workshop git:(main) ✗ cd new-chart (base) ➜ new-chart git:(main) ✗ ls Chart.yaml charts templates values.yaml (base) ➜ new-chart git:(main) ✗ charts linkif you see your file structure you don’t see charts folder\n. ├── Chart.yaml ├── charts ├── templates │ ├── NOTES.txt │ ├── _helpers.tpl │ ├── deployment.yaml │ ├── hpa.yaml │ ├── ingress.yaml │ ├── service.yaml │ ├── serviceaccount.yaml │ └── tests │ └── test-connection.yaml └── values.yaml Notes.txt linkits container notes for user how to run this helm charts\n",
                content: "create new chart link (base) ➜ helm-workshop git:(main) ✗ cd new-chart (base) ➜ new-chart git:(main) ✗ ls Chart.yaml charts templates values.yaml (base) ➜ new-chart git:(main) ✗ charts linkif you see your file structure you don’t see charts folder\n. ├── Chart.yaml ├── charts ├── templates │ ├── NOTES.txt │ ├── _helpers.tpl │ ├── deployment.yaml │ ├── hpa.yaml │ ├── ingress.yaml │ ├── service.yaml │ ├── serviceaccount.yaml │ └── tests │ └── test-connection.yaml └── values.yaml Notes.txt linkits container notes for user how to run this helm charts\n1. Get the application URL by running these commands: {{- if .Values.ingress.enabled }} {{- range $host := .Values.ingress.hosts }} {{- range .paths }} http{{ if $.Values.ingress.tls }}s{{ end }}://{{ $host.host }}{{ .path }} {{- end }} {{- end }} {{- else if contains \"NodePort\" .Values.service.type }} export NODE_PORT=$(kubectl get --namespace {{ .Release.Namespace }} -o jsonpath=\"{.spec.ports[0].nodePort}\" services {{ include \"new-chart.fullname\" . }}) export NODE_IP=$(kubectl get nodes --namespace {{ .Release.Namespace }} -o jsonpath=\"{.items[0].status.addresses[0].address}\") echo http://$NODE_IP:$NODE_PORT {{- else if contains \"LoadBalancer\" .Values.service.type }} NOTE: It may take a few minutes for the LoadBalancer IP to be available. You can watch the status of by running 'kubectl get --namespace {{ .Release.Namespace }} svc -w {{ include \"new-chart.fullname\" . }}' export SERVICE_IP=$(kubectl get svc --namespace {{ .Release.Namespace }} {{ include \"new-chart.fullname\" . }} --template \"{{\"{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}\"}}\") echo http://$SERVICE_IP:{{ .Values.service.port }} {{- else if contains \"ClusterIP\" .Values.service.type }} export POD_NAME=$(kubectl get pods --namespace {{ .Release.Namespace }} -l \"app.kubernetes.io/name={{ include \"new-chart.name\" . }},app.kubernetes.io/instance={{ .Release.Name }}\" -o jsonpath=\"{.items[0].metadata.name}\") export CONTAINER_PORT=$(kubectl get pod --namespace {{ .Release.Namespace }} $POD_NAME -o jsonpath=\"{.spec.containers[0].ports[0].containerPort}\") echo \"Visit http://127.0.0.1:8080 to use your application\" kubectl --namespace {{ .Release.Namespace }} port-forward $POD_NAME 8080:$CONTAINER_PORT {{- end }} _helper linkthis file nothing to do with kubernetes resource its just variable\n{{/* Expand the name of the chart. */}} {{- define \"new-chart.name\" -}} {{- default .Chart.Name .Values.nameOverride | trunc 63 | trimSuffix \"-\" }} {{- end }} {{/* Create a default fully qualified app name. We truncate at 63 chars because some Kubernetes name fields are limited to this (by the DNS naming spec). If release name contains chart name it will be used as a full name. */}} {{- define \"new-chart.fullname\" -}} {{- if .Values.fullnameOverride }} {{- .Values.fullnameOverride | trunc 63 | trimSuffix \"-\" }} {{- else }} {{- $name := default .Chart.Name .Values.nameOverride }} {{- if contains $name .Release.Name }} {{- .Release.Name | trunc 63 | trimSuffix \"-\" }} {{- else }} {{- printf \"%s-%s\" .Release.Name $name | trunc 63 | trimSuffix \"-\" }} {{- end }} {{- end }} {{- end }} {{/* Create chart name and version as used by the chart label. */}} {{- define \"new-chart.chart\" -}} {{- printf \"%s-%s\" .Chart.Name .Chart.Version | replace \"+\" \"_\" | trunc 63 | trimSuffix \"-\" }} {{- end }} {{/* Common labels */}} {{- define \"new-chart.labels\" -}} helm.sh/chart: {{ include \"new-chart.chart\" . }} {{ include \"new-chart.selectorLabels\" . }} {{- if .Chart.AppVersion }} app.kubernetes.io/version: {{ .Chart.AppVersion | quote }} {{- end }} app.kubernetes.io/managed-by: {{ .Release.Service }} {{- end }} {{/* Selector labels */}} {{- define \"new-chart.selectorLabels\" -}} app.kubernetes.io/name: {{ include \"new-chart.name\" . }} app.kubernetes.io/instance: {{ .Release.Name }} {{- end }} {{/* Create the name of the service account to use */}} {{- define \"new-chart.serviceAccountName\" -}} {{- if .Values.serviceAccount.create }} {{- default (include \"new-chart.fullname\" .) .Values.serviceAccount.name }} {{- else }} {{- default \"default\" .Values.serviceAccount.name }} {{- end }} {{- end }} chart.yaml linkits container helm chart versioning\napiVersion: v2 name: new-chart description: A Helm chart for Kubernetes # A chart can be either an 'application' or a 'library' chart. # # Application charts are a collection of templates that can be packaged into versioned archives # to be deployed. # # Library charts provide useful utilities or functions for the chart developer. They're included as # a dependency of application charts to inject those utilities and functions into the rendering # pipeline. Library charts do not define any templates and therefore cannot be deployed. type: application # This is the chart version. This version number should be incremented each time you make changes # to the chart and its templates, including the app version. # Versions are expected to follow Semantic Versioning (https://semver.org/) version: 0.1.0 # This is the version number of the application being deployed. This version number should be # incremented each time you make changes to the application. Versions are not expected to # follow Semantic Versioning. They should reflect the version the application is using. # It is recommended to use it with quotes. appVersion: \"1.16.0\" "
            }
        );
    index.add(
            {
                id:  7 ,
                href: "\/docs\/docker\/hello-world-in-docker\/",
                title: "Hello World in Docker",
                description: "run your first hello world example link docker run hello-world is a command that runs a simple Docker container to verify that Docker is correctly installed on your system and working as expected.\nWhen you run this command, Docker will first check if the “hello-world” image is available locally. If the image is not found, Docker will download it from the Docker Hub registry.\nOnce the “hello-world” image is available, Docker will create a container from the image and run it. The container will print a message to the console to indicate that everything is working correctly.\n",
                content: "run your first hello world example link docker run hello-world is a command that runs a simple Docker container to verify that Docker is correctly installed on your system and working as expected.\nWhen you run this command, Docker will first check if the “hello-world” image is available locally. If the image is not found, Docker will download it from the Docker Hub registry.\nOnce the “hello-world” image is available, Docker will create a container from the image and run it. The container will print a message to the console to indicate that everything is working correctly.\nHere’s an example of what you might see when you run docker run hello-world:\ndocker run hello-world Unable to find image 'hello-world:latest' locally latest: Pulling from library/hello-world 7050e35b49f5: Pull complete Digest: sha256:6e8b6f026e0b9c419ea0fd02d3905dd0952ad1feea67543f525c73a0a790fefb Status: Downloaded newer image for hello-world:latest Hello from Docker! This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. (arm64v8) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker ID: https://hub.docker.com/ For more examples and ideas, visit: https://docs.docker.com/get-started/ check it out list of docker images link dockerworkshop git:(main) ✗ docker images REPOSITORY TAG IMAGE ID CREATED SIZE hello-world latest 46331d942d63 11 months ago 9.14kB docker inspect is a command used to retrieve detailed information about one or more Docker objects, such as containers, images, networks, volumes, and more. The command allows you to inspect the configuration and state of a Docker object, including its metadata, networking information, storage configuration, and more.\nHere’s the basic syntax of the docker inspect command:\ndocker inspect [OPTIONS] OBJECT [OBJECT...] OPTIONS: Optional flags that modify the output of the command. OBJECT: The name or ID of the Docker object to inspect. For example, to inspect a running Docker container named hello-world , you could use the following command:\ndocker inspect hello-world [ { \"Id\": \"sha256:46331d942d6350436f64e614d75725f6de3bb5c63e266e236e04389820a234c4\", \"RepoTags\": [ \"hello-world:latest\" ], \"RepoDigests\": [ \"hello-world@sha256:6e8b6f026e0b9c419ea0fd02d3905dd0952ad1feea67543f525c73a0a790fefb\" ], \"Parent\": \"\", \"Comment\": \"\", \"Created\": \"2022-03-19T16:12:58.923371954Z\", \"Container\": \"b2af51419cbf516f3c99b877a64906b21afedc175bd3cd082eb5798e2f277bb4\", \"ContainerConfig\": { \"Hostname\": \"b2af51419cbf\", \"Domainname\": \"\", \"User\": \"\", \"AttachStdin\": false, \"AttachStdout\": false, \"AttachStderr\": false, \"Tty\": false, \"OpenStdin\": false, \"StdinOnce\": false, \"Env\": [ \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" ], \"Cmd\": [ \"/bin/sh\", \"-c\", \"#(nop) \", \"CMD [\\\"/hello\\\"]\" ], \"Image\": \"sha256:cc0fff24c4ece63ade5d9f549e42c926cf569112c4f5c439a4a57f3f33f5588b\", \"Volumes\": null, \"WorkingDir\": \"\", \"Entrypoint\": null, \"OnBuild\": null, \"Labels\": {} }, \"DockerVersion\": \"20.10.12\", \"Author\": \"\", \"Config\": { \"Hostname\": \"\", \"Domainname\": \"\", \"User\": \"\", \"AttachStdin\": false, \"AttachStdout\": false, \"AttachStderr\": false, \"Tty\": false, \"OpenStdin\": false, \"StdinOnce\": false, \"Env\": [ \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\" ], \"Cmd\": [ \"/hello\" ], \"Image\": \"sha256:cc0fff24c4ece63ade5d9f549e42c926cf569112c4f5c439a4a57f3f33f5588b\", \"Volumes\": null, \"WorkingDir\": \"\", \"Entrypoint\": null, \"OnBuild\": null, \"Labels\": null }, \"Architecture\": \"arm64\", \"Variant\": \"v8\", \"Os\": \"linux\", \"Size\": 9136, \"VirtualSize\": 9136, \"GraphDriver\": { \"Data\": { \"MergedDir\": \"/var/lib/docker/overlay2/851a7de3abc0e1977e00c9bd8976c5fa1b0d954d3dc847ae15b36539f43e90a3/merged\", \"UpperDir\": \"/var/lib/docker/overlay2/851a7de3abc0e1977e00c9bd8976c5fa1b0d954d3dc847ae15b36539f43e90a3/diff\", \"WorkDir\": \"/var/lib/docker/overlay2/851a7de3abc0e1977e00c9bd8976c5fa1b0d954d3dc847ae15b36539f43e90a3/work\" }, \"Name\": \"overlay2\" }, \"RootFS\": { \"Type\": \"layers\", \"Layers\": [ \"sha256:efb53921da3394806160641b72a2cbd34ca1a9a8345ac670a85a04ad3d0e3507\" ] }, \"Metadata\": { \"LastTagTime\": \"0001-01-01T00:00:00Z\" } } ] "
            }
        );
    index.add(
            {
                id:  8 ,
                href: "\/docs\/kubernetes\/pre-requisites-kubeadm\/",
                title: "pre-requisites",
                description: " Includes configuring pre-requisites to install kubeadm  ",
                content: "Includes configuring pre-requisites to install kubeadm linkstep 01) Enable following ports and protcols link on kubemaster : Open following ports : https://kubernetes.io/docs/reference/networking/ports-and-protocols/ sudo ufw status sudo ufw enable sudo ufw allow 80/tcp sudo ufw allow 443/tcp sudo ufw allow 22/tcp sudo ufw allow 6443/tcp sudo ufw allow 2379/tcp sudo ufw allow 2380/tcp sudo ufw allow 10250/tcp sudo ufw allow 10259/tcp sudo ufw allow 10257/tcp sudo ufw allow 30000:32767/tcp sudo ufw reload sudo ufw status ###### ----- kubenode01, kubenode02 ---# sudo ufw status sudo ufw enable sudo ufw allow 80/tcp sudo ufw allow 443/tcp sudo ufw allow 22/tcp sudo ufw allow 10250/tcp sudo ufw allow 30000:32767/tcp sudo ufw reload sudo ufw status sudo iptables -L #--- on all nodes step 02) link ------ Install Container Runtime ----------# #---- on all nodes : Forwarding IPv4 and letting iptables see bridged traffic : https://kubernetes.io/docs/setup/production-environment/container-runtimes/#forwarding-ipv4-and-letting-iptables-see-bridged-traffic cat \u003c"
            }
        );
    index.add(
            {
                id:  9 ,
                href: "\/docs\/docker\/docker-images-filter\/",
                title: "Docker Image Filtering",
                description: "running docker run alpine command would download the Alpine Linux image from Docker Hub and start a new container based on that image. You can then use the container to run commands or applications. When you exit the container, it will stop running.\nAlpine Linux is a lightweight Linux distribution that is commonly used in Docker containers due to its small size and security features.\ndockerworkshop git:(main) ✗ docker pull alpine:3.6 docker pull alpine:3.7 docker pull alpine:3.8 docker pull alpine:3.9 3.6: Pulling from library/alpine e8f81692e76c: Pull complete Digest: sha256:66790a2b79e1ea3e1dabac43990c54aca5d1ddf268d9a5a0285e4167c8b24475 Status: Downloaded newer image for alpine:3.6 docker.io/library/alpine:3.6 3.7: Pulling from library/alpine 40223db5366f: Pull complete Digest: sha256:8421d9a84432575381bfabd248f1eb56f3aa21d9d7cd2511583c68c9b7511d10 Status: Downloaded newer image for alpine:3.7 docker.io/library/alpine:3.7 3.8: Pulling from library/alpine 788aef77d06b: Pull complete Digest: sha256:2bb501e6173d9d006e56de5bce2720eb06396803300fe1687b58a7ff32bf4c14 Status: Downloaded newer image for alpine:3.8 docker.io/library/alpine:3.8 3.9: Pulling from library/alpine 941f399634ec: Pull complete Digest: sha256:414e0518bb9228d35e4cd5165567fb91d26c6a214e9c95899e1e056fcd349011 Status: Downloaded newer image for alpine:3.9 docker.io/library/alpine:3.9 docker images filtering linkThe docker images command allows you to filter Docker images based on various criteria using the –filter option. Here are some common filters that you can use with the docker images command:\n",
                content: "running docker run alpine command would download the Alpine Linux image from Docker Hub and start a new container based on that image. You can then use the container to run commands or applications. When you exit the container, it will stop running.\nAlpine Linux is a lightweight Linux distribution that is commonly used in Docker containers due to its small size and security features.\ndockerworkshop git:(main) ✗ docker pull alpine:3.6 docker pull alpine:3.7 docker pull alpine:3.8 docker pull alpine:3.9 3.6: Pulling from library/alpine e8f81692e76c: Pull complete Digest: sha256:66790a2b79e1ea3e1dabac43990c54aca5d1ddf268d9a5a0285e4167c8b24475 Status: Downloaded newer image for alpine:3.6 docker.io/library/alpine:3.6 3.7: Pulling from library/alpine 40223db5366f: Pull complete Digest: sha256:8421d9a84432575381bfabd248f1eb56f3aa21d9d7cd2511583c68c9b7511d10 Status: Downloaded newer image for alpine:3.7 docker.io/library/alpine:3.7 3.8: Pulling from library/alpine 788aef77d06b: Pull complete Digest: sha256:2bb501e6173d9d006e56de5bce2720eb06396803300fe1687b58a7ff32bf4c14 Status: Downloaded newer image for alpine:3.8 docker.io/library/alpine:3.8 3.9: Pulling from library/alpine 941f399634ec: Pull complete Digest: sha256:414e0518bb9228d35e4cd5165567fb91d26c6a214e9c95899e1e056fcd349011 Status: Downloaded newer image for alpine:3.9 docker.io/library/alpine:3.9 docker images filtering linkThe docker images command allows you to filter Docker images based on various criteria using the –filter option. Here are some common filters that you can use with the docker images command:\ndocker images --filter=reference='alpine' REPOSITORY TAG IMAGE ID CREATED SIZE alpine 3.9 9afdd4a290bf 2 years ago 5.3MB alpine 3.8 b22edbe95d11 3 years ago 4.2MB alpine 3.7 bd812700d284 3 years ago 4.01MB alpine 3.6 25e814211fdd 3 years ago 3.84MB Filters images that are or are not “dangling,” meaning they are not tagged and not referenced by any container. link docker images --filter dangling=false Or to list images created before a specific image, you can run:\ndocker images --filter before=alpine:3.8 "
            }
        );
    index.add(
            {
                id:  10 ,
                href: "\/docs\/containersecurity\/environment-variables\/",
                title: "Environment variables ",
                description: "Environment variables",
                content: "Environment variables example of using an environment variable in a Dockerfile:\nFROM alpine:latest # Set an environment variable ENV MY_VAR \"Hello World\" # Use the environment variable in a command RUN echo $MY_VAR \u003e /app/output.txt CMD [\"cat\", \"/app/output.txt\"] In this example, the environment variable MY_VAR is set to the value “Hello World”. This variable is then used in the RUN command to create an output.txt file with the contents “Hello World”.\nTo build the Docker image using this Dockerfile, you can use the following command:\ndocker build -t my-image . You can also set the value of the environment variable when you build the image using the --build-arg flag:\ndocker build -t my-image --build-arg MY_VAR=Goodbye . This will set the value of MY_VAR to “Goodbye” when the image is built.\nIt is also a good idea to use default values for environment variables in your Dockerfile. This way, if the variable is not set when the image is built, it will use the default value. You can do this by using the ARG directive in your Dockerfile and then using the := operator to set the default value:\nFROM alpine:latest # Set a default value for the environment variable ARG MY_VAR:=Hello World # Use the environment variable in a command RUN echo $MY_VAR \u003e /app/output.txt CMD [\"cat\", \"/app/output.txt\"] In this example, if the value of MY_VAR is not set when the image is built, it will default to the value “Hello World”.\n"
            }
        );
    index.add(
            {
                id:  11 ,
                href: "\/docs\/containerd\/introduction-to-runc\/",
                title: "Introduction to Runc",
                description: "install ruc link sangam@sangam:~$ sudo apt-get -y install runc Reading package lists... Done Building dependency tree... Done Reading state information... Done runc is already the newest version (1.1.7-0ubuntu1~22.04.2). 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. sangam@sangam:~$ runc NAME: runc - Open Container Initiative runtime runc is a command line client for running applications packaged according to the Open Container Initiative (OCI) format and is a compliant implementation of the Open Container Initiative specification. runc integrates well with existing process supervisors to provide a production container runtime environment for applications. It can be used with your existing process monitoring tools and the container will be spawned as a direct child of the process supervisor. Containers are configured using bundles. A bundle for a container is a directory that includes a specification file named \"config.json\" and a root filesystem. The root filesystem contains the contents of the container. To start a new instance of a container: # runc run [ -b bundle ] Where \"\" is your name for the instance of the container that you are starting. The name you provide for the container instance must be unique on your host. Providing the bundle directory using \"-b\" is optional. The default value for \"bundle\" is the current directory. USAGE: runc [global options] command [command options] [arguments...] VERSION: 1.1.7-0ubuntu1~22.04.2 spec: 1.0.2-dev go: go1.18.1 libseccomp: 2.5.3 COMMANDS: checkpoint checkpoint a running container create create a container delete delete any resources held by the container often used with detached container events display container events such as OOM notifications, cpu, memory, and IO usage statistics exec execute new process inside the container kill kill sends the specified signal (default: SIGTERM) to the container's init process list lists containers started by runc with the given root pause pause suspends all processes inside the container ps ps displays the processes running inside a container restore restore a container from a previous checkpoint resume resumes all processes that have been previously paused run create and run a container spec create a new specification file start executes the user defined process in a created container state output the state of a container update update container resource constraints features show the enabled features help, h Shows a list of commands or help for one command GLOBAL OPTIONS: --debug enable debug logging --log value set the log file to write runc logs to (default is '/dev/stderr') --log-format value set the log format ('text' (default), or 'json') (default: \"text\") --root value root directory for storage of container state (this should be located in tmpfs) (default: \"/run/user/1000/runc\") --criu value path to the criu binary used for checkpoint and restore (default: \"criu\") --systemd-cgroup enable systemd cgroup support, expects cgroupsPath to be of form \"slice:prefix:name\" for e.g. \"system.slice:runc:434234\" --rootless value ignore cgroup permission errors ('true', 'false', or 'auto') (default: \"auto\") --help, -h show help --version, -v print the version sangam@sangam:~$ create directory link sangam@sangam:~$ mkdir runc-sangam-demo sangam@sangam:~$ cd runc-sangam-demo/ once installed, you can start using runc:\n",
                content: "install ruc link sangam@sangam:~$ sudo apt-get -y install runc Reading package lists... Done Building dependency tree... Done Reading state information... Done runc is already the newest version (1.1.7-0ubuntu1~22.04.2). 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. sangam@sangam:~$ runc NAME: runc - Open Container Initiative runtime runc is a command line client for running applications packaged according to the Open Container Initiative (OCI) format and is a compliant implementation of the Open Container Initiative specification. runc integrates well with existing process supervisors to provide a production container runtime environment for applications. It can be used with your existing process monitoring tools and the container will be spawned as a direct child of the process supervisor. Containers are configured using bundles. A bundle for a container is a directory that includes a specification file named \"config.json\" and a root filesystem. The root filesystem contains the contents of the container. To start a new instance of a container: # runc run [ -b bundle ] Where \"\" is your name for the instance of the container that you are starting. The name you provide for the container instance must be unique on your host. Providing the bundle directory using \"-b\" is optional. The default value for \"bundle\" is the current directory. USAGE: runc [global options] command [command options] [arguments...] VERSION: 1.1.7-0ubuntu1~22.04.2 spec: 1.0.2-dev go: go1.18.1 libseccomp: 2.5.3 COMMANDS: checkpoint checkpoint a running container create create a container delete delete any resources held by the container often used with detached container events display container events such as OOM notifications, cpu, memory, and IO usage statistics exec execute new process inside the container kill kill sends the specified signal (default: SIGTERM) to the container's init process list lists containers started by runc with the given root pause pause suspends all processes inside the container ps ps displays the processes running inside a container restore restore a container from a previous checkpoint resume resumes all processes that have been previously paused run create and run a container spec create a new specification file start executes the user defined process in a created container state output the state of a container update update container resource constraints features show the enabled features help, h Shows a list of commands or help for one command GLOBAL OPTIONS: --debug enable debug logging --log value set the log file to write runc logs to (default is '/dev/stderr') --log-format value set the log format ('text' (default), or 'json') (default: \"text\") --root value root directory for storage of container state (this should be located in tmpfs) (default: \"/run/user/1000/runc\") --criu value path to the criu binary used for checkpoint and restore (default: \"criu\") --systemd-cgroup enable systemd cgroup support, expects cgroupsPath to be of form \"slice:prefix:name\" for e.g. \"system.slice:runc:434234\" --rootless value ignore cgroup permission errors ('true', 'false', or 'auto') (default: \"auto\") --help, -h show help --version, -v print the version sangam@sangam:~$ create directory link sangam@sangam:~$ mkdir runc-sangam-demo sangam@sangam:~$ cd runc-sangam-demo/ once installed, you can start using runc:\nCreating a Container linkCreate a Root Filesystem: You need a root filesystem for your container. You can create a simple one or use an existing Docker image. Example: mkdir rootfs and unpack a Docker image into it using docker export and tar.\nmkdir rootfs Export the filesystem of an existing Docker image (e.g., alphine) link sudo docker pull alpine Using default tag: latest latest: Pulling from library/alpine bca4290a9639: Pull complete Digest: sha256:c5b1261d6d3e43071626931fc004f70149baeba2c8ec672bd4f27761f8e1ad6b Status: Downloaded newer image for alpine:latest docker.io/library/alpine:latest docker export $(docker create alpine) | tar -C rootfs -xvf - it will give us two files link sangam@sangam:~/runc-sangam-demo$ ls config.json rootfs check it out config.json file link sangam@sangam:~/runc-sangam-demo$ cat config.json { \"ociVersion\": \"1.0.2-dev\", \"process\": { \"terminal\": true, \"user\": { \"uid\": 0, \"gid\": 0 }, \"args\": [ \"sh\" ], \"env\": [ \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", \"TERM=xterm\" ], \"cwd\": \"/\", \"capabilities\": { \"bounding\": [ \"CAP_AUDIT_WRITE\", \"CAP_KILL\", \"CAP_NET_BIND_SERVICE\" ], \"effective\": [ \"CAP_AUDIT_WRITE\", \"CAP_KILL\", \"CAP_NET_BIND_SERVICE\" ], \"permitted\": [ \"CAP_AUDIT_WRITE\", \"CAP_KILL\", \"CAP_NET_BIND_SERVICE\" ], \"ambient\": [ \"CAP_AUDIT_WRITE\", \"CAP_KILL\", \"CAP_NET_BIND_SERVICE\" ] }, \"rlimits\": [ { \"type\": \"RLIMIT_NOFILE\", \"hard\": 1024, \"soft\": 1024 } ], \"noNewPrivileges\": true }, \"root\": { \"path\": \"rootfs\", \"readonly\": true }, \"hostname\": \"runc\", \"mounts\": [ { \"destination\": \"/proc\", \"type\": \"proc\", \"source\": \"proc\" }, { \"destination\": \"/dev\", \"type\": \"tmpfs\", \"source\": \"tmpfs\", \"options\": [ \"nosuid\", \"strictatime\", \"mode=755\", \"size=65536k\" ] }, { \"destination\": \"/dev/pts\", \"type\": \"devpts\", \"source\": \"devpts\", \"options\": [ \"nosuid\", \"noexec\", \"newinstance\", \"ptmxmode=0666\", \"mode=0620\", \"gid=5\" ] }, { \"destination\": \"/dev/shm\", \"type\": \"tmpfs\", \"source\": \"shm\", \"options\": [ \"nosuid\", \"noexec\", \"nodev\", \"mode=1777\", \"size=65536k\" ] }, { \"destination\": \"/dev/mqueue\", \"type\": \"mqueue\", \"source\": \"mqueue\", \"options\": [ \"nosuid\", \"noexec\", \"nodev\" ] }, { \"destination\": \"/sys\", \"type\": \"sysfs\", \"source\": \"sysfs\", \"options\": [ \"nosuid\", \"noexec\", \"nodev\", \"ro\" ] }, { \"destination\": \"/sys/fs/cgroup\", \"type\": \"cgroup\", \"source\": \"cgroup\", \"options\": [ \"nosuid\", \"noexec\", \"nodev\", \"relatime\", \"ro\" ] } ], \"linux\": { \"resources\": { \"devices\": [ { \"allow\": false, \"access\": \"rwm\" } ] }, \"namespaces\": [ { \"type\": \"pid\" }, { \"type\": \"network\" }, { \"type\": \"ipc\" }, { \"type\": \"uts\" }, { \"type\": \"mount\" }, { \"type\": \"cgroup\" } ], \"maskedPaths\": [ \"/proc/acpi\", \"/proc/asound\", \"/proc/kcore\", \"/proc/keys\", \"/proc/latency_stats\", \"/proc/timer_list\", \"/proc/timer_stats\", \"/proc/sched_debug\", \"/sys/firmware\", \"/proc/scsi\" ], \"readonlyPaths\": [ \"/proc/bus\", \"/proc/fs\", \"/proc/irq\", \"/proc/sys\", \"/proc/sysrq-trigger\" ] } } config file in depth linkociVersion\nociVersion: Specifies the OCI Runtime Specification version that the configuration is compatible with.\nprocess\nThis section details how the process inside the container should be run.\nterminal: If set to true, a terminal is attached to the process. user: Specifies the UID and GID for the process. args: Arguments for the process to be run inside the container. In your case, it starts a shell (sh). env: Environment variables. cwd: Current working directory inside the container. capabilities: Linux capabilities that the process inside the container can use. rlimits: Resource limits for the process (e.g., number of open files). noNewPrivileges: If true, the process is not allowed to gain new privileges. root\npath: The path to the root filesystem relative to the location of the config.json file. Here, it’s set to use the rootfs directory.\nreadonly: If true, the root filesystem is mounted as read-only.\nhostname\nhostname: The hostname set for the container. mounts\nThis section defines filesystems or directories that are mounted in the container.\ndestination: Where the mount will be placed inside the container. type: The type of the filesystem to be mounted (e.g., proc, tmpfs). source: The source of the mount. options: Mount options. linux\nThis section contains Linux-specific configurations.\nresources: Controls how the container can interact with system resources. namespaces: Namespaces provide isolation for the container. Common namespaces include pid, network, ipc, uts, mount, and cgroup. maskedPaths: Paths that should be hidden from the container. readonlyPaths: Paths that should be read-only inside the container. runc run - create and run a container link runc spec --help NAME: runc spec - create a new specification file USAGE: runc spec [command options] [arguments...] DESCRIPTION: The spec command creates the new specification file named \"config.json\" for the bundle. The spec generated is just a starter file. Editing of the spec is required to achieve desired results. For example, the newly generated spec includes an args parameter that is initially set to call the \"sh\" command when the container is started. Calling \"sh\" may work for an ubuntu container or busybox, but will not work for containers that do not include the \"sh\" program. EXAMPLE: To run docker's hello-world container one needs to set the args parameter in the spec to call hello. This can be done using the sed command or a text editor. The following commands create a bundle for hello-world, change the default args parameter in the spec from \"sh\" to \"/hello\", then run the hello command in a new hello-world container named container1: mkdir hello cd hello docker pull hello-world docker export $(docker create hello-world) \u003e hello-world.tar mkdir rootfs tar -C rootfs -xf hello-world.tar runc spec sed -i 's;\"sh\";\"/hello\";' config.json runc run container1 In the run command above, \"container1\" is the name for the instance of the container that you are starting. The name you provide for the container instance must be unique on your host. An alternative for generating a customized spec config is to use \"oci-runtime-tool\", the sub-command \"oci-runtime-tool generate\" has lots of options that can be used to do any customizations as you want, see runtime-tools (https://github.com/opencontainers/runtime-tools) to get more information. When starting a container through runc, runc needs root privilege. If not already running as root, you can use sudo to give runc root privilege. For example: \"sudo runc start container1\" will give runc root privilege to start the container on your host. Alternatively, you can start a rootless container, which has the ability to run without root privileges. For this to work, the specification file needs to be adjusted accordingly. You can pass the parameter --rootless to this command to generate a proper rootless spec file. Note that --rootless is not needed when you execute runc as the root in a user namespace created by an unprivileged user. OPTIONS: --bundle value, -b value path to the root of the bundle directory --rootless generate a configuration for a rootless container lets create link sangam@sangam:~/runc-sangam-demo$ sudo runc create --bundle . container1 sangam@sangam:~/runc-sangam-demo$ sudo runc list ID PID STATUS BUNDLE CREATED OWNER container1 379391 created /home/sangam/runc-sangam-demo 2024-02-08T16:08:52.31926604Z root list all namespaces link sangam@sangam:~/runc-sangam-demo$ sudo lsns NS TYPE NPROCS PID USER COMMAND 4026531834 time 221 1 root /sbin/init 4026531835 cgroup 220 1 root /sbin/init 4026531836 pid 208 1 root /sbin/init 4026531837 user 221 1 root /sbin/init 4026531838 uts 217 1 root /sbin/init 4026531839 ipc 208 1 root /sbin/init 4026531840 net 220 1 root /sbin/init 4026531841 mnt 202 1 root /sbin/init 4026531862 mnt 1 25 root kdevtmpfs 4026532545 mnt 1 561 root /lib/systemd/systemd-udevd 4026532546 uts 1 561 root /lib/systemd/systemd-udevd 4026532626 mnt 1 714 systemd-timesync /lib/systemd/systemd-timesyncd 4026532627 uts 1 714 systemd-timesync /lib/systemd/systemd-timesyncd 4026532628 mnt 1 821 systemd-network /lib/systemd/systemd-networkd 4026532629 mnt 1 823 systemd-resolve /lib/systemd/systemd-resolved 4026532660 mnt 1 2373 65535 /pause 4026532661 ipc 12 2373 65535 /pause 4026532662 pid 1 2373 65535 /pause 4026532663 mnt 11 2662 root /usr/local/bin/runsvdir -P /etc/service/enabled 4026532664 pid 11 2662 root /usr/local/bin/runsvdir -P /etc/service/enabled 4026532666 mnt 1 379391 root runc init 4026532667 uts 1 379391 root runc init 4026532668 ipc 1 379391 root runc init 4026532669 pid 1 379391 root runc init 4026532670 net 1 379391 root runc init 4026532713 mnt 1 869 root /lib/systemd/systemd-logind 4026532714 uts 1 869 root /lib/systemd/systemd-logind 4026532732 cgroup 1 379391 root runc init list of all running processes on your system, including details about the user running each process, CPU and memory usage, the process ID (PID), the parent process ID (PPID), and more. link sangam@sangam:~/runc-sangam-demo$ ps auxf USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND root 2 0.0 0.0 0 0 ? S 11:32 0:00 [kthreadd] root 3 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [rcu_gp] root 4 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [rcu_par_gp] root 5 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [slub_flushwq] root 6 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [netns] root 8 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kworker/0:0H-events_highpri] root 10 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [mm_percpu_wq] root 11 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [rcu_tasks_rude_] root 12 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [rcu_tasks_trace] root 13 0.0 0.0 0 0 ? S 11:32 0:01 \\_ [ksoftirqd/0] root 14 0.0 0.0 0 0 ? I 11:32 0:06 \\_ [rcu_sched] root 15 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [migration/0] root 16 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [idle_inject/0] root 18 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [cpuhp/0] root 19 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [cpuhp/1] root 20 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [idle_inject/1] root 21 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [migration/1] root 22 0.0 0.0 0 0 ? S 11:32 0:01 \\_ [ksoftirqd/1] root 24 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kworker/1:0H-events_highpri] root 25 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [kdevtmpfs] root 26 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [inet_frag_wq] root 28 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [kauditd] root 29 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [khungtaskd] root 30 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [oom_reaper] root 31 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [writeback] root 32 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [kcompactd0] root 33 0.0 0.0 0 0 ? SN 11:32 0:00 \\_ [ksmd] root 34 0.0 0.0 0 0 ? SN 11:32 0:00 \\_ [khugepaged] root 80 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kintegrityd] root 81 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kblockd] root 82 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [blkcg_punt_bio] root 83 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [tpm_dev_wq] root 84 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [ata_sff] root 85 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [md] root 86 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [edac-poller] root 87 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [devfreq_wq] root 88 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [watchdogd] root 90 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kworker/0:1H-kblockd] root 91 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [kswapd0] root 92 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [ecryptfs-kthrea] root 94 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kthrotld] root 95 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/13-pciehp] root 96 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/14-pciehp] root 97 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/15-pciehp] root 98 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/16-pciehp] root 99 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/17-pciehp] root 100 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/18-pciehp] root 101 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/19-pciehp] root 102 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/20-pciehp] root 103 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/21-pciehp] root 104 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/22-pciehp] root 105 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/23-pciehp] root 106 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/24-pciehp] root 107 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/25-pciehp] root 108 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/26-pciehp] root 109 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/27-pciehp] root 110 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/28-pciehp] root 111 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/29-pciehp] root 112 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/30-pciehp] root 113 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/31-pciehp] root 114 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/32-pciehp] root 115 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/33-pciehp] root 116 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/34-pciehp] root 117 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/35-pciehp] root 118 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/36-pciehp] root 119 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/37-pciehp] root 120 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/38-pciehp] root 121 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/39-pciehp] root 122 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/40-pciehp] root 123 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/41-pciehp] root 124 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/42-pciehp] root 125 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/43-pciehp] root 126 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [irq/44-pciehp] root 127 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [acpi_thermal_pm] root 129 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [mld] root 130 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [ipv6_addrconf] root 140 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kstrp] root 144 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [zswap-shrink] root 145 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kworker/u5:0] root 148 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [cryptd] root 187 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [charger_manager] root 211 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kworker/1:1H-kblockd] root 234 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [nvme-wq] root 235 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [nvme-reset-wq] root 236 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [nvme-delete-wq] root 238 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_0] root 239 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_0] root 240 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_1] root 241 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_1] root 242 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_2] root 243 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_2] root 244 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_3] root 259 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_3] root 261 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_4] root 265 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_4] root 267 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_5] root 268 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_5] root 271 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_6] root 273 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_6] root 276 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [ttm_swap] root 277 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_7] root 279 0.0 0.0 0 0 ? S 11:32 0:02 \\_ [irq/45-vmwgfx] root 281 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [card0-crtc0] root 282 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [card0-crtc1] root 283 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [card0-crtc2] root 284 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [card0-crtc3] root 285 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [card0-crtc4] root 286 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [card0-crtc5] root 287 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [card0-crtc6] root 288 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [card0-crtc7] root 289 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_7] root 293 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_8] root 295 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_8] root 296 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_9] root 298 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_9] root 300 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_10] root 301 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_10] root 302 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_11] root 304 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_11] root 305 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_12] root 307 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_12] root 308 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_13] root 310 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_13] root 315 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_14] root 316 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_14] root 317 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_15] root 319 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_15] root 321 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_16] root 322 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_16] root 323 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_17] root 324 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_17] root 325 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_18] root 326 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_18] root 327 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_19] root 328 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_19] root 329 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_20] root 330 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_20] root 331 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_21] root 332 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_21] root 333 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_22] root 334 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_22] root 335 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_23] root 336 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_23] root 337 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_24] root 338 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_24] root 339 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_25] root 340 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_25] root 341 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_26] root 342 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_26] root 343 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_27] root 344 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_27] root 345 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_28] root 346 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_28] root 347 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [scsi_eh_29] root 348 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [scsi_tmf_29] root 382 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kdmflush] root 416 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [raid5wq] root 463 0.0 0.0 0 0 ? S 11:32 0:02 \\_ [jbd2/dm-0-8] root 464 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [ext4-rsv-conver] root 560 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kaluad] root 562 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kmpath_rdacd] root 564 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kmpathd] root 565 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [kmpath_handlerd] root 686 0.0 0.0 0 0 ? S 11:32 0:00 \\_ [jbd2/nvme0n1p2-] root 688 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [ext4-rsv-conver] root 1721 0.0 0.0 2184 764 ? S 11:32 0:00 \\_ bpfilter_umh root 2070 0.0 0.0 0 0 ? I\u003c 11:32 0:00 \\_ [dio/dm-0] root 156869 0.0 0.0 0 0 ? I 13:25 0:01 \\_ [kworker/u4:1-flush-253:0] root 313679 0.0 0.0 0 0 ? I 15:20 0:00 \\_ [kworker/u4:3-events_unbound] root 363789 0.0 0.0 0 0 ? I 15:57 0:00 \\_ [kworker/0:2-events] root 365001 0.0 0.0 0 0 ? I 15:58 0:00 \\_ [kworker/u4:2-events_unbound] root 370567 0.0 0.0 0 0 ? I 16:02 0:00 \\_ [kworker/1:0-events] root 378476 0.0 0.0 0 0 ? I 16:08 0:00 \\_ [kworker/1:1-events] root 378512 0.0 0.0 0 0 ? I 16:08 0:00 \\_ [kworker/0:1-events] root 385797 0.0 0.0 0 0 ? I 16:13 0:00 \\_ [kworker/0:0-events] root 1 0.0 0.2 101092 10708 ? Ss 11:32 0:15 /sbin/init root 526 0.3 8.8 540332 352704 ? S"
            }
        );
    index.add(
            {
                id:  12 ,
                href: "\/docs\/kubernetes\/kubeadm\/",
                title: "kubeadm",
                description: " Use Kubeadm to install a basic cluster ",
                content: "Install kubeadm, kubectl and kubelet on all nodes link sudo apt-get update sudo apt-get install -y apt-transport-https ca-certificates curl sudo mkdir -m 755 /etc/apt/keyrings curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.27/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.30/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list sudo apt-get update To see the new version labels link sudo apt-cache madison kubeadm sudo apt-get install -y kubelet=1.30 kubeadm=1.30 kubectl=1.30 sudo apt-mark hold kubelet kubeadm kubectl in master node link ifconfig eth0 kubeadm init --apiserver-cert-extra-sans=controlplane --apiserver-advertise-address 192.168.129.135 --pod-network-cidr=10.244.0.0/16 control plane link #!/bin/bash # Step 04 ) Cluster Creation : https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/ # Initialize control-plane node : https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/#initializing-your-control-plane-node # we dont have multiple control plane nodes # Choose POD Network Addon # --pod-network-cidr , --apiserver-advertise-address sudo kubeadm init --pod-network-cidr=10.244.0.0/16 --apiserver-advertise-address=192.168.56.11 #--------- Cluster Configuration Completed------------------# mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config # Message from Kubernetes Configuration: Your Kubernetes control-plane has initialized successfully! To start using your cluster, you need to run the following as a regular user: mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config Alternatively, if you are the root user, you can run: export KUBECONFIG=/etc/kubernetes/admin.conf You should now deploy a pod network to the cluster. Run \"kubectl apply -f [podnetwork].yaml\" with one of the options listed at: https://kubernetes.io/docs/concepts/cluster-administration/addons/ Then you can join any number of worker nodes by running the following on each as root: kubeadm join 192.168.56.11:6443 --token rfmw9v.exud3pc7riu0vnb4 \\ --discovery-token-ca-cert-hash sha256:d2e00be36a8b5e7b8034800fecd271355e6fd2af2c5d7618b5c98f64b510a0d9 kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml kubectl apply -f https://github.com/weaveworks/weave/releases/download/v2.8.1/weave-daemonset-k8s.yaml kubectl apply -f https://github.com/weaveworks/weave/releases/download/latest_release/weave-daemonset-k8s-1.11.yaml kubectl get pods -A #now it shows the containres are up and running # What did I change : Make sure you remove ipv6 settings , if its an Azure environment makesure on NIC , IP Forwarding is enabled # Now add weavenet address space # If you set --cluster-cidr option in kube-proxy make sure it matches the IPALLOC_RANGE given to Weavenet # ealier we passed : 10.244.0.0/16 as pod network, make sure to pass the same to enviorment variable of IPALLOC_RANGE container: - name: weave env: -name: IPALLOC_RANGE value: 10.244.0.0/16 kubectl get ds -A kubectl edit ds weave-net -n kube-system # save above config kubectl get pods -A #---- on Worker Nodes -------------------# sudo kubeadm join 192.168.56.11:6443 --token rfmw9v.exud3pc7riu0vnb4 \\ --discovery-token-ca-cert-hash sha256:d2e00be36a8b5e7b8034800fecd271355e6fd2af2c5d7618b5c98f64b510a0d9 #--- I have successfully spun an kubernetes cluster , I can -----------# NOTE link #!/bin/bash # Update the system sudo apt-get update \u0026\u0026 sudo apt-get upgrade -y # Enable and start the kubelet service sudo systemctl enable kubelet.service sudo systemctl start kubelet.service # Ensure net.bridge.bridge-nf-call-iptables is set to 1 sudo modprobe br_netfilter echo \"1\" | sudo tee /proc/sys/net/bridge/bridge-nf-call-iptables # Make the setting persistent across reboots echo \"net.bridge.bridge-nf-call-iptables=1\" | sudo tee -a /etc/sysctl.conf sudo sysctl -p /etc/sysctl.conf # Initialize the Kubernetes cluster sudo kubeadm init --cri-socket=unix:///var/run/containerd/containerd.sock --pod-network-cidr=192.168.0.0/16 # Setting up local kubeconfig mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.kube/config # Apply a CNI (Container Network Interface) plugin - example with Calico kubectl apply -f https://docs.projectcalico.org/manifests/calico.yaml echo \"Kubernetes cluster initialized successfully!\" angam@sangam:~$ kubectl get nodes -o wide error: error loading config file \"/etc/kubernetes/kubelet.conf\": open /etc/kubernetes/kubelet.conf: permission denied sangam@sangam:~$ export KUBECONFIG=~/.kube/config echo $KUBECONFIG # Verify it's set correctly /home/sangam/.kube/config sangam@sangam:~$ echo \"export KUBECONFIG=~/.kube/config\" \u003e\u003e ~/.bashrc source ~/.bashrc sangam@sangam:~$ chmod 644 ~/.kube/config # Set read and write for owner, read for others sangam@sangam:~$ kubectl get nodes -o wide if your using containerd install link # Configure persistent loading of modules sudo tee /etc/modules-load.d/containerd.conf \u003c"
            }
        );
    index.add(
            {
                id:  13 ,
                href: "\/docs\/helm\/-multiple-values\/",
                title: "Working with Multiple Values",
                description: "create another values file link # Default values for application-1. # This is a YAML-formatted file. # Declare variables to be passed into your templates. deployment: replicaCount: 1 name: new-deployememt image: app: ngnix version: latest service: name: my-service type: NodePort port: 80 targetPort: 80 nodePort: 32046 selector: app: ngnix just chamged nortport value here\ninstall chart again link base) ➜ application-1 git:(main) ✗ helm install chart-1 . W0325 04:26:44.306101 7525 warnings.go:70] unknown field \"spec.ports[0].nodeport\" NAME: chart-1 LAST DEPLOYED: Mon Mar 25 04:26:44 2024 NAMESPACE: default STATUS: deployed REVISION: 1 TEST SUITE: None (base) ➜ application-1 git:(main) ✗ helm list NAME NAMESPACE REVISION UPDATED STATUS CHART APP VERSION chart-1 default 1 2024-03-25 04:26:44.235604 +0530 IST deployed application-1-0.1.0 1.16.0 deploy new chart link ➜ application-1 git:(main) ✗ helm install chart-2 . -f new-values.yaml W0325 04:31:02.212820 7835 warnings.go:70] unknown field \"spec.ports[0].nodeport\" NAME: chart-2 LAST DEPLOYED: Mon Mar 25 04:31:02 2024 NAMESPACE: default STATUS: deployed REVISION: 1 TEST SUITE: None ",
                content: "create another values file link # Default values for application-1. # This is a YAML-formatted file. # Declare variables to be passed into your templates. deployment: replicaCount: 1 name: new-deployememt image: app: ngnix version: latest service: name: my-service type: NodePort port: 80 targetPort: 80 nodePort: 32046 selector: app: ngnix just chamged nortport value here\ninstall chart again link base) ➜ application-1 git:(main) ✗ helm install chart-1 . W0325 04:26:44.306101 7525 warnings.go:70] unknown field \"spec.ports[0].nodeport\" NAME: chart-1 LAST DEPLOYED: Mon Mar 25 04:26:44 2024 NAMESPACE: default STATUS: deployed REVISION: 1 TEST SUITE: None (base) ➜ application-1 git:(main) ✗ helm list NAME NAMESPACE REVISION UPDATED STATUS CHART APP VERSION chart-1 default 1 2024-03-25 04:26:44.235604 +0530 IST deployed application-1-0.1.0 1.16.0 deploy new chart link ➜ application-1 git:(main) ✗ helm install chart-2 . -f new-values.yaml W0325 04:31:02.212820 7835 warnings.go:70] unknown field \"spec.ports[0].nodeport\" NAME: chart-2 LAST DEPLOYED: Mon Mar 25 04:31:02 2024 NAMESPACE: default STATUS: deployed REVISION: 1 TEST SUITE: None "
            }
        );
    index.add(
            {
                id:  14 ,
                href: "\/docs\/containerd\/containerd-ctr\/",
                title: " ContainerD CLI ctr ",
                description: "update ubuntu server link sudo apt-get update Install the necessary packages link sudo apt-get install apt-transport-https ca-certificates curl software-properties-common install docker link curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - Install Containerd link sudo apt-get install containerd -y Reading package lists... Done Building dependency tree... Done Reading state information... Done containerd is already the newest version (1.7.2-0ubuntu1~22.04.1). containerd set to manually installed. 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. Configure ContainerD link sudo mkdir -p /etc/containerd sudo su - containerd config default /etc/containerd/config.toml containerd config default /etc/containerd/config.toml disabled_plugins = [] imports = [] oom_score = 0 plugin_dir = \"\" required_plugins = [] root = \"/var/lib/containerd\" state = \"/run/containerd\" temp = \"\" version = 2 [cgroup] path = \"\" [debug] address = \"\" format = \"\" gid = 0 level = \"\" uid = 0 [grpc] address = \"/run/containerd/containerd.sock\" gid = 0 max_recv_message_size = 16777216 max_send_message_size = 16777216 tcp_address = \"\" tcp_tls_ca = \"\" tcp_tls_cert = \"\" tcp_tls_key = \"\" uid = 0 [metrics] address = \"\" grpc_histogram = false [plugins] [plugins.\"io.containerd.gc.v1.scheduler\"] deletion_threshold = 0 mutation_threshold = 100 pause_threshold = 0.02 schedule_delay = \"0s\" startup_delay = \"100ms\" [plugins.\"io.containerd.grpc.v1.cri\"] cdi_spec_dirs = [\"/etc/cdi\", \"/var/run/cdi\"] device_ownership_from_security_context = false disable_apparmor = false disable_cgroup = false disable_hugetlb_controller = true disable_proc_mount = false disable_tcp_service = true drain_exec_sync_io_timeout = \"0s\" enable_cdi = false enable_selinux = false enable_tls_streaming = false enable_unprivileged_icmp = false enable_unprivileged_ports = false ignore_image_defined_volumes = false image_pull_progress_timeout = \"1m0s\" max_concurrent_downloads = 3 max_container_log_line_size = 16384 netns_mounts_under_state_dir = false restrict_oom_score_adj = false sandbox_image = \"registry.k8s.io/pause:3.8\" selinux_category_range = 1024 stats_collect_period = 10 stream_idle_timeout = \"4h0m0s\" stream_server_address = \"127.0.0.1\" stream_server_port = \"0\" systemd_cgroup = false tolerate_missing_hugetlb_controller = true unset_seccomp_profile = \"\" [plugins.\"io.containerd.grpc.v1.cri\".cni] bin_dir = \"/opt/cni/bin\" conf_dir = \"/etc/cni/net.d\" conf_template = \"\" ip_pref = \"\" max_conf_num = 1 setup_serially = false [plugins.\"io.containerd.grpc.v1.cri\".containerd] default_runtime_name = \"runc\" disable_snapshot_annotations = true discard_unpacked_layers = false ignore_blockio_not_enabled_errors = false ignore_rdt_not_enabled_errors = false no_pivot = false snapshotter = \"overlayfs\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime] base_runtime_spec = \"\" cni_conf_dir = \"\" cni_max_conf_num = 0 container_annotations = [] pod_annotations = [] privileged_without_host_devices = false privileged_without_host_devices_all_devices_allowed = false runtime_engine = \"\" runtime_path = \"\" runtime_root = \"\" runtime_type = \"\" sandbox_mode = \"\" snapshotter = \"\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime.options] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc] base_runtime_spec = \"\" cni_conf_dir = \"\" cni_max_conf_num = 0 container_annotations = [] pod_annotations = [] privileged_without_host_devices = false privileged_without_host_devices_all_devices_allowed = false runtime_engine = \"\" runtime_path = \"\" runtime_root = \"\" runtime_type = \"io.containerd.runc.v2\" sandbox_mode = \"podsandbox\" snapshotter = \"\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options] BinaryName = \"\" CriuImagePath = \"\" CriuPath = \"\" CriuWorkPath = \"\" IoGid = 0 IoUid = 0 NoNewKeyring = false NoPivotRoot = false Root = \"\" ShimCgroup = \"\" SystemdCgroup = false [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime] base_runtime_spec = \"\" cni_conf_dir = \"\" cni_max_conf_num = 0 container_annotations = [] pod_annotations = [] privileged_without_host_devices = false privileged_without_host_devices_all_devices_allowed = false runtime_engine = \"\" runtime_path = \"\" runtime_root = \"\" runtime_type = \"\" sandbox_mode = \"\" snapshotter = \"\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime.options] [plugins.\"io.containerd.grpc.v1.cri\".image_decryption] key_model = \"node\" [plugins.\"io.containerd.grpc.v1.cri\".registry] config_path = \"\" [plugins.\"io.containerd.grpc.v1.cri\".registry.auths] [plugins.\"io.containerd.grpc.v1.cri\".registry.configs] [plugins.\"io.containerd.grpc.v1.cri\".registry.headers] [plugins.\"io.containerd.grpc.v1.cri\".registry.mirrors] [plugins.\"io.containerd.grpc.v1.cri\".x509_key_pair_streaming] tls_cert_file = \"\" tls_key_file = \"\" [plugins.\"io.containerd.internal.v1.opt\"] path = \"/opt/containerd\" [plugins.\"io.containerd.internal.v1.restart\"] interval = \"10s\" [plugins.\"io.containerd.internal.v1.tracing\"] sampling_ratio = 1.0 service_name = \"containerd\" [plugins.\"io.containerd.metadata.v1.bolt\"] content_sharing_policy = \"shared\" [plugins.\"io.containerd.monitor.v1.cgroups\"] no_prometheus = false [plugins.\"io.containerd.nri.v1.nri\"] disable = true disable_connections = false plugin_config_path = \"/etc/nri/conf.d\" plugin_path = \"/opt/nri/plugins\" plugin_registration_timeout = \"5s\" plugin_request_timeout = \"2s\" socket_path = \"/var/run/nri/nri.sock\" [plugins.\"io.containerd.runtime.v1.linux\"] no_shim = false runtime = \"runc\" runtime_root = \"\" shim = \"containerd-shim\" shim_debug = false [plugins.\"io.containerd.runtime.v2.task\"] platforms = [\"linux/arm64/v8\"] sched_core = false [plugins.\"io.containerd.service.v1.diff-service\"] default = [\"walking\"] [plugins.\"io.containerd.service.v1.tasks-service\"] blockio_config_file = \"\" rdt_config_file = \"\" [plugins.\"io.containerd.snapshotter.v1.aufs\"] root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.btrfs\"] root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.devmapper\"] async_remove = false base_image_size = \"\" discard_blocks = false fs_options = \"\" fs_type = \"\" pool_name = \"\" root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.native\"] root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.overlayfs\"] root_path = \"\" upperdir_label = false [plugins.\"io.containerd.snapshotter.v1.zfs\"] root_path = \"\" [plugins.\"io.containerd.tracing.processor.v1.otlp\"] endpoint = \"\" insecure = false protocol = \"\" [plugins.\"io.containerd.transfer.v1.local\"] config_path = \"\" max_concurrent_downloads = 3 max_concurrent_uploaded_layers = 3 [[plugins.\"io.containerd.transfer.v1.local\".unpack_config]] differ = \"\" platform = \"linux/arm64/v8\" snapshotter = \"overlayfs\" [proxy_plugins] [stream_processors] [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar\"] accepts = [\"application/vnd.oci.image.layer.v1.tar+encrypted\"] args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"] env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"] path = \"ctd-decoder\" returns = \"application/vnd.oci.image.layer.v1.tar\" [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar.gzip\"] accepts = [\"application/vnd.oci.image.layer.v1.tar+gzip+encrypted\"] args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"] env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"] path = \"ctd-decoder\" returns = \"application/vnd.oci.image.layer.v1.tar+gzip\" [timeouts] \"io.containerd.timeout.bolt.open\" = \"0s\" \"io.containerd.timeout.metrics.shimstats\" = \"2s\" \"io.containerd.timeout.shim.cleanup\" = \"5s\" \"io.containerd.timeout.shim.load\" = \"5s\" \"io.containerd.timeout.shim.shutdown\" = \"3s\" \"io.containerd.timeout.task.state\" = \"2s\" [ttrpc] address = \"\" gid = 0 uid = 0 sangam@sangam:~$ ContainerD Configuration Overview linkTable of Contents link General Configuration CGroup Debug GRPC Metrics Plugins Proxy Plugins Stream Processors Timeouts TTRPC General Configuration link Key Description disabled_plugins List of plugins to be disabled. required_plugins List of required plugins. imports List of imports from other configurations. oom_score Out-Of-Memory score for ContainerD processes. plugin_dir Directory for ContainerD plugins. root Directory for ContainerD’s persistent state. state Directory for ContainerD’s runtime state. version Configuration file format version. CGroup link Key Description path Custom path for cgroup. Debug link Key Description address Socket address for debug service. format Log format for debug service. gid Group ID for debug service. level Debug level. uid User ID for debug service. GRPC link Key Description address Socket address for GRPC communication. max_recv_message_size Maximum receive message size. max_send_message_size Maximum send message size. tcp_address TCP address for GRPC. tcp_tls_* TLS settings for TCP GRPC. uid, gid User/Group ID for GRPC socket. Metrics link Key Description address Address for exporting metrics. grpc_histogram Enable GRPC histogram metrics. Plugins link This section is extensive and contains configurations for various ContainerD plugins. Only key plugins and configurations are listed here.\n",
                content: "update ubuntu server link sudo apt-get update Install the necessary packages link sudo apt-get install apt-transport-https ca-certificates curl software-properties-common install docker link curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - Install Containerd link sudo apt-get install containerd -y Reading package lists... Done Building dependency tree... Done Reading state information... Done containerd is already the newest version (1.7.2-0ubuntu1~22.04.1). containerd set to manually installed. 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. Configure ContainerD link sudo mkdir -p /etc/containerd sudo su - containerd config default /etc/containerd/config.toml containerd config default /etc/containerd/config.toml disabled_plugins = [] imports = [] oom_score = 0 plugin_dir = \"\" required_plugins = [] root = \"/var/lib/containerd\" state = \"/run/containerd\" temp = \"\" version = 2 [cgroup] path = \"\" [debug] address = \"\" format = \"\" gid = 0 level = \"\" uid = 0 [grpc] address = \"/run/containerd/containerd.sock\" gid = 0 max_recv_message_size = 16777216 max_send_message_size = 16777216 tcp_address = \"\" tcp_tls_ca = \"\" tcp_tls_cert = \"\" tcp_tls_key = \"\" uid = 0 [metrics] address = \"\" grpc_histogram = false [plugins] [plugins.\"io.containerd.gc.v1.scheduler\"] deletion_threshold = 0 mutation_threshold = 100 pause_threshold = 0.02 schedule_delay = \"0s\" startup_delay = \"100ms\" [plugins.\"io.containerd.grpc.v1.cri\"] cdi_spec_dirs = [\"/etc/cdi\", \"/var/run/cdi\"] device_ownership_from_security_context = false disable_apparmor = false disable_cgroup = false disable_hugetlb_controller = true disable_proc_mount = false disable_tcp_service = true drain_exec_sync_io_timeout = \"0s\" enable_cdi = false enable_selinux = false enable_tls_streaming = false enable_unprivileged_icmp = false enable_unprivileged_ports = false ignore_image_defined_volumes = false image_pull_progress_timeout = \"1m0s\" max_concurrent_downloads = 3 max_container_log_line_size = 16384 netns_mounts_under_state_dir = false restrict_oom_score_adj = false sandbox_image = \"registry.k8s.io/pause:3.8\" selinux_category_range = 1024 stats_collect_period = 10 stream_idle_timeout = \"4h0m0s\" stream_server_address = \"127.0.0.1\" stream_server_port = \"0\" systemd_cgroup = false tolerate_missing_hugetlb_controller = true unset_seccomp_profile = \"\" [plugins.\"io.containerd.grpc.v1.cri\".cni] bin_dir = \"/opt/cni/bin\" conf_dir = \"/etc/cni/net.d\" conf_template = \"\" ip_pref = \"\" max_conf_num = 1 setup_serially = false [plugins.\"io.containerd.grpc.v1.cri\".containerd] default_runtime_name = \"runc\" disable_snapshot_annotations = true discard_unpacked_layers = false ignore_blockio_not_enabled_errors = false ignore_rdt_not_enabled_errors = false no_pivot = false snapshotter = \"overlayfs\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime] base_runtime_spec = \"\" cni_conf_dir = \"\" cni_max_conf_num = 0 container_annotations = [] pod_annotations = [] privileged_without_host_devices = false privileged_without_host_devices_all_devices_allowed = false runtime_engine = \"\" runtime_path = \"\" runtime_root = \"\" runtime_type = \"\" sandbox_mode = \"\" snapshotter = \"\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime.options] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc] base_runtime_spec = \"\" cni_conf_dir = \"\" cni_max_conf_num = 0 container_annotations = [] pod_annotations = [] privileged_without_host_devices = false privileged_without_host_devices_all_devices_allowed = false runtime_engine = \"\" runtime_path = \"\" runtime_root = \"\" runtime_type = \"io.containerd.runc.v2\" sandbox_mode = \"podsandbox\" snapshotter = \"\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options] BinaryName = \"\" CriuImagePath = \"\" CriuPath = \"\" CriuWorkPath = \"\" IoGid = 0 IoUid = 0 NoNewKeyring = false NoPivotRoot = false Root = \"\" ShimCgroup = \"\" SystemdCgroup = false [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime] base_runtime_spec = \"\" cni_conf_dir = \"\" cni_max_conf_num = 0 container_annotations = [] pod_annotations = [] privileged_without_host_devices = false privileged_without_host_devices_all_devices_allowed = false runtime_engine = \"\" runtime_path = \"\" runtime_root = \"\" runtime_type = \"\" sandbox_mode = \"\" snapshotter = \"\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime.options] [plugins.\"io.containerd.grpc.v1.cri\".image_decryption] key_model = \"node\" [plugins.\"io.containerd.grpc.v1.cri\".registry] config_path = \"\" [plugins.\"io.containerd.grpc.v1.cri\".registry.auths] [plugins.\"io.containerd.grpc.v1.cri\".registry.configs] [plugins.\"io.containerd.grpc.v1.cri\".registry.headers] [plugins.\"io.containerd.grpc.v1.cri\".registry.mirrors] [plugins.\"io.containerd.grpc.v1.cri\".x509_key_pair_streaming] tls_cert_file = \"\" tls_key_file = \"\" [plugins.\"io.containerd.internal.v1.opt\"] path = \"/opt/containerd\" [plugins.\"io.containerd.internal.v1.restart\"] interval = \"10s\" [plugins.\"io.containerd.internal.v1.tracing\"] sampling_ratio = 1.0 service_name = \"containerd\" [plugins.\"io.containerd.metadata.v1.bolt\"] content_sharing_policy = \"shared\" [plugins.\"io.containerd.monitor.v1.cgroups\"] no_prometheus = false [plugins.\"io.containerd.nri.v1.nri\"] disable = true disable_connections = false plugin_config_path = \"/etc/nri/conf.d\" plugin_path = \"/opt/nri/plugins\" plugin_registration_timeout = \"5s\" plugin_request_timeout = \"2s\" socket_path = \"/var/run/nri/nri.sock\" [plugins.\"io.containerd.runtime.v1.linux\"] no_shim = false runtime = \"runc\" runtime_root = \"\" shim = \"containerd-shim\" shim_debug = false [plugins.\"io.containerd.runtime.v2.task\"] platforms = [\"linux/arm64/v8\"] sched_core = false [plugins.\"io.containerd.service.v1.diff-service\"] default = [\"walking\"] [plugins.\"io.containerd.service.v1.tasks-service\"] blockio_config_file = \"\" rdt_config_file = \"\" [plugins.\"io.containerd.snapshotter.v1.aufs\"] root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.btrfs\"] root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.devmapper\"] async_remove = false base_image_size = \"\" discard_blocks = false fs_options = \"\" fs_type = \"\" pool_name = \"\" root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.native\"] root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.overlayfs\"] root_path = \"\" upperdir_label = false [plugins.\"io.containerd.snapshotter.v1.zfs\"] root_path = \"\" [plugins.\"io.containerd.tracing.processor.v1.otlp\"] endpoint = \"\" insecure = false protocol = \"\" [plugins.\"io.containerd.transfer.v1.local\"] config_path = \"\" max_concurrent_downloads = 3 max_concurrent_uploaded_layers = 3 [[plugins.\"io.containerd.transfer.v1.local\".unpack_config]] differ = \"\" platform = \"linux/arm64/v8\" snapshotter = \"overlayfs\" [proxy_plugins] [stream_processors] [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar\"] accepts = [\"application/vnd.oci.image.layer.v1.tar+encrypted\"] args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"] env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"] path = \"ctd-decoder\" returns = \"application/vnd.oci.image.layer.v1.tar\" [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar.gzip\"] accepts = [\"application/vnd.oci.image.layer.v1.tar+gzip+encrypted\"] args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"] env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"] path = \"ctd-decoder\" returns = \"application/vnd.oci.image.layer.v1.tar+gzip\" [timeouts] \"io.containerd.timeout.bolt.open\" = \"0s\" \"io.containerd.timeout.metrics.shimstats\" = \"2s\" \"io.containerd.timeout.shim.cleanup\" = \"5s\" \"io.containerd.timeout.shim.load\" = \"5s\" \"io.containerd.timeout.shim.shutdown\" = \"3s\" \"io.containerd.timeout.task.state\" = \"2s\" [ttrpc] address = \"\" gid = 0 uid = 0 sangam@sangam:~$ ContainerD Configuration Overview linkTable of Contents link General Configuration CGroup Debug GRPC Metrics Plugins Proxy Plugins Stream Processors Timeouts TTRPC General Configuration link Key Description disabled_plugins List of plugins to be disabled. required_plugins List of required plugins. imports List of imports from other configurations. oom_score Out-Of-Memory score for ContainerD processes. plugin_dir Directory for ContainerD plugins. root Directory for ContainerD’s persistent state. state Directory for ContainerD’s runtime state. version Configuration file format version. CGroup link Key Description path Custom path for cgroup. Debug link Key Description address Socket address for debug service. format Log format for debug service. gid Group ID for debug service. level Debug level. uid User ID for debug service. GRPC link Key Description address Socket address for GRPC communication. max_recv_message_size Maximum receive message size. max_send_message_size Maximum send message size. tcp_address TCP address for GRPC. tcp_tls_* TLS settings for TCP GRPC. uid, gid User/Group ID for GRPC socket. Metrics link Key Description address Address for exporting metrics. grpc_histogram Enable GRPC histogram metrics. Plugins link This section is extensive and contains configurations for various ContainerD plugins. Only key plugins and configurations are listed here.\nio.containerd.gc.v1.scheduler link Garbage collection settings. io.containerd.grpc.v1.cri link Settings for Container Runtime Interface (CRI), crucial for Kubernetes. Runtimes (runc, etc.) link Define and configure container runtimes. Proxy Plugins link Key Description plugin_name Configuration for specific proxy plugin. Stream Processors link Key Description processor_name Configuration for specific stream processor. Timeouts link Key Description timeout_name Various timeout settings for ContainerD operations. TTRPC link Key Description address Address for TTRPC communication. uid, gid User/Group ID for TTRPC socket. Verify ContainerD CLI - Ctr available on your system link sangam@sangam:~$ ctr NAME: ctr - __ _____/ /______ / ___/ __/ ___/ / /__/ /_/ / \\___/\\__/_/ containerd CLI USAGE: ctr [global options] command [command options] [arguments...] VERSION: 1.7.2 DESCRIPTION: ctr is an unsupported debug and administrative client for interacting with the containerd daemon. Because it is unsupported, the commands, options, and operations are not guaranteed to be backward compatible or stable from release to release of the containerd project. COMMANDS: plugins, plugin Provides information about containerd plugins version Print the client and server versions containers, c, container Manage containers content Manage content events, event Display containerd events images, image, i Manage images leases Manage leases namespaces, namespace, ns Manage namespaces pprof Provide golang pprof outputs for containerd run Run a container snapshots, snapshot Manage snapshots tasks, t, task Manage tasks install Install a new package oci OCI tools sandboxes, sandbox, sb, s Manage sandboxes info Print the server info shim Interact with a shim directly help, h Shows a list of commands or help for one command GLOBAL OPTIONS: --debug Enable debug output in logs --address value, -a value Address for containerd's GRPC server (default: \"/run/containerd/containerd.sock\") [$CONTAINERD_ADDRESS] --timeout value Total timeout for ctr commands (default: 0s) --connect-timeout value Timeout for connecting to containerd (default: 0s) --namespace value, -n value Namespace to use with commands (default: \"default\") [$CONTAINERD_NAMESPACE] --help, -h show help --version, -v print the version sangam@sangam:~$ ctr Command Examples for ContainerD linkctr is a command-line utility provided by ContainerD for interacting with the ContainerD daemon. It’s used for development, debugging, and low-level container operations. Below are some common examples of how to use ctr commands.\nTable of Contents link List Containers Run a Container Pull an Image List Images Remove an Image Create a Snapshot Push an Image Execute Command in Container View Container Logs Stop a Container Delete a Container List Containers link sudo ctr containers list CONTAINER IMAGE RUNTIME Pull an Image link sangam@sangam:~$ sudo ctr run --rm -t docker.io/library/hello-world ctr: container id must be provided docker.io/library/hello-world:latest: resolved |++++++++++++++++++++++++++++++++++++++| index-sha256:4bd78111b6914a99dbc560e6a20eab57ff6655aea4a80c50b0c5491968cbc2e6: done |++++++++++++++++++++++++++++++++++++++| manifest-sha256:2d4e459f4ecb5329407ae3e47cbc107a2fbace221354ca75960af4c047b3cb13: done |++++++++++++++++++++++++++++++++++++++| layer-sha256:478afc9190022e867bb857b1a25cc5abc7678287af6cb930562ec25be709f1b7: done |++++++++++++++++++++++++++++++++++++++| config-sha256:ee301c921b8aadc002973b2e0c3da17d701dcd994b606769a7e6eaa100b81d44: done |++++++++++++++++++++++++++++++++++++++| elapsed: 6.5 s total: 10.3 K (1.6 KiB/s) unpacking linux/arm64/v8 sha256:4bd78111b6914a99dbc560e6a20eab57ff6655aea4a80c50b0c5491968cbc2e6... done: 15.890923ms\tRun a Container link sangam@sangam:~$ sudo ctr run --rm -t docker.io/library/hello-world:latest hello-world Hello from Docker! This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. (arm64v8) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker ID: https://hub.docker.com/ For more examples and ideas, visit: https://docs.docker.com/get-started/ sangam@sangam:~$ List Images link sudo ctr images list REF TYPE DIGEST SIZE PLATFORMS LABELS docker.io/library/hello-world:latest application/vnd.oci.image.index.v1+json sha256:4bd78111b6914a99dbc560e6a20eab57ff6655aea4a80c50b0c5491968cbc2e6 13.4 KiB linux/386,linux/amd64,linux/arm/v5,linux/arm/v7,linux/arm64/v8,linux/mips64le,linux/ppc64le,linux/riscv64,linux/s390x,unknown/unknown,windows/amd64 - Remove an Image link sangam@sangam:~$ sudo ctr images remove docker.io/library/hello-world:latest docker.io/library/hello-world:latest Create a Snapshot link sangam@sangam:~$ sudo ctr snapshots info sha256:cd322088bcfba290bcfa064b77165d73708a0a77209146be150b29b7fec4c366 { \"Kind\": \"Committed\", \"Name\": \"sha256:cd322088bcfba290bcfa064b77165d73708a0a77209146be150b29b7fec4c366\", \"Created\": \"2024-02-09T10:01:41.428699079Z\", \"Updated\": \"2024-02-09T10:01:41.428699079Z\" } sangam@sangam:~$ sudo ctr snapshots prepare busybox-snapshot sangam@sangam:~$ sudo ctr snapshots ls KEY PARENT KIND busybox-snapshot Active sha256:cd322088bcfba290bcfa064b77165d73708a0a77209146be150b29b7fec4c366 Committed sangam@sangam:~$ sudo ctr snapshots diff busybox-snapshot sha256:cd322088bcfba290bcfa064b77165d73708a0a77209146be150b29b7fec4c366 Push an Image link ctr images push myregistry.example.com/myimage:latest Execute Command in Container link ctr tasks exec NAME: ctr tasks exec - Execute additional processes in an existing container USAGE: ctr tasks exec [command options] [flags] CONTAINER CMD [ARG...] OPTIONS: --cwd value Working directory of the new process --tty, -t Allocate a TTY for the container --detach, -d Detach from the task after it has started execution --exec-id value Exec specific id for the process --fifo-dir value Directory used for storing IO FIFOs --log-uri value Log uri for custom shim logging --user value User id or name ctr: Required flag \"exec-id\" not set sangam@sangam:~$ sudo ctr images pull docker.io/library/busybox:latest docker.io/library/busybox:latest: resolving |--------------------------------------| docker.io/library/busybox:latest: resolved |++++++++++++++++++++++++++++++++++++++| index-sha256:6d9ac9237a84afe1516540f40a0fafdc86859b2141954b4d643af7066d598b74: done |++++++++++++++++++++++++++++++++++++++| manifest-sha256:8f03917912ea995c637b6c0295846aaff5665f06ac82a29b421fba4c379494e7: done |++++++++++++++++++++++++++++++++++++++| layer-sha256:c2bf9493c1bf786e95e3eac7d406c20aa1b8a2d40916756e891627e9e8f8d119: done |++++++++++++++++++++++++++++++++++++++| config-sha256:3e4fd538a9a0b729be05707cf805388be2fb701cfd5d44c6542f1988e8aef6e3: done |++++++++++++++++++++++++++++++++++++++| elapsed: 2.3 s total: 0.0 B (0.0 B/s) unpacking linux/arm64/v8 sha256:6d9ac9237a84afe1516540f40a0fafdc86859b2141954b4d643af7066d598b74... done: 4.323205ms\tMem: 2554748K used, 1450628K free, 1432K shrd, 84568K buff, 1617808K cached CPU: 4.3% usr 0.8% sys 0.0% nic 94.5% idle 0.1% io 0.0% irq 0.2% sirq Load average: 0.29 0.23 0.20 1/361 12 PID PPID USER STAT VSZ %VSZ CPU %CPU COMMAND 1 0 root R 3984 0.1 0 0.0 top open new terminal sangam@sangam:~$ sudo ctr tasks exec --exec-id exec1 busybox-container ls / bin dev etc home lib lib64 proc root run sys tmp usr var View Container Logs link sangam@sangam:~$ sudo ctr tasks ls TASK PID STATUS busybox-container 98767 RUNNING sangam@sangam:~$ sudo ctr container ls CONTAINER IMAGE RUNTIME busybox-container docker.io/library/busybox:latest io.containerd.runc.v2 journalctl -u containerd Stop a Container link sudo ctr tasks kill busybox-container Delete a Container link sangam@sangam:~$ sudo ctr containers -h NAME: ctr containers - Manage containers USAGE: ctr containers command [command options] [arguments...] COMMANDS: create Create container delete, del, remove, rm Delete one or more existing containers info Get info about a container list, ls List containers label Set and clear labels for a container checkpoint Checkpoint a container restore Restore a container from checkpoint OPTIONS: --help, -h show help sangam@sangam:~$ sudo ctr containers del busybox-container Ctr plugins link sangam@sangam:~$ sudo ctr plugins list TYPE ID PLATFORMS STATUS io.containerd.snapshotter.v1 aufs linux/arm64/v8 skip io.containerd.snapshotter.v1 btrfs linux/arm64/v8 skip io.containerd.content.v1 content - ok io.containerd.snapshotter.v1 native linux/arm64/v8 ok io.containerd.snapshotter.v1 overlayfs linux/arm64/v8 ok io.containerd.snapshotter.v1 devmapper linux/arm64/v8 error io.containerd.snapshotter.v1 zfs linux/arm64/v8 skip io.containerd.metadata.v1 bolt - ok io.containerd.differ.v1 walking linux/arm64/v8 ok io.containerd.event.v1 exchange - ok io.containerd.gc.v1 scheduler - ok io.containerd.lease.v1 manager - ok io.containerd.nri.v1 nri - ok io.containerd.runtime.v2 task linux/arm64/v8 ok io.containerd.runtime.v2 shim - ok io.containerd.sandbox.store.v1 local - ok io.containerd.sandbox.controller.v1 local - ok io.containerd.streaming.v1 manager - ok io.containerd.service.v1 introspection-service - ok io.containerd.service.v1 containers-service - ok io.containerd.service.v1 content-service - ok io.containerd.service.v1 diff-service - ok io.containerd.service.v1 images-service - ok io.containerd.service.v1 namespaces-service - ok io.containerd.service.v1 snapshots-service - ok io.containerd.runtime.v1 linux linux/arm64/v8 ok io.containerd.monitor.v1 cgroups linux/arm64/v8 ok io.containerd.service.v1 tasks-service - ok io.containerd.grpc.v1 introspection - ok io.containerd.transfer.v1 local - ok io.containerd.internal.v1 restart - ok io.containerd.grpc.v1 containers - ok io.containerd.grpc.v1 content - ok io.containerd.grpc.v1 diff - ok io.containerd.grpc.v1 events - ok io.containerd.grpc.v1 healthcheck - ok io.containerd.grpc.v1 images - ok io.containerd.grpc.v1 leases - ok io.containerd.grpc.v1 namespaces - ok io.containerd.internal.v1 opt - ok io.containerd.grpc.v1 sandbox-controllers - ok io.containerd.grpc.v1 sandboxes - ok io.containerd.grpc.v1 snapshots - ok io.containerd.grpc.v1 streaming - ok io.containerd.grpc.v1 tasks - ok io.containerd.grpc.v1 transfer - ok io.containerd.grpc.v1 version - ok io.containerd.grpc.v1 cri linux/arm64/v8 ok io.containerd.tracing.processor.v1 otlp - skip io.containerd.internal.v1 tracing - ok pull images of all platfroms link sudo ctr image pull --all-platforms \\ docker.io/library/alpine:latest export as tar link sangam@sangam:~$ sudo ctr image export --all-platforms \\ image-layout-alpine.tar docker.io/library/alpine:latest sangam@sangam:~$ ls code-server image-layout-alpine.tar runc-sangam-demo sangam@sangam:~$ extract the tar file link sangam@sangam:~$ tar xf image-layout-alpine.tar sangam@sangam:~$ ls blobs code-server image-layout-alpine.tar index.json manifest.json oci-layout runc-sangam-demo skiped unwanted file and see what we got in tar link sangam@sangam:~$ tree -I 'runc-sangam-demo|code-server' . ├── blobs │ └── sha256 │ ├── 05455a08881ea9cf0e752bc48e61bbd71a34c029bb13df01e40e3e70e0d007bd │ ├── 0dc2e6c0f9ded2daeca96bbf270526d182d2f4267f5c7610c222c05cad6f6b96 │ ├── 15c46ced65c6abed6a27472a7904b04273e9a8091a5627badd6ff016ab073171 │ ├── 2d433224a9f8f46c545c8fc4bc82ea382227d892e9f0c704d90ef585542bf497 │ ├── 30c69795e46bd167df7f6152056f3c885cba4f5b4238e2327c73fb35c226d351 │ ├── 4a0759b5afbffdc507fbb4e32b3a139063c3a5c0829f811973850447f98830ae │ ├── 4abcf20661432fb2d719aaf90656f55c287f8ca915dc1c92ec14ff61e67fbaf8 │ ├── 5b984dd0323cee557fb6a9d8796f4b4414317cf1fb88bb2047d2046ac9447d77 │ ├── 5d0da60400afb021f2d8dbfec8b7d26457e77eb8825cba90eba84319133f0efe │ ├── 6457d53fb065d6f250e1504b9bc42d5b6c65941d57532c072d929dd0628977d0 │ ├── 8fc740d8c40e45ea330a3f324fe009148dfc1f771bc90254eaf8ff8bbcecfe02 │ ├── 935b61847fc465ff70ecbd3436253a7596a500e649a16014646a99393ccbb661 │ ├── a0264d60f80df12bc1e6dd98bae6c43debe6667c0ba482711f0d806493467a46 │ ├── ace17d5d883e9ea5a21138d0608d60aa2376c68f616c55b0b7e73fba6d8556a3 │ ├── b12b826de1ec8c4237aa09a0287e7be8bd317586f32bf6cd9395ec5dba52a3a2 │ ├── b229a85166aadbde58e73e03c5e2b9737fb4642ffb2d98ba453adc90d144c1d8 │ ├── bca4290a96390d7a6fc6f2f9929370d06f8dfcacba591c76e3d5c5044e7f420c │ ├── c5b1261d6d3e43071626931fc004f70149baeba2c8ec672bd4f27761f8e1ad6b │ ├── eb8fba61d86413beda3240c40c599041e040e658cd8314e38ee15e67ea57d349 │ ├── ec299a7ba3c670e38642b0b62a0c779d84b249a3c889757e2b6f841433b4c6fe │ ├── f4968021da4ff8b74325e5aebf0f9448b44becfdd14df80ecba474e43cc92546 │ └── fda0ff469afd28d9cfbb946e8e0a3c911c591a2691bea62be9187e45a1c50549 ├── image-layout-alpine.tar ├── index.json ├── manifest.json └── oci-layout 2 directories, 26 files image manifest link sangam@sangam:~$ cat manifest.json | jq . [ { \"Config\": \"blobs/sha256/ace17d5d883e9ea5a21138d0608d60aa2376c68f616c55b0b7e73fba6d8556a3\", \"RepoTags\": [ \"alpine:latest\" ], \"Layers\": [ \"blobs/sha256/bca4290a96390d7a6fc6f2f9929370d06f8dfcacba591c76e3d5c5044e7f420c\" ] } ] which appears to be a manifest list or an image index in the OCI (Open Container Initiative) format. It’s a JSON file that describes an image in a container registry, such as Docker Hub\nread image config and image layers link sangam@sangam:~$ cat ./blobs/sha256/c5b1261d6d3e43071626931fc004f70149baeba2c8ec672bd4f27761f8e1ad6b | jq . { \"manifests\": [ { \"digest\": \"sha256:6457d53fb065d6f250e1504b9bc42d5b6c65941d57532c072d929dd0628977d0\", \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\", \"platform\": { \"architecture\": \"amd64\", \"os\": \"linux\" }, \"size\": 528 }, { \"digest\": \"sha256:b229a85166aadbde58e73e03c5e2b9737fb4642ffb2d98ba453adc90d144c1d8\", \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\", \"platform\": { \"architecture\": \"arm\", \"os\": \"linux\", \"variant\": \"v6\" }, \"size\": 528 }, { \"digest\": \"sha256:ec299a7ba3c670e38642b0b62a0c779d84b249a3c889757e2b6f841433b4c6fe\", \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\", \"platform\": { \"architecture\": \"arm\", \"os\": \"linux\", \"variant\": \"v7\" }, \"size\": 528 }, { \"digest\": \"sha256:a0264d60f80df12bc1e6dd98bae6c43debe6667c0ba482711f0d806493467a46\", \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\", \"platform\": { \"architecture\": \"arm64\", \"os\": \"linux\", \"variant\": \"v8\" }, \"size\": 528 }, { \"digest\": \"sha256:15c46ced65c6abed6a27472a7904b04273e9a8091a5627badd6ff016ab073171\", \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\", \"platform\": { \"architecture\": \"386\", \"os\": \"linux\" }, \"size\": 528 }, { \"digest\": \"sha256:b12b826de1ec8c4237aa09a0287e7be8bd317586f32bf6cd9395ec5dba52a3a2\", \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\", \"platform\": { \"architecture\": \"ppc64le\", \"os\": \"linux\" }, \"size\": 528 }, { \"digest\": \"sha256:5d0da60400afb021f2d8dbfec8b7d26457e77eb8825cba90eba84319133f0efe\", \"mediaType\": \"application/vnd.docker.distribution.manifest.v2+json\", \"platform\": { \"architecture\": \"s390x\", \"os\": \"linux\" }, \"size\": 528 } ], \"mediaType\": \"application/vnd.docker.distribution.manifest.list.v2+json\", \"schemaVersion\": 2 } "
            }
        );
    index.add(
            {
                id:  15 ,
                href: "\/docs\/helm\/template-file\/",
                title: "creating template file and access through it ",
                description: "create helper template file linkcreate file with name _my-template.tpl\n{{- define \"labels\" }} app: ngnix version: \"1.0\" team: myteam {{- end }} (base) ➜ application-1 git:(main) ✗ helm template . --- # Source: application-1/templates/service.yaml apiVersion: v1 kind: Service metadata: name: my-service labels: app: ngnix spec: type: NodePort ports: - port: 80 targetPort: 80 nodeport: 32036 protocol: TCP name: http selector: app: ngnix --- # Source: application-1/templates/deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: my-deployememt labels: app: ngnix version: \"1.0\" team: myteam spec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"ngnix:latest\" (base) ➜ application-1 git:(main) ✗ ",
                content: "create helper template file linkcreate file with name _my-template.tpl\n{{- define \"labels\" }} app: ngnix version: \"1.0\" team: myteam {{- end }} (base) ➜ application-1 git:(main) ✗ helm template . --- # Source: application-1/templates/service.yaml apiVersion: v1 kind: Service metadata: name: my-service labels: app: ngnix spec: type: NodePort ports: - port: 80 targetPort: 80 nodeport: 32036 protocol: TCP name: http selector: app: ngnix --- # Source: application-1/templates/deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: my-deployememt labels: app: ngnix version: \"1.0\" team: myteam spec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"ngnix:latest\" (base) ➜ application-1 git:(main) ✗ "
            }
        );
    index.add(
            {
                id:  16 ,
                href: "\/docs\/containersecurity\/docker-volumes\/",
                title: "Docker volumes ",
                description: "Docker volumes\nHow to create encrypted data volume linkCreate a Docker volume using the docker volume create command, for example:\n$ docker volume create encrypted_volume Create a Docker container that will be used to create the encrypted volume. For this, you can use a tool like luksipc, which allows you to create a LUKS-encrypted file within a container.\nRun the luksipccontainer with the --volume flag to specify the Docker volume you want to encrypt. For example:\n",
                content: "Docker volumes\nHow to create encrypted data volume linkCreate a Docker volume using the docker volume create command, for example:\n$ docker volume create encrypted_volume Create a Docker container that will be used to create the encrypted volume. For this, you can use a tool like luksipc, which allows you to create a LUKS-encrypted file within a container.\nRun the luksipccontainer with the --volume flag to specify the Docker volume you want to encrypt. For example:\n$ docker run --rm -it --volume encrypted_volume:/volume luksipc create Follow the prompts to create the encrypted volume. You will be asked to specify a passphrase that will be used to encrypt and decrypt the volume.\nOnce the volume is created, you can use it like any other Docker volume. For example, you can mount it to a container using the -v flag:\n$ docker run --rm -it -v encrypted_volume:/data ubuntu bash To decrypt the volume, you can use the luksipc container again and specify the unlock command. You will be prompted for the passphrase you specified when creating the volume:\n$ docker run --rm -it --volume encrypted_volume:/volume luksipc unlock You can then access the decrypted data within the volume from within the container. Note: This is just one example of how to create an encrypted Docker volume. There are other tools and methods available that you can use to achieve the same result.\n"
            }
        );
    index.add(
            {
                id:  17 ,
                href: "\/docs\/kubernetes\/ha-cluster\/",
                title: "HA Cluster",
                description: " Manage a Highly-Available Kubernetes Cluster ",
                content: "Kubernetes utilizes a microservices architecture, with all requests initially directed to a central API server microservice, supported by various other components. For high availability in a Kubernetes cluster, it’s common to add more control plane nodes, each hosting additional instances of the API Server, Scheduler, and Controller Manager. If etcd is part of the control plane nodes, additional members will also be added to the etcd cluster.\nIn a setup with multiple control plane nodes, several API Servers operate concurrently in a highly available configuration, all interfacing with the same etcd cluster. This setup ensures that client requests are processed consistently using the shared data. Communication with the API Servers is managed through a single endpoint, such as an external load balancer, which directs traffic to all API Server instances.\nOther control plane components like the Scheduler and Controller Manager function on a failover basis. Among the instances of these microservices, one is elected as the active leader to handle all critical tasks. The other instances remain passive and only become active if the current leader fails.\nHigh availability in the control plane is crucial but only part of achieving overall high availability in Kubernetes. For high availability of workloads, additional worker nodes might be necessary, and workloads should be configured to deploy multiple replicas that coordinate with each other.\nKubeadm simplifies the process of expanding your Kubernetes cluster by adding more nodes. To join a new node to the cluster, you first need to generate a join command that includes the API server’s address, a unique join token, and the SHA hash of the cluster’s certificate authority (CA) certificate. This command can be generated using the following command on an existing control plane node:\nmaster node link sangam@sangam:~$ kubeadm token create --print-join-command kubeadm join 192.168.129.135:6443 --token wahoal.dhn8p2qvkavuq7ge --discovery-token-ca-cert-hash sha256:d401c9e8831da53d4f85bb2b027b1a48f60408d0c241f105677c86e061ab2b4f restart containerd link sangam@sangam:~$ sudo systemctl restart containerd sangam@sangam:~$ sudo kubectl --kubeconfig /etc/kubernetes/admin.conf get nodes NAME STATUS ROLES AGE VERSION sangam Ready control-plane 47m v1.29.4 set containerd config link sangam@sangam:~$ sudo mkdir -p /etc/containerd sudo containerd config default | sudo tee /etc/containerd/config.toml disabled_plugins = [] imports = [] oom_score = 0 plugin_dir = \"\" required_plugins = [] root = \"/var/lib/containerd\" state = \"/run/containerd\" temp = \"\" version = 2 [cgroup] path = \"\" [debug] address = \"\" format = \"\" gid = 0 level = \"\" uid = 0 [grpc] address = \"/run/containerd/containerd.sock\" gid = 0 max_recv_message_size = 16777216 max_send_message_size = 16777216 tcp_address = \"\" tcp_tls_ca = \"\" tcp_tls_cert = \"\" tcp_tls_key = \"\" uid = 0 [metrics] address = \"\" grpc_histogram = false [plugins] [plugins.\"io.containerd.gc.v1.scheduler\"] deletion_threshold = 0 mutation_threshold = 100 pause_threshold = 0.02 schedule_delay = \"0s\" startup_delay = \"100ms\" [plugins.\"io.containerd.grpc.v1.cri\"] device_ownership_from_security_context = false disable_apparmor = false disable_cgroup = false disable_hugetlb_controller = true disable_proc_mount = false disable_tcp_service = true drain_exec_sync_io_timeout = \"0s\" enable_selinux = false enable_tls_streaming = false enable_unprivileged_icmp = false enable_unprivileged_ports = false ignore_deprecation_warnings = [] ignore_image_defined_volumes = false max_concurrent_downloads = 3 max_container_log_line_size = 16384 netns_mounts_under_state_dir = false restrict_oom_score_adj = false sandbox_image = \"registry.k8s.io/pause:3.6\" selinux_category_range = 1024 stats_collect_period = 10 stream_idle_timeout = \"4h0m0s\" stream_server_address = \"127.0.0.1\" stream_server_port = \"0\" systemd_cgroup = false tolerate_missing_hugetlb_controller = true unset_seccomp_profile = \"\" [plugins.\"io.containerd.grpc.v1.cri\".cni] bin_dir = \"/opt/cni/bin\" conf_dir = \"/etc/cni/net.d\" conf_template = \"\" ip_pref = \"\" max_conf_num = 1 [plugins.\"io.containerd.grpc.v1.cri\".containerd] default_runtime_name = \"runc\" disable_snapshot_annotations = true discard_unpacked_layers = false ignore_rdt_not_enabled_errors = false no_pivot = false snapshotter = \"overlayfs\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime] base_runtime_spec = \"\" cni_conf_dir = \"\" cni_max_conf_num = 0 container_annotations = [] pod_annotations = [] privileged_without_host_devices = false runtime_engine = \"\" runtime_path = \"\" runtime_root = \"\" runtime_type = \"\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.default_runtime.options] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes] [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc] base_runtime_spec = \"\" cni_conf_dir = \"\" cni_max_conf_num = 0 container_annotations = [] pod_annotations = [] privileged_without_host_devices = false runtime_engine = \"\" runtime_path = \"\" runtime_root = \"\" runtime_type = \"io.containerd.runc.v2\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options] BinaryName = \"\" CriuImagePath = \"\" CriuPath = \"\" CriuWorkPath = \"\" IoGid = 0 IoUid = 0 NoNewKeyring = false NoPivotRoot = false Root = \"\" ShimCgroup = \"\" SystemdCgroup = false [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime] base_runtime_spec = \"\" cni_conf_dir = \"\" cni_max_conf_num = 0 container_annotations = [] pod_annotations = [] privileged_without_host_devices = false runtime_engine = \"\" runtime_path = \"\" runtime_root = \"\" runtime_type = \"\" [plugins.\"io.containerd.grpc.v1.cri\".containerd.untrusted_workload_runtime.options] [plugins.\"io.containerd.grpc.v1.cri\".image_decryption] key_model = \"node\" [plugins.\"io.containerd.grpc.v1.cri\".registry] config_path = \"\" [plugins.\"io.containerd.grpc.v1.cri\".registry.auths] [plugins.\"io.containerd.grpc.v1.cri\".registry.configs] [plugins.\"io.containerd.grpc.v1.cri\".registry.headers] [plugins.\"io.containerd.grpc.v1.cri\".registry.mirrors] [plugins.\"io.containerd.grpc.v1.cri\".x509_key_pair_streaming] tls_cert_file = \"\" tls_key_file = \"\" [plugins.\"io.containerd.internal.v1.opt\"] path = \"/opt/containerd\" [plugins.\"io.containerd.internal.v1.restart\"] interval = \"10s\" [plugins.\"io.containerd.internal.v1.tracing\"] sampling_ratio = 1.0 service_name = \"containerd\" [plugins.\"io.containerd.metadata.v1.bolt\"] content_sharing_policy = \"shared\" [plugins.\"io.containerd.monitor.v1.cgroups\"] no_prometheus = false [plugins.\"io.containerd.runtime.v1.linux\"] no_shim = false runtime = \"runc\" runtime_root = \"\" shim = \"containerd-shim\" shim_debug = false [plugins.\"io.containerd.runtime.v2.task\"] platforms = [\"linux/arm64/v8\"] sched_core = false [plugins.\"io.containerd.service.v1.diff-service\"] default = [\"walking\"] [plugins.\"io.containerd.service.v1.tasks-service\"] rdt_config_file = \"\" [plugins.\"io.containerd.snapshotter.v1.aufs\"] root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.btrfs\"] root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.devmapper\"] async_remove = false base_image_size = \"\" discard_blocks = false fs_options = \"\" fs_type = \"\" pool_name = \"\" root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.native\"] root_path = \"\" [plugins.\"io.containerd.snapshotter.v1.overlayfs\"] mount_options = [] root_path = \"\" sync_remove = false upperdir_label = false [plugins.\"io.containerd.snapshotter.v1.zfs\"] root_path = \"\" [plugins.\"io.containerd.tracing.processor.v1.otlp\"] endpoint = \"\" insecure = false protocol = \"\" [proxy_plugins] [stream_processors] [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar\"] accepts = [\"application/vnd.oci.image.layer.v1.tar+encrypted\"] args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"] env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"] path = \"ctd-decoder\" returns = \"application/vnd.oci.image.layer.v1.tar\" [stream_processors.\"io.containerd.ocicrypt.decoder.v1.tar.gzip\"] accepts = [\"application/vnd.oci.image.layer.v1.tar+gzip+encrypted\"] args = [\"--decryption-keys-path\", \"/etc/containerd/ocicrypt/keys\"] env = [\"OCICRYPT_KEYPROVIDER_CONFIG=/etc/containerd/ocicrypt/ocicrypt_keyprovider.conf\"] path = \"ctd-decoder\" returns = \"application/vnd.oci.image.layer.v1.tar+gzip\" [timeouts] \"io.containerd.timeout.bolt.open\" = \"0s\" \"io.containerd.timeout.shim.cleanup\" = \"5s\" \"io.containerd.timeout.shim.load\" = \"5s\" \"io.containerd.timeout.shim.shutdown\" = \"3s\" \"io.containerd.timeout.task.state\" = \"2s\" [ttrpc] address = \"\" gid = 0 uid = 0 sangam@sangam:~$ sudo sed -i 's/ SystemdCgroup = false/ SystemdCgroup = true/' /etc/containerd/config.toml sangam@sangam:~$ sudo systemctl restart containerd worker node link k8s@k8s:~$ sudo kubeadm join 192.168.129.135:6443 --token wahoal.dhn8p2qvkavuq7ge --discovery-token-ca-cert-hash sha256:d401c9e8831da53d4f85bb2b027b1a48f60408d0c241f105677c86e061ab2b4f [preflight] Running pre-flight checks [preflight] Reading configuration from the cluster... [preflight] FYI: You can look at this config file with 'kubectl -n kube-system get cm kubeadm-config -o yaml' [kubelet-start] Writing kubelet configuration to file \"/var/lib/kubelet/config.yaml\" [kubelet-start] Writing kubelet environment file with flags to file \"/var/lib/kubelet/kubeadm-flags.env\" [kubelet-start] Starting the kubelet [kubelet-start] Waiting for the kubelet to perform the TLS Bootstrap... This node has joined the cluster: * Certificate signing request was sent to apiserver and a response was received. * The Kubelet was informed of the new secure connection details. Run 'kubectl get nodes' on the control-plane to see this node join the cluster. check master node link sangam@sangam:~$ sudo kubectl --kubeconfig /etc/kubernetes/admin.conf get nodes NAME STATUS ROLES AGE VERSION k8s Ready 56s v1.29.4 sangam Ready control-plane 67m v1.29.4 "
            }
        );
    index.add(
            {
                id:  18 ,
                href: "\/docs\/docker\/images-as-tar-files\/",
                title: "Images as Tar Files",
                description: "Images and Container as Tarfile linkDocker provides the ability to save images and containers as tar files, which can be useful for sharing with others or transferring between systems. Here’s how to do it:\ndocker pull nginx:latest latest: Pulling from library/nginx 5731adb3a4ab: Pull complete 8785c8f663d3: Pull complete 023b6bd393e4: Pull complete fd8f86b165b0: Pull complete 8f41e7c12976: Pull complete 3b5338ea7d08: Pull complete Digest: sha256:6650513efd1d27c1f8a5351cbd33edf85cc7e0d9d0fcb4ffb23d8fa89b601ba8 Status: Downloaded newer image for nginx:latest docker.io/library/nginx:latest Saving an Image as a Tar File linkTo save a Docker image as a tar file, use the docker save command with the image name and output file name:\n",
                content: "Images and Container as Tarfile linkDocker provides the ability to save images and containers as tar files, which can be useful for sharing with others or transferring between systems. Here’s how to do it:\ndocker pull nginx:latest latest: Pulling from library/nginx 5731adb3a4ab: Pull complete 8785c8f663d3: Pull complete 023b6bd393e4: Pull complete fd8f86b165b0: Pull complete 8f41e7c12976: Pull complete 3b5338ea7d08: Pull complete Digest: sha256:6650513efd1d27c1f8a5351cbd33edf85cc7e0d9d0fcb4ffb23d8fa89b601ba8 Status: Downloaded newer image for nginx:latest docker.io/library/nginx:latest Saving an Image as a Tar File linkTo save a Docker image as a tar file, use the docker save command with the image name and output file name:\ndockerworkshop git:(main) ✗ docker container run -it ubuntu:14.04 bash Unable to find image 'ubuntu:14.04' locally 14.04: Pulling from library/ubuntu d1a5a1e51f25: Pull complete 75f8eea31a63: Pull complete a72d031efbfb: Pull complete Digest: sha256:64483f3496c1373bfd55348e88694d1c4d0c9b660dee6bfef5e12f43b9933b30 Status: Downloaded newer image for ubuntu:14.04 root@906d9f72e9fe:/# exit exit ➜ dockerworkshop git:(main) ✗ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 1bf183201392 ubuntu:14.04 \"bash\" 15 seconds ago Up 14 seconds loving_ride docker export 1b \u003e os.tar docker export loving_ride \u003e os1.tar dockerworkshop git:(main) ✗ ls os.tar os1.tar docker load is a command used to load images or container archives that were previously saved using the docker save command.\nWhen you use the docker save command, it creates a tar archive of one or more Docker images and/or containers. You can then use the docker load command to load this tar archive back into Docker.\nThe syntax for using the docker load command is as follows:\n➜ dockerworkshop git:(main) ✗ docker save -o os.tar ubuntu ➜ dockerworkshop git:(main) ✗ docker load \u003c os.tar Loaded image: ubuntu:14.04 "
            }
        );
    index.add(
            {
                id:  19 ,
                href: "\/docs\/containerd\/kata-container\/",
                title: " Kata Containers ",
                description: "Kata Containers link $ bash -c \"$(curl -fsSL https://raw.githubusercontent.com/kata-containers/kata-containers/main/utils/kata-manager.sh)\" If your system already has containerd installed, to install Kata Containers and only configure containerd, run:\n$ bash -c \"$(curl -fsSL https://raw.githubusercontent.com/kata-containers/kata-containers/main/utils/kata-manager.sh) -o\" if you have not installed anything use this to get setup everything\n$ bash -c \"$(curl -fsSL https://raw.githubusercontent.com/kata-containers/kata-containers/main/utils/kata-manager.sh) -h\" verify installation link bash -c \"$(curl -fsSL https://raw.githubusercontent.com/kata-containers/kata-containers/main/utils/kata-manager.sh) -o \u003e \" INFO: Checking dependencies INFO: Running pre-checks INFO: Downloading Kata Containers release (latest version) % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0 100 132M 100 132M 0 0 5000k 0 0:00:27 0:00:27 --:--:-- 4777k INFO: Installing Kata Containers release 3.2.0 from /tmp/tmp.3iqScS54QS/kata-static-3.2.0-arm64.tar.xz [sudo] password for sangam: ./ ./opt/ ./opt/kata/ ./opt/kata/VERSION ./opt/kata/bin/ ./opt/kata/bin/containerd-shim-kata-v2 ./opt/kata/bin/firecracker ./opt/kata/bin/kata-monitor ./opt/kata/bin/jailer ./opt/kata/bin/qemu-system-aarch64 ./opt/kata/bin/kata-collect-data.sh ./opt/kata/bin/kata-runtime ./opt/kata/bin/cloud-hypervisor ./opt/kata/libexec/ ./opt/kata/libexec/nydusd ./opt/kata/libexec/virtiofsd ./opt/kata/versions.yaml ./opt/kata/share/ ./opt/kata/share/kata-qemu/ ./opt/kata/share/kata-qemu/qemu/ ./opt/kata/share/kata-qemu/qemu/edk2-i386-code.fd ./opt/kata/share/kata-qemu/qemu/qboot.rom ./opt/kata/share/kata-qemu/qemu/hppa-firmware.img ./opt/kata/share/kata-qemu/qemu/s390-netboot.img ./opt/kata/share/kata-qemu/qemu/vof-nvram.bin ./opt/kata/share/kata-qemu/qemu/s390-ccw.img ./opt/kata/share/kata-qemu/qemu/bios.bin ./opt/kata/share/kata-qemu/qemu/edk2-arm-code.fd ./opt/kata/share/kata-qemu/qemu/edk2-x86_64-code.fd ./opt/kata/share/kata-qemu/qemu/bios-256k.bin ./opt/kata/share/kata-qemu/qemu/multiboot_dma.bin ./opt/kata/share/kata-qemu/qemu/vof.bin ./opt/kata/share/kata-qemu/qemu/qemu-nsis.bmp ./opt/kata/share/kata-qemu/qemu/bios-microvm.bin ./opt/kata/share/kata-qemu/qemu/linuxboot.bin ./opt/kata/share/kata-qemu/qemu/linuxboot_dma.bin ./opt/kata/share/kata-qemu/qemu/pvh.bin ./opt/kata/share/kata-qemu/qemu/firmware/ ./opt/kata/share/kata-qemu/qemu/firmware/50-edk2-i386-secure.json ./opt/kata/share/kata-qemu/qemu/firmware/60-edk2-i386.json ./opt/kata/share/kata-qemu/qemu/firmware/60-edk2-aarch64.json ./opt/kata/share/kata-qemu/qemu/firmware/60-edk2-arm.json ./opt/kata/share/kata-qemu/qemu/firmware/50-edk2-x86_64-secure.json ./opt/kata/share/kata-qemu/qemu/firmware/60-edk2-x86_64.json ./opt/kata/share/kata-qemu/qemu/kvmvapic.bin ./opt/kata/share/kata-qemu/qemu/efi-virtio.rom ./opt/kata/share/kata-qemu/qemu/edk2-licenses.txt ./opt/kata/share/kata-qemu/qemu/edk2-i386-secure-code.fd ./opt/kata/share/kata-qemu/qemu/edk2-aarch64-code.fd ./opt/kata/share/kata-qemu/qemu/edk2-i386-vars.fd ./opt/kata/share/kata-qemu/qemu/edk2-x86_64-secure-code.fd ./opt/kata/share/kata-qemu/qemu/edk2-arm-vars.fd ./opt/kata/share/bash-completion/ ./opt/kata/share/bash-completion/completions/ ./opt/kata/share/bash-completion/completions/kata-runtime ./opt/kata/share/defaults/ ./opt/kata/share/defaults/kata-containers/ ./opt/kata/share/defaults/kata-containers/configuration-clh.toml ./opt/kata/share/defaults/kata-containers/configuration-dragonball.toml ./opt/kata/share/defaults/kata-containers/configuration.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu-snp.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu-tdx.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu-sev.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu-nvidia-gpu.toml ./opt/kata/share/defaults/kata-containers/configuration-fc.toml ./opt/kata/share/kata-containers/ ./opt/kata/share/kata-containers/vmlinux-6.1.38-114 ./opt/kata/share/kata-containers/vmlinuz-6.1.38-114 ./opt/kata/share/kata-containers/vmlinuz-dragonball-experimental.container ./opt/kata/share/kata-containers/kata-containers.img ./opt/kata/share/kata-containers/kata-containers-initrd.img ./opt/kata/share/kata-containers/vmlinuz-5.10.25-114-dragonball-experimental ./opt/kata/share/kata-containers/config-6.1.38-114 ./opt/kata/share/kata-containers/vmlinuz.container ./opt/kata/share/kata-containers/vmlinux.container ./opt/kata/share/kata-containers/vmlinux-dragonball-experimental.container ./opt/kata/share/kata-containers/vmlinux-5.10.25-114-dragonball-experimental ./opt/kata/share/kata-containers/kata-ubuntu-latest.image ./opt/kata/share/kata-containers/kata-alpine-3.15.initrd ./opt/kata/share/kata-containers/config-5.10.25-114-dragonball-experimental ./opt/kata/runtime-rs/ ./opt/kata/runtime-rs/bin/ ./opt/kata/runtime-rs/bin/containerd-shim-kata-v2 INFO: Kata Containers installed INFO: Using default Kata Containers configuration kata-runtime : 3.2.0 commit : 45687e3251604ccc71b595d37f14253c4584cd5f OCI specs: 1.0.2-dev INFO: Testing Kata Containers sangam@sangam:~$ kata-runtime --version kata-runtime : 3.2.0 commit : 45687e3251604ccc71b595d37f14253c4584cd5f OCI specs: 1.0.2-dev pull and run container using kata shim link sangam@sangam:~$ image=\"docker.io/library/busybox:latest\" sangam@sangam:~$ sudo ctr run --runtime \"io.containerd.kata.v2\" --rm -t \"$image\" test-kata uname -r sangam@sangam:~$ sudo ctr container list CONTAINER IMAGE RUNTIME test-kata docker.io/library/busybox:latest io.containerd.kata.v2 You can manually install CNI plugins link git clone https://github.com/containernetworking/plugins.git pushd plugins sudo apt install golang-go sangam@sangam:~/plugins$ ./build_linux.sh Building plugins bandwidth firewall portmap sbr tuning vrf bridge dummy host-device ipvlan loopback macvlan ptp tap vlan dhcp host-local static sangam@sangam:~/plugins$ sudo mkdir /opt/cni sangam@sangam:~/plugins$ sudo cp -r bin /opt/cni/ sangam@sangam:~/plugins$ popd define net conf link sudo mkdir -p /etc/cni/net.d cat \u003c",
                content: "Kata Containers link $ bash -c \"$(curl -fsSL https://raw.githubusercontent.com/kata-containers/kata-containers/main/utils/kata-manager.sh)\" If your system already has containerd installed, to install Kata Containers and only configure containerd, run:\n$ bash -c \"$(curl -fsSL https://raw.githubusercontent.com/kata-containers/kata-containers/main/utils/kata-manager.sh) -o\" if you have not installed anything use this to get setup everything\n$ bash -c \"$(curl -fsSL https://raw.githubusercontent.com/kata-containers/kata-containers/main/utils/kata-manager.sh) -h\" verify installation link bash -c \"$(curl -fsSL https://raw.githubusercontent.com/kata-containers/kata-containers/main/utils/kata-manager.sh) -o \u003e \" INFO: Checking dependencies INFO: Running pre-checks INFO: Downloading Kata Containers release (latest version) % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed 0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0 100 132M 100 132M 0 0 5000k 0 0:00:27 0:00:27 --:--:-- 4777k INFO: Installing Kata Containers release 3.2.0 from /tmp/tmp.3iqScS54QS/kata-static-3.2.0-arm64.tar.xz [sudo] password for sangam: ./ ./opt/ ./opt/kata/ ./opt/kata/VERSION ./opt/kata/bin/ ./opt/kata/bin/containerd-shim-kata-v2 ./opt/kata/bin/firecracker ./opt/kata/bin/kata-monitor ./opt/kata/bin/jailer ./opt/kata/bin/qemu-system-aarch64 ./opt/kata/bin/kata-collect-data.sh ./opt/kata/bin/kata-runtime ./opt/kata/bin/cloud-hypervisor ./opt/kata/libexec/ ./opt/kata/libexec/nydusd ./opt/kata/libexec/virtiofsd ./opt/kata/versions.yaml ./opt/kata/share/ ./opt/kata/share/kata-qemu/ ./opt/kata/share/kata-qemu/qemu/ ./opt/kata/share/kata-qemu/qemu/edk2-i386-code.fd ./opt/kata/share/kata-qemu/qemu/qboot.rom ./opt/kata/share/kata-qemu/qemu/hppa-firmware.img ./opt/kata/share/kata-qemu/qemu/s390-netboot.img ./opt/kata/share/kata-qemu/qemu/vof-nvram.bin ./opt/kata/share/kata-qemu/qemu/s390-ccw.img ./opt/kata/share/kata-qemu/qemu/bios.bin ./opt/kata/share/kata-qemu/qemu/edk2-arm-code.fd ./opt/kata/share/kata-qemu/qemu/edk2-x86_64-code.fd ./opt/kata/share/kata-qemu/qemu/bios-256k.bin ./opt/kata/share/kata-qemu/qemu/multiboot_dma.bin ./opt/kata/share/kata-qemu/qemu/vof.bin ./opt/kata/share/kata-qemu/qemu/qemu-nsis.bmp ./opt/kata/share/kata-qemu/qemu/bios-microvm.bin ./opt/kata/share/kata-qemu/qemu/linuxboot.bin ./opt/kata/share/kata-qemu/qemu/linuxboot_dma.bin ./opt/kata/share/kata-qemu/qemu/pvh.bin ./opt/kata/share/kata-qemu/qemu/firmware/ ./opt/kata/share/kata-qemu/qemu/firmware/50-edk2-i386-secure.json ./opt/kata/share/kata-qemu/qemu/firmware/60-edk2-i386.json ./opt/kata/share/kata-qemu/qemu/firmware/60-edk2-aarch64.json ./opt/kata/share/kata-qemu/qemu/firmware/60-edk2-arm.json ./opt/kata/share/kata-qemu/qemu/firmware/50-edk2-x86_64-secure.json ./opt/kata/share/kata-qemu/qemu/firmware/60-edk2-x86_64.json ./opt/kata/share/kata-qemu/qemu/kvmvapic.bin ./opt/kata/share/kata-qemu/qemu/efi-virtio.rom ./opt/kata/share/kata-qemu/qemu/edk2-licenses.txt ./opt/kata/share/kata-qemu/qemu/edk2-i386-secure-code.fd ./opt/kata/share/kata-qemu/qemu/edk2-aarch64-code.fd ./opt/kata/share/kata-qemu/qemu/edk2-i386-vars.fd ./opt/kata/share/kata-qemu/qemu/edk2-x86_64-secure-code.fd ./opt/kata/share/kata-qemu/qemu/edk2-arm-vars.fd ./opt/kata/share/bash-completion/ ./opt/kata/share/bash-completion/completions/ ./opt/kata/share/bash-completion/completions/kata-runtime ./opt/kata/share/defaults/ ./opt/kata/share/defaults/kata-containers/ ./opt/kata/share/defaults/kata-containers/configuration-clh.toml ./opt/kata/share/defaults/kata-containers/configuration-dragonball.toml ./opt/kata/share/defaults/kata-containers/configuration.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu-snp.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu-tdx.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu-sev.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu.toml ./opt/kata/share/defaults/kata-containers/configuration-qemu-nvidia-gpu.toml ./opt/kata/share/defaults/kata-containers/configuration-fc.toml ./opt/kata/share/kata-containers/ ./opt/kata/share/kata-containers/vmlinux-6.1.38-114 ./opt/kata/share/kata-containers/vmlinuz-6.1.38-114 ./opt/kata/share/kata-containers/vmlinuz-dragonball-experimental.container ./opt/kata/share/kata-containers/kata-containers.img ./opt/kata/share/kata-containers/kata-containers-initrd.img ./opt/kata/share/kata-containers/vmlinuz-5.10.25-114-dragonball-experimental ./opt/kata/share/kata-containers/config-6.1.38-114 ./opt/kata/share/kata-containers/vmlinuz.container ./opt/kata/share/kata-containers/vmlinux.container ./opt/kata/share/kata-containers/vmlinux-dragonball-experimental.container ./opt/kata/share/kata-containers/vmlinux-5.10.25-114-dragonball-experimental ./opt/kata/share/kata-containers/kata-ubuntu-latest.image ./opt/kata/share/kata-containers/kata-alpine-3.15.initrd ./opt/kata/share/kata-containers/config-5.10.25-114-dragonball-experimental ./opt/kata/runtime-rs/ ./opt/kata/runtime-rs/bin/ ./opt/kata/runtime-rs/bin/containerd-shim-kata-v2 INFO: Kata Containers installed INFO: Using default Kata Containers configuration kata-runtime : 3.2.0 commit : 45687e3251604ccc71b595d37f14253c4584cd5f OCI specs: 1.0.2-dev INFO: Testing Kata Containers sangam@sangam:~$ kata-runtime --version kata-runtime : 3.2.0 commit : 45687e3251604ccc71b595d37f14253c4584cd5f OCI specs: 1.0.2-dev pull and run container using kata shim link sangam@sangam:~$ image=\"docker.io/library/busybox:latest\" sangam@sangam:~$ sudo ctr run --runtime \"io.containerd.kata.v2\" --rm -t \"$image\" test-kata uname -r sangam@sangam:~$ sudo ctr container list CONTAINER IMAGE RUNTIME test-kata docker.io/library/busybox:latest io.containerd.kata.v2 You can manually install CNI plugins link git clone https://github.com/containernetworking/plugins.git pushd plugins sudo apt install golang-go sangam@sangam:~/plugins$ ./build_linux.sh Building plugins bandwidth firewall portmap sbr tuning vrf bridge dummy host-device ipvlan loopback macvlan ptp tap vlan dhcp host-local static sangam@sangam:~/plugins$ sudo mkdir /opt/cni sangam@sangam:~/plugins$ sudo cp -r bin /opt/cni/ sangam@sangam:~/plugins$ popd define net conf link sudo mkdir -p /etc/cni/net.d cat \u003c"
            }
        );
    index.add(
            {
                id:  20 ,
                href: "\/docs\/helm\/advance-if-statement\/",
                title: "Advance Temaplate with if statement",
                description: "update your deployment file link apiVersion: apps/v1 kind: Deployment metadata: name: {{ .Values.deployment.name }} labels: {{- include \"labels\" . | nindent 4 }} spec: replicas: {{ .Values.deployment.replicaCount }} selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- if eq .Values.container1.enabled true }} {{- include \"container1\" . | nindent 8 }} {{- end }} create new template file link {{- define \"container1\" }} - name: new-container image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- end }} update value file link # Default values for application-1. # This is a YAML-formatted file. # Declare variables to be passed into your templates. deployment: replicaCount: 1 name: my-deployememt image: app: ngnix version: latest service: name: my-service type: NodePort port: 80 targetPort: 80 nodePort: 32036 selector: app: ngnix container1: enabled: true validate template link (base) ➜ application-1 git:(main) ✗ helm template . --- # Source: application-1/templates/service.yaml apiVersion: v1 kind: Service metadata: name: my-service labels: app: ngnix spec: type: NodePort ports: - port: 80 targetPort: 80 nodeport: 32036 protocol: TCP name: http selector: app: ngnix --- # Source: application-1/templates/deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: my-deployememt labels: app: ngnix version: \"1.0\" team: myteam spec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"ngnix:latest\" ports: - name: http containerPort: 80 protocol: TCP - name: new-container image: \"ngnix:latest\" ports: - name: http containerPort: 80 protocol: TCP (base) ?➜ application-1 git:(main) ?✗ ",
                content: "update your deployment file link apiVersion: apps/v1 kind: Deployment metadata: name: {{ .Values.deployment.name }} labels: {{- include \"labels\" . | nindent 4 }} spec: replicas: {{ .Values.deployment.replicaCount }} selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- if eq .Values.container1.enabled true }} {{- include \"container1\" . | nindent 8 }} {{- end }} create new template file link {{- define \"container1\" }} - name: new-container image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- end }} update value file link # Default values for application-1. # This is a YAML-formatted file. # Declare variables to be passed into your templates. deployment: replicaCount: 1 name: my-deployememt image: app: ngnix version: latest service: name: my-service type: NodePort port: 80 targetPort: 80 nodePort: 32036 selector: app: ngnix container1: enabled: true validate template link (base) ➜ application-1 git:(main) ✗ helm template . --- # Source: application-1/templates/service.yaml apiVersion: v1 kind: Service metadata: name: my-service labels: app: ngnix spec: type: NodePort ports: - port: 80 targetPort: 80 nodeport: 32036 protocol: TCP name: http selector: app: ngnix --- # Source: application-1/templates/deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: my-deployememt labels: app: ngnix version: \"1.0\" team: myteam spec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"ngnix:latest\" ports: - name: http containerPort: 80 protocol: TCP - name: new-container image: \"ngnix:latest\" ports: - name: http containerPort: 80 protocol: TCP (base) ?➜ application-1 git:(main) ?✗ "
            }
        );
    index.add(
            {
                id:  21 ,
                href: "\/docs\/containersecurity\/docker-networking\/",
                title: "Docker Networking ",
                description: " Docker Networking ",
                content: "Docker Networking linkThe Container Netwotk Model (CNM) is the design document for Docker Networking which is implemented via ’libnetwork’ in golang\nSandbox - isolated network stavk Endpount - Virtual Ethernet Interfece Network - Virtual Switch (bridge) Note - Libnetwork -\u003e implemenrs the control and management plane functions\nNetwork Specific Drivers -\u003e implemenrs the data plane while also handling the connectivity and isolation\nDocker Native Network Drivers link Bridge - uses a software bridge whicha allows containers connected to the same bridge network to communicate\nHost - Connects the docker host and containers to use hosts networking directly\nOverlay - used for multi-host networking which allows a single network to span multiple hosts such that containers on diffenet hosts can communicate at layer 2\nMacvlan - Useful for lagacy and monitor apps which expect to directly conneted to physical network as it assigns completely the networkinh stack on container . No IP will be configuared with this driver\nDocker Networking ( Hands-on ) link $ docker network --help check what networks are already present in the docker by default $ dokcer run -itd --name netcon ubuntu /bin/bash check for the network placement of this container in the above networks. We see that by default all containers got attached to bridge network using network inspect command this could be done\n$ docker network inspect bridge In the Container option abobe the information about container name , IPv4 etc present\nRun another container net2con from busybox image and check its network placement same as above\ndocker run -itd --name net2con busybox /bin/bash lets us now run nginx container as net3con-web with exposed port\ndocker run -itd --name net3con-web -p 5000:80 nginx to check for the port correctly setup and exposed , one can use port command followed by container name .\ndocker port net3con-web to visualize only the relavant information which is the Containers block from inspect command output use -f option to format the JSON and parse it via jq ulaitity\ndocker network inspect bridege -f \"{{json.Containers}}\" | jq one can also oberserve the associated bridge.id to docker0 default bridge with all the containers attached via vethxxxxxx virtual ethernet interfces\n$brctl show concusion linkCgroups and Namespaces provides essential isolation and limits the container resources. This is highly valuable for the Docker host system in case of DoS Attacks wherein if resources are set minimally, less harm will be there. For resource isolation, feel free to look over to the Linux ‘cgcreate’, ‘cgdelete’, ‘cgset’ and related parameters like ‘cpuset’, ‘cpuacct’, etc. Running containers and walking around the namespaces, cgroups, container networking\n"
            }
        );
    index.add(
            {
                id:  22 ,
                href: "\/docs\/kubernetes\/kubeadm-upgrade\/",
                title: "kubeadm upgrade \u0026 downgrade ",
                description: " Perform Version Upgrades on a Kubernetes Cluster using kubeadm",
                content: "Perform Version Upgrades on a Kubernetes Cluster using kubeadm\nUpgrading a Kubernetes cluster involves updating its core components, which include the Kubernetes API Server, Scheduler, Controller Manager, etcd, and Kubelets. Kubeadm simplifies this process by managing the container versions of these control plane components. Additional tasks such as renewing certificates and updating kubelet configurations are also handled by Kubeadm, utilizing the kubeadm upgrade commands.\nWhen planning an upgrade, you must first decide on the target version. Updates to major APIs typically accompany minor version releases (e.g., from 1.25 to 1.26), while patch releases (e.g., 1.26.0 to 1.26.1) focus on fixes and security enhancements. It’s important to note that Kubeadm supports upgrading only one minor version at a time. For instance, to upgrade from version 1.24 to 1.26, you must first upgrade to 1.25 and then proceed to 1.26. The version of the kubeadm tool itself dictates the highest Kubernetes version to which you can upgrade (e.g., kubeadm 1.25.0 cannot upgrade a cluster to Kubernetes 1.26.0).\nThe upgrade process of the control-plane node involves several key steps:\nObtain the latest Kubernetes binaries. Install the newer kubeadm version. Use kubeadm upgrade plan to review and acquire the latest versions of the control plane components. Execute the upgrade. Update the kubelet and kubectl installations on the node. During the upgrade, it may be necessary to drain the node of reschedulable workloads using kubectl drain, ensuring to uncordon the node afterward with kubectl uncordon to allow workloads to return.\nHere’s how to upgrade a Kubernetes control plane node from v1.25.0 to v1.26.0 on Ubuntu 20.04:\nBegin by updating the apt repository. $ sudo apt update sudo apt install kubeadm=1.26.0-00 check upgrade plan link sudo kubeadm upgrade plan … Components that must be upgraded manually after you have upgraded the control plane with 'kubeadm upgrade apply': COMPONENT CURRENT AVAILABLE kubelet 1 x v1.25.0 v1.26.0 Upgrade to the latest stable version: COMPONENT CURRENT AVAILABLE kube-apiserver v1.25.0 v1.26.0 kube-controller-manager v1.25.0 v1.26.0 kube-scheduler v1.25.0 v1.26.0 kube-proxy v1.25.0 v1.26.0 CoreDNS 1.6.7 1.7.0 etcd 3.5.3-0 3.5.5-1 You can now apply the upgrade by executing the following command: kubeadm upgrade apply v1.26.0 Note: Before you can perform this upgrade, you have to update kubeadm to v1.26.0. _____________________________________________________________________ The table below shows the current state of component configs as understood by this version of kubeadm. Configs that have a \"yes\" mark in the \"MANUAL UPGRADE REQUIRED\" column require manual config upgrade or resetting to kubeadm defaults before a successful upgrade can be performed. The version to manually upgrade to is denoted in the \"PREFERRED VERSION\" column. API GROUP CURRENT VERSION PREFERRED VERSION MANUAL UPGRADE REQUIRED kubeproxy.config.k8s.io v1alpha1 v1alpha1 no kubelet.config.k8s.io v1beta1 v1beta1 no _____________________________________________________________________ use upgrade command link sudo kubeadm upgrade apply v1.26.0 … [upgrade/successful] SUCCESS! Your cluster was upgraded to \"v1.26.0\". Enjoy! [upgrade/kubelet] Now that your control plane is upgraded, please proceed with upgrading your kubelets if you haven't already done so. update to desire version link sudo apt install kubelet=1.26.0-00 kubectl=1.26.0-00 … Setting up kubelet (1.26.0-00) ... Setting up kubectl (1.26.0-00) ... "
            }
        );
    index.add(
            {
                id:  23 ,
                href: "\/docs\/docker\/pushing-to-dockerhub\/",
                title: "Pushing to DockerHub",
                description: "Pull nginx image from dockerhub using link dockerworkshop git:(main) ✗ docker pull nginx Using default tag: latest latest: Pulling from library/nginx Digest: sha256:6650513efd1d27c1f8a5351cbd33edf85cc7e0d9d0fcb4ffb23d8fa89b601ba8 Status: Image is up to date for nginx:latest docker.io/library/nginx:latest Run Docker with ngnix link dockerworkshop git:(main) ✗ docker run --name docker-nginx -p 80:80 -d nginx 63258aebdc2d8ea40a0099efb3e51f8b15db2fe2dc048da3901843b4782d19fb –name docker-nginx : Name given to the container that is run is docker-nginx-p 80:80 : the port we are exposing and mapping from local machine port number to that of container, in the format local_machine_port:container_port-d : Detached mode – Runs the container in background\n",
                content: "Pull nginx image from dockerhub using link dockerworkshop git:(main) ✗ docker pull nginx Using default tag: latest latest: Pulling from library/nginx Digest: sha256:6650513efd1d27c1f8a5351cbd33edf85cc7e0d9d0fcb4ffb23d8fa89b601ba8 Status: Image is up to date for nginx:latest docker.io/library/nginx:latest Run Docker with ngnix link dockerworkshop git:(main) ✗ docker run --name docker-nginx -p 80:80 -d nginx 63258aebdc2d8ea40a0099efb3e51f8b15db2fe2dc048da3901843b4782d19fb –name docker-nginx : Name given to the container that is run is docker-nginx-p 80:80 : the port we are exposing and mapping from local machine port number to that of container, in the format local_machine_port:container_port-d : Detached mode – Runs the container in background\ncheck all running docker containers link ➜ dockerworkshop git:(main) ✗ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 63258aebdc2d nginx \"/docker-entrypoint.…\" 55 seconds ago Up 55 seconds 0.0.0.0:80-\u003e80/tcp docker-nginx open localhost with specific port link Include a static Web Application in the Docker with NGINX linkTo include our static Web Application into the Docker Image with NGINX, we shall create a Dockerfile (including commands to build image) and an html file with name index.html (acting as our web application) in a directory named nginx-app.\ncreate dockerfile with following content :\nFROM nginx COPY . /usr/share/nginx/html create index.html file with following content link Docker NGINX Tutorial Join CloudNativeFolks Community Learn to Dockerize with NGINX and your web application.\nJoin Discord NGINX Tutorial Build Dockerfile link Dockerfile git:(main) ✗ docker build -t nginx-application -f dockerfile.ngnix . [+] Building 0.1s (7/7) FINISHED =\u003e [internal] load build definition from dockerfile.ngnix 0.0s =\u003e =\u003e transferring dockerfile: 87B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/nginx:latest 0.0s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 82B 0.0s =\u003e [1/2] FROM docker.io/library/nginx 0.0s =\u003e [2/2] COPY . /usr/share/nginx/html 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:54027a144afd33ddd1449b757581c7b554d5411c4b2bac291f5dfbccb85fda41 0.0s =\u003e =\u003e naming to docker.io/library/nginx-application 0.0s ➜ Dockerfile git:(main) ✗ run updated ngnix webapp link docker run --name docker-nginx-app -p 80:80 -d nginx-application List docker images link Dockerfile git:(main) ✗ docker images REPOSITORY TAG IMAGE ID CREATED SIZE nginx-application latest e8742ef897ea 2 minutes ago 135MB Tag Docker Images link docker tag nginx-application sangam14/nginx-application Login into Your DockerHub Account link docker login docker push sangam14/nginx-application Using default tag: latest The push refers to repository [docker.io/sangam14/nginx-application] 4e9e8987d0ed: Pushed 7a99131e1da4: Mounted from library/nginx c61a83b92ad9: Mounted from library/nginx 0d96feb871c8: Mounted from library/nginx 902b28ccafe7: Mounted from library/nginx 3063fc92629d: Mounted from library/nginx a49c6ceb5b3a: Mounted from library/nginx latest: digest: sha256:09f29db6e4179bd1019a48d2d50944989347fdf145193f4165353d5148a902c8 size: 1777 "
            }
        );
    index.add(
            {
                id:  24 ,
                href: "\/docs\/containerd\/firecracker\/",
                title: " firecracker ",
                description: "get docker installed https://get.docker.com\nbuild firecracker linkgit clone https://github.com/firecracker-microvm/firecracker cd firecracker tools/devtool build toolchain=\"$(uname -m)-unknown-linux-musl\"\n",
                content: "get docker installed https://get.docker.com\nbuild firecracker linkgit clone https://github.com/firecracker-microvm/firecracker cd firecracker tools/devtool build toolchain=\"$(uname -m)-unknown-linux-musl\"\nyou get output like thjis thats binary\n[Firecracker release.sh 2024-02-11T13:42:36+00:00] Binaries placed under build/cargo_target/aarch64-unknown-linux-musl/debug sangam@sangam:~/firecracker$ toolchain=\"$(uname -m)-unknown-linux-musl\"\nTODO\n"
            }
        );
    index.add(
            {
                id:  25 ,
                href: "\/docs\/containersecurity\/auditing-docker-security\/",
                title: "Auditing Docker Security ",
                description: "Auditing Docker Security linkDOCKER BENCH FOR SECURITY\nDocker Bench for Security is an open source Bash script that checks for various common security best practices of deploying Docker in production environments. The tests are all automated and are based on the CIS Docker Benchmark. More information about Docker Bench for Security can be found on GitHub: https://github.com/docker/docker-bench-security\n",
                content: "Auditing Docker Security linkDOCKER BENCH FOR SECURITY\nDocker Bench for Security is an open source Bash script that checks for various common security best practices of deploying Docker in production environments. The tests are all automated and are based on the CIS Docker Benchmark. More information about Docker Bench for Security can be found on GitHub: https://github.com/docker/docker-bench-security\nauditing docker security with docker bench for security linkThe auditing process can be performed by following the procedures outlined below:\nYou first need to clone the docker/docker-bench-security GitHub repository on your Docker host. This can be done by running the following command:\ngit clone https://github.com/docker/docker-bench-security.git After cloning the repository, you will need to navigate into the docker-bench-security repository that you just cloned:\ncd docker-bench-security The cloned directory will contain a Bash script named docker-bench-security.sh. We can run this script to perform the Docker security audit by running the following command:\nsudo ./docker-bench-security.sh When the script is executed, it will perform all the necessary security checks. Once completed, it will provide you with a baseline security score as highlighted\nSection C - Score [INFO] Checks: 117 [INFO] Score: -5 Docker Bench for Security Options link b optional Do not print colors -h optional Print this help message -l FILE optional Log output in FILE, inside container if run using docker -u USERS optional Comma delimited list of trusted docker user(s) -c CHECK optional Comma delimited list of specific check(s) id -e CHECK optional Comma delimited list of specific check(s) id to exclude -i INCLUDE optional Comma delimited list of patterns within a container or image name to check -x EXCLUDE optional Comma delimited list of patterns within a container or image name to exclude from check -n LIMIT optional In JSON output, when reporting lists of items (containers, images, etc.), limit the number of reported items to LIMIT. Default 0 (no limit). -p PRINT optional Disable the printing of remediation measures. Default: print remediation measures. Running Docker Bench for poticular docker images link sudo ./docker-bench-security.sh -i hello-world Password: # -------------------------------------------------------------------------------------------- # Docker Bench for Security v1.3.6 # # Docker, Inc. (c) 2015-2023 # # Checks for dozens of common best-practices around deploying Docker containers in production. # Based on the CIS Docker Benchmark 1.4.0. # -------------------------------------------------------------------------------------------- Initializing 2023-01-04T19:09:21:z Section A - Check results [INFO] 1 - Host Configuration [INFO] 1.1 - Linux Hosts Specific Configuration [WARN] 1.1.1 - Ensure a separate partition for containers has been created (Automated) [INFO] 1.1.2 - Ensure only trusted users are allowed to control Docker daemon (Automated) [INFO] * Users: [WARN] 1.1.3 - Ensure auditing is configured for the Docker daemon (Automated) [WARN] 1.1.4 - Ensure auditing is configured for Docker files and directories -/run/containerd (Automated) [INFO] 1.1.5 - Ensure auditing is configured for Docker files and directories - /var/lib/docker (Automated) [INFO] * Directory not found [INFO] 1.1.6 - Ensure auditing is configured for Docker files and directories - /etc/docker (Automated) [INFO] * Directory not found [INFO] 1.1.7 - Ensure auditing is configured for Docker files and directories - docker.service (Automated) [INFO] * File not found [INFO] 1.1.8 - Ensure auditing is configured for Docker files and directories - containerd.sock (Automated) [INFO] * File not found [INFO] 1.1.9 - Ensure auditing is configured for Docker files and directories - docker.socket (Automated) [INFO] * File not found [INFO] 1.1.10 - Ensure auditing is configured for Docker files and directories - /etc/default/docker (Automated) [INFO] * File not found [INFO] 1.1.11 - Ensure auditing is configured for Dockerfiles and directories - /etc/docker/daemon.json (Automated) [INFO] * File not found [INFO] 1.1.12 - 1.1.12 Ensure auditing is configured for Dockerfiles and directories - /etc/containerd/config.toml (Automated) [INFO] * File not found [INFO] 1.1.13 - Ensure auditing is configured for Docker files and directories - /etc/sysconfig/docker (Automated) [INFO] * File not found [INFO] 1.1.14 - Ensure auditing is configured for Docker files and directories - /usr/bin/containerd (Automated) [INFO] * File not found [INFO] 1.1.15 - Ensure auditing is configured for Docker files and directories - /usr/bin/containerd-shim (Automated) [INFO] * File not found [INFO] 1.1.16 - Ensure auditing is configured for Docker files and directories - /usr/bin/containerd-shim-runc-v1 (Automated) [INFO] * File not found [INFO] 1.1.17 - Ensure auditing is configured for Docker files and directories - /usr/bin/containerd-shim-runc-v2 (Automated) [INFO] * File not found [INFO] 1.1.18 - Ensure auditing is configured for Docker files and directories - /usr/bin/runc (Automated) [INFO] * File not found [INFO] 1.2 - General Configuration [NOTE] 1.2.1 - Ensure the container host has been Hardened (Manual) date: illegal time format usage: date [-jnRu] [-r seconds|file] [-v[+|-]val[ymwdHMS]] [-I[date | hours | minutes | seconds]] [-f fmt date | [[[mm]dd]HH]MM[[cc]yy][.ss]] [+format] ./functions/helper_lib.sh: line 36: [: : integer expression expected ./functions/helper_lib.sh: line 37: [: : integer expression expected [PASS] 1.2.2 - Ensure that the version of Docker is up to date (Manual) [INFO] * Using 20.10.21 which is current [INFO] * Check with your operating system vendor for support and security maintenance for Docker [INFO] 2 - Docker daemon configuration [NOTE] 2.1 - Run the Docker daemon as a non-root user, if possible (Manual) [WARN] 2.2 - Ensure network traffic is restricted between containers on the default bridge (Scored) [PASS] 2.3 - Ensure the logging level is set to 'info' (Scored) [PASS] 2.4 - Ensure Docker is allowed to make changes to iptables (Scored) [PASS] 2.5 - Ensure insecure registries are not used (Scored) [PASS] 2.6 - Ensure aufs storage driver is not used (Scored) [INFO] 2.7 - Ensure TLS authentication for Docker daemon is configured (Scored) [INFO] * Docker daemon not listening on TCP [INFO] 2.8 - Ensure the default ulimit is configured appropriately (Manual) [INFO] * Default ulimit doesn't appear to be set [WARN] 2.9 - Enable user namespace support (Scored) [PASS] 2.10 - Ensure the default cgroup usage has been confirmed (Scored) [PASS] 2.11 - Ensure base device size is not changed until needed (Scored) [WARN] 2.12 - Ensure that authorization for Docker client commands is enabled (Scored) [WARN] 2.13 - Ensure centralized and remote logging is configured (Scored) [WARN] 2.14 - Ensure containers are restricted from acquiring new privileges (Scored) [WARN] 2.15 - Ensure live restore is enabled (Scored) [WARN] 2.16 - Ensure Userland Proxy is Disabled (Scored) [PASS] 2.17 - Ensure that a daemon-wide custom seccomp profile is applied if appropriate (Manual) [INFO] Ensure that experimental features are not implemented in production (Scored) (Deprecated) [INFO] 3 - Docker daemon configuration files [INFO] 3.1 - Ensure that the docker.service file ownership is set to root:root (Automated) [INFO] * File not found [INFO] 3.2 - Ensure that docker.service file permissions are appropriately set (Automated) [INFO] * File not found [INFO] 3.3 - Ensure that docker.socket file ownership is set to root:root (Automated) [INFO] * File not found [INFO] 3.4 - Ensure that docker.socket file permissions are set to 644 or more restrictive (Automated) [INFO] * File not found [INFO] 3.5 - Ensure that the /etc/docker directory ownership is set to root:root (Automated) [INFO] * Directory not found [INFO] 3.6 - Ensure that /etc/docker directory permissions are set to 755 or more restrictively (Automated) [INFO] * Directory not found [INFO] 3.7 - Ensure that registry certificate file ownership is set to root:root (Automated) [INFO] * Directory not found [INFO] 3.8 - Ensure that registry certificate file permissions are set to 444 or more restrictively (Automated) [INFO] * Directory not found [INFO] 3.9 - Ensure that TLS CA certificate file ownership is set to root:root (Automated) [INFO] * No TLS CA certificate found [INFO] 3.10 - Ensure that TLS CA certificate file permissions are set to 444 or more restrictively (Automated) [INFO] * No TLS CA certificate found [INFO] 3.11 - Ensure that Docker server certificate file ownership is set to root:root (Automated) [INFO] * No TLS Server certificate found [INFO] 3.12 - Ensure that the Docker server certificate file permissions are set to 444 or more restrictively (Automated) [INFO] * No TLS Server certificate found [INFO] 3.13 - Ensure that the Docker server certificate key file ownership is set to root:root (Automated) [INFO] * No TLS Key found [INFO] 3.14 - Ensure that the Docker server certificate key file permissions are set to 400 (Automated) [INFO] * No TLS Key found stat: illegal option -- c usage: stat [-FLnq] [-f format | -l | -r | -s | -x] [-t timefmt] [file ...] [WARN] 3.15 - Ensure that the Docker socket file ownership is set to root:docker (Automated) [WARN] * Wrong ownership for /var/run/docker.sock stat: illegal option -- c usage: stat [-FLnq] [-f format | -l | -r | -s | -x] [-t timefmt] [file ...] ./tests/3_docker_daemon_configuration_files.sh: line 429: [: : integer expression expected [WARN] 3.16 - Ensure that the Docker socket file permissions are set to 660 or more restrictively (Automated) [WARN] * Wrong permissions for /var/run/docker.sock [INFO] 3.17 - Ensure that the daemon.json file ownership is set to root:root (Automated) [INFO] * File not found [INFO] 3.18 - Ensure that daemon.json file permissions are set to 644 or more restrictive (Automated) [INFO] * File not found [INFO] 3.19 - Ensure that the /etc/default/docker file ownership is set to root:root (Automated) [INFO] * File not found [INFO] 3.20 - Ensure that the /etc/sysconfig/docker file permissions are set to 644 or more restrictively (Automated) [INFO] * File not found [INFO] 3.21 - Ensure that the /etc/sysconfig/docker file ownership is set to root:root (Automated) [INFO] * File not found [INFO] 3.22 - Ensure that the /etc/default/docker file permissions are set to 644 or more restrictively (Automated) [INFO] * File not found [INFO] 3.23 - Ensure that the Containerd socket file ownership is set to root:root (Automated) [INFO] * File not found [INFO] 3.24 - Ensure that the Containerd socket file permissions are set to 660 or more restrictively (Automated) [INFO] * File not found [INFO] 4 - Container Images and Build File [INFO] 4.1 - Ensure that a user for the container has been created (Automated) [INFO] * No containers running [NOTE] 4.2 - Ensure that containers use only trusted base images (Manual) [NOTE] 4.3 - Ensure that unnecessary packages are not installed in the container (Manual) [NOTE] 4.4 - Ensure images are scanned and rebuilt to include security patches (Manual) [WARN] 4.5 - Ensure Content trust for Docker is Enabled (Automated) [PASS] 4.6 - Ensure that HEALTHCHECK instructions have been added to container images (Automated) [PASS] 4.7 - Ensure update instructions are not used alone in the Dockerfile (Manual) [NOTE] 4.8 - Ensure setuid and setgid permissions are removed (Manual) [PASS] 4.9 - Ensure that COPY is used instead of ADD in Dockerfiles (Manual) [NOTE] 4.10 - Ensure secrets are not stored in Dockerfiles (Manual) [NOTE] 4.11 - Ensure only verified packages are installed (Manual) [NOTE] 4.12 - Ensure all signed artifacts are validated (Manual) [INFO] 5 - Container Runtime [INFO] * No containers running, skipping Section 5 [INFO] 6 - Docker Security Operations [INFO] 6.1 - Ensure that image sprawl is avoided (Manual) [INFO] * There are currently: 13 images [INFO] * Only 0 out of 13 are in use [INFO] 6.2 - Ensure that container sprawl is avoided (Manual) [INFO] * There are currently a total of 40 containers, with 18 of them currently running [INFO] 7 - Docker Swarm Configuration [PASS] 7.1 - Ensure swarm mode is not Enabled, if not needed (Automated) [PASS] 7.2 - Ensure that the minimum number of manager nodes have been created in a swarm (Automated) (Swarm mode not enabled) [PASS] 7.3 - Ensure that swarm services are bound to a specific host interface (Automated) (Swarm mode not enabled) [PASS] 7.4 - Ensure that all Docker swarm overlay networks are encrypted (Automated) [PASS] 7.5 - Ensure that Docker's secret management commands are used for managing secrets in a swarm cluster (Manual) (Swarm mode not enabled) [PASS] 7.6 - Ensure that swarm manager is run in auto-lock mode (Automated) (Swarm mode not enabled) [PASS] 7.7 - Ensure that the swarm manager auto-lock key is rotated periodically (Manual) (Swarm mode not enabled) [PASS] 7.8 - Ensure that node certificates are rotated as appropriate (Manual) (Swarm mode not enabled) [PASS] 7.9 - Ensure that CA certificates are rotated as appropriate (Manual) (Swarm mode not enabled) [PASS] 7.10 - Ensure that management plane traffic is separated from data plane traffic (Manual) (Swarm mode not enabled) Section C - Score [INFO] Checks: 86 [INFO] Score: -1 Run the Docker daemon as a non-root user, if possible (Manual) linkThe Docker containers by default run with the root privilege and so does the application that runs inside the container. This is another major concern from the security perspective because hackers can gain root access to the Docker host by hacking the application running inside the container.\nAdd user to Docker group\n$ sudo groupadd docker add your user to the docker group:\nsudo usermod -aG docker [non-root user] Using Dockerfile (USER instruction)\ndit the Dockerfile that creates a non-root privilege user and modify the default root user to the newly-created non-root privilege user, as shown here:\n########################################## # Dockerfile to change from root to # non-root privilege ########################################### # Base image is CentOS 7 FROM Centos:7 # Add a new user \"sangam\" with user id 8877 RUN useradd -u 8877 sangam # Change to non-root privilege USER sangam Proceed to build the Docker image using the “docker build” subcommand, as depicted here:\nsudo docker build -t nonrootimage . Finally, let’s verify the current user of our container using the id command in a docker run subcommand:\nsudo docker run --rm nonrootimage id Ensure network traffic is restricted between containers on the default bridge link sudo docker network ls Password: NETWORK ID NAME DRIVER SCOPE beb64c03a4cf bridge bridge local 1d337b15d114 host host local 88ea4badd709 meshery_docker-extension-meshery-desktop-extension_default bridge local 3be4c0abf1a8 minikube bridge local 47444c7b3650 multinode-pod-security bridge local ed5ab538e49a none null local sudo docker network inspect bridge Password: [ { \"Name\": \"bridge\", \"Id\": \"beb64c03a4cf6c3385fd311edf8a3ff76670f62045068bad43ad4fcfe40f5c72\", \"Created\": \"2023-01-04T11:46:52.643189959Z\", \"Scope\": \"local\", \"Driver\": \"bridge\", \"EnableIPv6\": false, \"IPAM\": { \"Driver\": \"default\", \"Options\": null, \"Config\": [ { \"Subnet\": \"172.17.0.0/16\", \"Gateway\": \"172.17.0.1\" } ] }, \"Internal\": false, \"Attachable\": false, \"Ingress\": false, \"ConfigFrom\": { \"Network\": \"\" }, \"ConfigOnly\": false, \"Containers\": {}, \"Options\": { \"com.docker.network.bridge.default_bridge\": \"true\", \"com.docker.network.bridge.enable_icc\": \"true\", \"com.docker.network.bridge.enable_ip_masquerade\": \"true\", \"com.docker.network.bridge.host_binding_ipv4\": \"0.0.0.0\", \"com.docker.network.bridge.name\": \"docker0\", \"com.docker.network.driver.mtu\": \"1500\" }, \"Labels\": {} } ] If not required, you should restrict the network traffic between containers.\nBy default, unrestricted network traffic is enabled amongst all containers on the same host in the default network bridge. However, a bad actor positioned in a compromised container could leverage this functionality to abuse other services exposed by other containers within the container network on the same host.\nTo disable the inter-container communication, configure the daemon with the icc flag set to false. Note that this configuration can be overridden by containers that are run with the deprecated –link option.\n$ docker network ls -q | xargs docker network inspect -f '{{ .Name }}: {{ .Options }}' The com.docker.network.bridge.enable_icc should be set to false for the default network bridge.\nYou should also consider using user-defined bridge networks to enforce network isolation among containers as a more flexible solution.\nProtect the UNIX socket from unintended access linkThe non-networked /var/run/docker.sock UNIX socket is used by default to locally access the Docker Engine API. The safe default settings on Linux include a socket file owned by the “root” user and a “docker” group allowing solely “root” read and write file permission (ug+rw).\nRun this command to review the correctness of the Docker UNIX socket permissions.\n$ ls -l /var/run/docker.sock lrwxr-xr-x 1 root daemon 44 4 Jan 17:16 /var/run/docker.sock -\u003e /Users/sangambiradar/.docker/run/docker.sock Use secure registries to pull and push images linknsecure registries do not use TLS, nor do they have an invalid TLS certificate. Such registries should not be used as they are prone to man-in-the-middle (MITM) attacks by malicious actors who are able to modify the network traffic.\nRun the below command to list the insecure registries used by the Docker daemon.\ndocker info --format '{{.RegistryConfig.InsecureRegistryCIDRs}}' Enable user namespace support link ps aux | grep dockerd sangambiradar 34266 0.0 0.0 408626880 1280 s000 S+ 7:22PM 0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn --exclude-dir=.idea --exclude-dir=.tox dockerd docker container run -it --rm alpine /bin/sh Unable to find image 'alpine:latest' locally latest: Pulling from library/alpine 261da4162673: Pull complete Digest: sha256:8914eb54f968791faf6a8638949e480fef81e697984fba772b3976835194c6d4 Status: Downloaded newer image for alpine:latest / # whoami root To follow the principle of least privilege, containerized applications should not be run as root. To achieve this, then the –user parameter can be used to specify a user other than root for the container. It accepts as value a username (if it was previously created in the Dockerfile) or a UID, optionally a GID as well.\nEnable Content Trust linkEnsure Content trust for Docker is Enabled. Content trust is a system for signing Docker images and verifying their signatures before running them. We can enable content trust with the DOCKER_CONTENT_TRUST environment variable.\nTo set this variable for your current shell session, type the following into the shell:\nexport DOCKER_CONTENT_TRUST=1 Running the audit after this export command should show that Content trust has been enabled and clear this warning. To enable it automatically for all users and all sessions, add the DOCKER_CONTENT_TRUST variable to the /etc/environment file, which is a file for assigning system-wide environment variables:\necho \"DOCKER_CONTENT_TRUST=1\" | sudo tee -a /etc/environment Ensure auditing is configured for various Docker files link sudo apt-get install auditd sudo nano /etc/audit/audit.rules ubuntu@enormous-longspur:~$ sudo cat /etc/audit/audit.rules ## This file is automatically generated from /etc/audit/rules.d -D -b 8192 -f 1 --backlog_wait_time 60000 -w /usr/bin/docker -p wa -w /var/lib/docker -p wa -w /etc/docker -p wa -w /lib/systemd/system/docker.service -p wa -w /lib/systemd/system/docker.socket -p wa -w /etc/default/docker -p wa -w /etc/docker/daemon.json -p wa -w /usr/bin/docker-containerd -p wa -w /usr/bin/docker-runc -p wa Restart auditd for the changes to take effect:\nsudo systemctl restart auditd Correcting Docker Daemon Configuration Warnings link sudo nano /etc/docker/daemon.json ubuntu@docker:~/docker-bench-security$ cat nano /etc/docker/daemon.json cat: nano: No such file or directory { \"icc\": false, \"userns-remap\": \"default\", \"log-driver\": \"syslog\", \"disable-legacy-registry\": true, \"live-restore\": true, \"userland-proxy\": false, \"no-new-privileges\": true } ubuntu@docker:~/docker-bench-security$ sudo systemctl restart docker Enable Content Trust linkContent trust is a system for signing Docker images and verifying their signatures before running them. We can enable content trust with the DOCKER_CONTENT_TRUST environment variable.\nexport DOCKER_CONTENT_TRUST=1 Running the audit after this export command should show that Content trust has been enabled and clear this warning. To enable it automatically for all users and all sessions, add the DOCKER_CONTENT_TRUST variable to the /etc/environment file, which is a file for assigning system-wide environment variables:\necho \"DOCKER_CONTENT_TRUST=1\" | sudo tee -a /etc/environment "
            }
        );
    index.add(
            {
                id:  26 ,
                href: "\/docs\/docker\/building-a-base-image\/",
                title: "Building a Base Image",
                description: "write simple c program link #include int main() { printf(\"dockerworkshop\"); } Compile C program link gcc -o hello hello.c ✗ ./hello dockerworkshop% create dockerfile with following content : link FROM scratch ADD hello / CMD [\"/hello\"] Build Dockerfile without any base image link Dockerfile git:(main) ✗ docker build -t sangam14/hello-scratch -f dockerfile.hello . [+] Building 0.1s (5/5) FINISHED =\u003e [internal] load build definition from dockerfile.hello 0.0s =\u003e =\u003e transferring dockerfile: 87B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 33.47kB 0.0s =\u003e [1/1] ADD hello / 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:769934a6858c0910a3682e966da6c8d9c15b0324307b092eb77258a9a08879ce 0.0s =\u003e =\u003e naming to docker.io/sangam14/hello-scratch run docker image link docker run sangam14/hello-scratch dockerworkshop ",
                content: "write simple c program link #include int main() { printf(\"dockerworkshop\"); } Compile C program link gcc -o hello hello.c ✗ ./hello dockerworkshop% create dockerfile with following content : link FROM scratch ADD hello / CMD [\"/hello\"] Build Dockerfile without any base image link Dockerfile git:(main) ✗ docker build -t sangam14/hello-scratch -f dockerfile.hello . [+] Building 0.1s (5/5) FINISHED =\u003e [internal] load build definition from dockerfile.hello 0.0s =\u003e =\u003e transferring dockerfile: 87B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 33.47kB 0.0s =\u003e [1/1] ADD hello / 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:769934a6858c0910a3682e966da6c8d9c15b0324307b092eb77258a9a08879ce 0.0s =\u003e =\u003e naming to docker.io/sangam14/hello-scratch run docker image link docker run sangam14/hello-scratch dockerworkshop "
            }
        );
    index.add(
            {
                id:  27 ,
                href: "\/docs\/helm\/else-else-if-statement\/",
                title: "else and else if statement",
                description: "update your templ link {{- define \"container1\" }} - name: new-container image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- end }} {{- define \"container2\" }} - name: new-container2 image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- end }} make your container value as false link # Default values for application-1. # This is a YAML-formatted file. # Declare variables to be passed into your templates. deployment: replicaCount: 1 name: my-deployememt image: app: ngnix version: latest service: name: my-service type: NodePort port: 80 targetPort: 80 nodePort: 32036 selector: app: ngnix container1: enabled: false update your deployment file with else statement link apiVersion: apps/v1 kind: Deployment metadata: name: {{ .Values.deployment.name }} labels: {{- include \"labels\" . | nindent 4 }} spec: replicas: {{ .Values.deployment.replicaCount }} selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- if eq .Values.container1.enabled true }} {{- include \"container1\" . | nindent 8 }} {{- else }} {{- include \"container2\" . | nindent 8 }} {{- end }} check menfest file link (base) ➜ application-1 git:(main) ✗ helm template . --- # Source: application-1/templates/service.yaml apiVersion: v1 kind: Service metadata: name: my-service labels: app: ngnix spec: type: NodePort ports: - port: 80 targetPort: 80 nodeport: 32036 protocol: TCP name: http selector: app: ngnix --- # Source: application-1/templates/deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: my-deployememt labels: app: ngnix version: \"1.0\" team: myteam spec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"ngnix:latest\" ports: - name: http containerPort: 80 protocol: TCP - name: new-container2 image: \"ngnix:latest\" ports: - name: http containerPort: 80 protocol: TCP (base) ➜ application-1 git:(main) ✗ ",
                content: "update your templ link {{- define \"container1\" }} - name: new-container image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- end }} {{- define \"container2\" }} - name: new-container2 image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- end }} make your container value as false link # Default values for application-1. # This is a YAML-formatted file. # Declare variables to be passed into your templates. deployment: replicaCount: 1 name: my-deployememt image: app: ngnix version: latest service: name: my-service type: NodePort port: 80 targetPort: 80 nodePort: 32036 selector: app: ngnix container1: enabled: false update your deployment file with else statement link apiVersion: apps/v1 kind: Deployment metadata: name: {{ .Values.deployment.name }} labels: {{- include \"labels\" . | nindent 4 }} spec: replicas: {{ .Values.deployment.replicaCount }} selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"{{ .Values.deployment.image.app }}:{{ .Values.deployment.image.version }}\" ports: - name: http containerPort: 80 protocol: TCP {{- if eq .Values.container1.enabled true }} {{- include \"container1\" . | nindent 8 }} {{- else }} {{- include \"container2\" . | nindent 8 }} {{- end }} check menfest file link (base) ➜ application-1 git:(main) ✗ helm template . --- # Source: application-1/templates/service.yaml apiVersion: v1 kind: Service metadata: name: my-service labels: app: ngnix spec: type: NodePort ports: - port: 80 targetPort: 80 nodeport: 32036 protocol: TCP name: http selector: app: ngnix --- # Source: application-1/templates/deployment.yaml apiVersion: apps/v1 kind: Deployment metadata: name: my-deployememt labels: app: ngnix version: \"1.0\" team: myteam spec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: \"ngnix:latest\" ports: - name: http containerPort: 80 protocol: TCP - name: new-container2 image: \"ngnix:latest\" ports: - name: http containerPort: 80 protocol: TCP (base) ➜ application-1 git:(main) ✗ "
            }
        );
    index.add(
            {
                id:  28 ,
                href: "\/docs\/kubernetes\/etcd-backup\/",
                title: "etcd Backup and Restore",
                description: "etcd Backup and Restore",
                content: "etcd Backup and Restore\nEtcd maintains the active state of the cluster, with the API Servers interacting by writing to and retrieving data from it. Each transaction executed in etcd is logged in a Write-Ahead Log (WAL) file specific to each cluster member. These files, which are updated by transactions initiated by the cluster’s “leader,” are periodically condensed into snapshots to conserve space. This snapshotting process is an integral part of etcd’s routine operations, and snapshots can also be manually triggered using the etcdctl tool with the snapshot save command.\ninstall etcd link sudo apt install etcd find server.crt\nsangam@sangam:~$ sudo find / -name server.crt 2\u003e/dev/null /etc/kubernetes/pki/etcd/server.crt take backup link sangam@sangam:~$ sudo ETCDCTL_API=3 etcdctl --endpoints=https://127.0.0.1:2379 \\ --cacert=/etc/kubernetes/pki/etcd/ca.crt \\ --cert=/etc/kubernetes/pki/etcd/server.crt \\ --key=/etc/kubernetes/pki/etcd/server.key \\ snapshot save /var/lib/etcd/backup.db 2024-04-26 03:53:42.172131 I | clientv3: opened snapshot stream; downloading 2024-04-26 03:53:42.188033 I | clientv3: completed snapshot read; closing Snapshot saved at /var/lib/etcd/backup.db check snapshot link sangam@sangam:~$ sudo ls -lh /var/lib/etcd/backup.db -rw-r--r-- 1 root root 3.2M Apr 26 03:53 /var/lib/etcd/backup.db "
            }
        );
    index.add(
            {
                id:  29 ,
                href: "\/docs\/containerd\/crun\/",
                title: " ContainerD + Crun ",
                description: "Install on ubuntu link $ sudo apt-get install -y make git gcc build-essential pkgconf libtool \\ libsystemd-dev libprotobuf-c-dev libcap-dev libseccomp-dev libyajl-dev \\ go-md2man autoconf python3 automake ContainerD Configuration link demo@sangam:~$ sudo mkdir -p /etc/containerd/ demo@sangam:~$ sudo tee /etc/containerd/config.toml \u003e /dev/null \u003c",
                content: "Install on ubuntu link $ sudo apt-get install -y make git gcc build-essential pkgconf libtool \\ libsystemd-dev libprotobuf-c-dev libcap-dev libseccomp-dev libyajl-dev \\ go-md2man autoconf python3 automake ContainerD Configuration link demo@sangam:~$ sudo mkdir -p /etc/containerd/ demo@sangam:~$ sudo tee /etc/containerd/config.toml \u003e /dev/null \u003c"
            }
        );
    index.add(
            {
                id:  30 ,
                href: "\/docs\/helm\/helm-templates-cheatsheet\/",
                title: "50 Helm Template Cheatsheets",
                description: "Basic Template Functions: link Access a Value from values.yaml:\nreplicas: {{ .Values.replicaCount }} Access Release Information:\nreleaseName: {{ .Release.Name }} releaseNamespace: {{ .Release.Namespace }} Access Chart Information:\nchartName: {{ .Chart.Name }} chartVersion: {{ .Chart.Version }} Port Configuration:\ncontainerPort: {{ .Values.containerPort }} Conditional Blocks: link Conditional Rendering:\n{{- if .Values.enableFeature }} featureEnabled: true {{- end }} Conditional Rendering with Else Block:\n",
                content: "Basic Template Functions: link Access a Value from values.yaml:\nreplicas: {{ .Values.replicaCount }} Access Release Information:\nreleaseName: {{ .Release.Name }} releaseNamespace: {{ .Release.Namespace }} Access Chart Information:\nchartName: {{ .Chart.Name }} chartVersion: {{ .Chart.Version }} Port Configuration:\ncontainerPort: {{ .Values.containerPort }} Conditional Blocks: link Conditional Rendering:\n{{- if .Values.enableFeature }} featureEnabled: true {{- end }} Conditional Rendering with Else Block:\n{{- if .Values.enableFeature }} featureEnabled: true {{- else }} featureEnabled: false {{- end }} Loops: link Loop Over a List:\n{{- range .Values.ingress.hosts }} - host: {{ . }} {{- end }} Loop Over a Map:\n{{- range $key, $value := .Values.labels }} {{ $key }}: {{ $value }} {{- end }} Accessing Values: link Access Nested Values:\nusername: {{ .Values.database.credentials.username }} Quoting a Value:\nmessage: {{ .Values.message | quote }} Including Partial Templates: link Include a Partial Template: {{- include \"partials.common\" . | indent 2 }} Template Functions: link Convert to YAML:\n{{- toYaml .Values.config | nindent 4 }} Convert to JSON:\njsonData: {{ toJson .Values.data }} Using Sprig Functions:\npassword: {{ randAlphaNum 10 | quote }} Helm Hook Templates: link Pre-install Hook:\n{{- if .Values.preInstallJob }} # pre-install job definition {{- end }} Post-install Hook:\n{{- if .Values.postInstallJob }} # post-install job definition {{- end }} Advanced Examples: link Creating a Kubernetes Secret:\napiVersion: v1 kind: Secret metadata: name: {{ .Release.Name }}-secret type: Opaque data: password: {{ .Values.secret.password | b64enc }} Creating a Service:\napiVersion: v1 kind: Service metadata: name: {{ include \"mychart.fullname\" . }} Defining a ConfigMap:\napiVersion: v1 kind: ConfigMap metadata: name: {{ include \"mychart.fullname\" . }} data: config.yaml: | {{ .Files.Get \"config.yaml\" | indent 4 }} Creating an Ingress:\napiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: {{ include \"mychart.fullname\" . }} spec: rules: - host: {{ .Values.ingress.host }} Defining a PersistentVolumeClaim:\napiVersion: v1 kind: PersistentVolumeClaim metadata: name: {{ include \"mychart.fullname\" . }}-data Setting Resource Limits:\nresources: limits: cpu: {{ .Values.resources.cpu | quote }} memory: {{ .Values.resources.memory | quote }} Creating a Job:\napiVersion: batch/v1 kind: Job metadata: name: {{ .Release.Name }}-job spec: template: spec: containers: - name: {{ .Chart.Name }}-job image: \"{{ .Values.image.repository }}:{{ .Values.image.tag }}\" command: [\"{{ .Values.command }}\"] Creating a CronJob:\napiVersion: batch/v1beta1 kind: CronJob metadata: name: {{ .Release.Name }}-cronjob spec: schedule: \"*/1 * * * *\" jobTemplate: spec: template: spec: containers: - name: {{ .Chart.Name }}-cronjob image: \"{{ .Values.image.repository }}:{{ .Values.image.tag }}\" command: [\"{{ .Values.command }}\"] Creating a StatefulSet:\napiVersion: apps/v1 kind: StatefulSet metadata: name: {{ .Release.Name }}-statefulset Creating a Deployment with Liveness and Readiness Probes:\napiVersion: apps/v1 kind: Deployment metadata: name: {{ .Release.Name }}-deployment spec: template: spec: containers: - name: {{ .Chart.Name }}-container image: \"{{ .Values.image.repository }}:{{ .Values.image.tag }}\" livenessProbe: httpGet: path: /healthz port: 80 initialDelaySeconds: 30 readinessProbe: httpGet: path: /readyz port: 80 initialDelaySeconds: 5 Creating a Horizontal Pod Autoscaler (HPA):\napiVersion: autoscaling/v2beta2 kind: HorizontalPodAutoscaler metadata: name: {{ .Release.Name }}-hpa spec: scaleTargetRef: apiVersion: apps/v1 kind: Deployment name: {{ .Release.Name }}-deployment minReplicas: 1 maxReplicas: 10 metrics: - type: Resource resource: name: cpu targetAverageUtilization: 50 Accessing Values: link Accessing Values from Dependencies:\ndependencyValue: {{ .Values.dependencies.subchart.value }} Accessing Values with Default:\nport: {{ .Values.port | default 8080 }} Advanced Conditional Blocks: link Conditional Block with Nested Conditions:\n{{- if and .Values.condition1 .Values.condition2 }} # Block content {{- end }} Conditional Block with OR Operator:\n{{- if or .Values.condition1 .Values.condition2 }} # Block content {{- end }} Advanced Loops: link Loop with Index:\n{{- range $index, $element := .Values.list }} - index: {{ $index }}, value: {{ $element }} {{- end }} Loop with Sorting:\n{{- range sort .Values.list }} - value: {{ . }} {{- end }} Advanced Template Functions: link Using tpl Function for Advanced Template Rendering:\nrenderedTemplate: {{ tpl (.Files.Get \"template.yaml\") . | indent 4 }} Using include with Dynamic Name:\n{{- include (printf \"%s-config\" .Values.serviceName) . | indent 2 }} External Template Files: link Including External Template File: {{- include \"external-template.tpl\" . | indent 2 }} Debugging: link Printing Values for Debugging: {{- printf \"%#v\" .Values | nindent 2 }} Naming Conventions: link Using Release Name and Chart Name for Naming Resources: metadata: name: {{ .Release.Name }}-{{ .Chart.Name }} Comments: link Adding Comments in Templates: # This is a comment External Resources: link Mounting External Files as ConfigMaps: apiVersion: v1 kind: ConfigMap metadata: name: my-configmap data: {{ .Files.Get \"config-file.yaml\" | indent 2 }} Combining Functions: link Combining Functions for Complex Operations: combinedValue: {{ trimPrefix \"prefix-\" (upper .Values.value) }} Advanced StatefulSet Configuration: link StatefulSet with Persistent Volume Claim: volumeClaimTemplates: - metadata: name: data spec: accessModes: [ \"ReadWriteOnce\" ] resources: requests: storage: 1Gi External Secrets: link Referencing External Secrets: apiVersion: v1 kind: Secret metadata: name: my-secret annotations: \"helm.sh/resource-policy\": keep type: Opaque data: password: {{ .Values.externalSecret.password | b64enc }} Helm Release Specifics: link Accessing Release Timestamp: releaseDate: {{ .Release.Timestamp }} Debugging with printf: link Debugging with printf: {{ printf \"%#v\" .Values | nindent 2 }} Using quote and unquote Functions: link Quoting and Unquoting Values: quotedValue: {{ .Values.someValue | quote }} unquotedValue: {{ .Values.quotedValue | unquote }} Advanced Resource Definitions: link Advanced Pod Annotations: annotations: myAnnotation: {{ .Values.annotations.myAnnotation | quote }} Configurable Labels: link Configurable Labels: labels: myLabel: {{ .Values.labels.myLabel | quote }} Conditional Pod Disruption Budget: link Conditional Pod Disruption Budget: {{- if .Values.enablePodDisruptionBudget }} apiVersion: policy/v1beta1 kind: PodDisruptionBudget metadata: name: {{ include \"mychart.fullname\" . }} spec: # PDB specification {{- end }} Helm Template Debugging: link Template Debugging with required Function: requiredValue: {{ required \"Value is required\" .Values.requiredValue }} Multiple pipelines: link Manipulate value with multiple pipelines: domain: {{ .Values.domain | lower | trunc 9 | quote}} "
            }
        );
    index.add(
            {
                id:  31 ,
                href: "\/docs\/kubernetes\/basics-of-pods\/",
                title: "Basics of Pod",
                description: "0. What is POD learn via Kubectl Explain link kubectl explain pod KIND: Pod VERSION: v1 DESCRIPTION: Pod is a collection of containers that can run on a host. This resource is created by clients and scheduled onto hosts. FIELDS: apiVersion APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources kind Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds metadata Standard object's metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata spec Specification of the desired behavior of the pod. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status status Most recently observed status of the pod. This data may not be up to date. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status 1. Create a Pod from Nginx Image link ➜ k8sworkshop git:(main) ✗ kubectl run nginx --image=nginx pod/nginx created ➜ k8sworkshop git:(main) ✗ kubectl get pods NAME READY STATUS RESTARTS AGE nginx 1/1 Running 0 25s 2. Create a Pod and Expose a Port link ➜ k8sworkshop git:(main) ✗ kubectl run nginx-port --image=nginx --port=80 pod/nginx-port created ➜ k8sworkshop git:(main) ✗ kubectl describe pod nginx-port Name: nginx-port Namespace: default Priority: 0 Service Account: default Node: minikube/192.168.49.2 Start Time: Mon, 06 Mar 2023 01:44:56 +0530 Labels: run=nginx-port Annotations: Status: Running IP: 172.17.0.4 IPs: IP: 172.17.0.4 Containers: nginx-port: Container ID: docker://8260b161cc305d1cf4060dff9edbd0b05e86d9c4fc441b5a0a51b9dbe35403d3 Image: nginx Image ID: docker-pullable://nginx@sha256:aa0afebbb3cfa473099a62c4b32e9b3fb73ed23f2a75a65ce1d4b4f55a5c2ef2 Port: 80/TCP Host Port: 0/TCP State: Running Started: Mon, 06 Mar 2023 01:44:59 +0530 Ready: True Restart Count: 0 Environment: Mounts: /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-ffpjx (ro) Conditions: Type Status Initialized True Ready True ContainersReady True PodScheduled True Volumes: kube-api-access-ffpjx: Type: Projected (a volume that contains injected data from multiple sources) TokenExpirationSeconds: 3607 ConfigMapName: kube-root-ca.crt ConfigMapOptional: DownwardAPI: true QoS Class: BestEffort Node-Selectors: Tolerations: node.kubernetes.io/not-ready:NoExecute op=Exists for 300s node.kubernetes.io/unreachable:NoExecute op=Exists for 300s Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 20s default-scheduler Successfully assigned default/nginx-port to minikube Normal Pulling 20s kubelet Pulling image \"nginx\" Normal Pulled 18s kubelet Successfully pulled image \"nginx\" in 2.236192917s Normal Created 18s kubelet Created container nginx-port Normal Started 18s kubelet Started container nginx-port ➜ k8sworkshop git:(main) ✗ 3. Output the Manifest File link kubectl run nginx --image=nginx --port=80 --dry-run=client -o yaml apiVersion: v1 kind: Pod metadata: creationTimestamp: null labels: run: nginx name: nginx spec: containers: - image: nginx name: nginx ports: - containerPort: 80 resources: {} dnsPolicy: ClusterFirst restartPolicy: Always status: {} alternative\n",
                content: "0. What is POD learn via Kubectl Explain link kubectl explain pod KIND: Pod VERSION: v1 DESCRIPTION: Pod is a collection of containers that can run on a host. This resource is created by clients and scheduled onto hosts. FIELDS: apiVersion APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources kind Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds metadata Standard object's metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata spec Specification of the desired behavior of the pod. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status status Most recently observed status of the pod. This data may not be up to date. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status 1. Create a Pod from Nginx Image link ➜ k8sworkshop git:(main) ✗ kubectl run nginx --image=nginx pod/nginx created ➜ k8sworkshop git:(main) ✗ kubectl get pods NAME READY STATUS RESTARTS AGE nginx 1/1 Running 0 25s 2. Create a Pod and Expose a Port link ➜ k8sworkshop git:(main) ✗ kubectl run nginx-port --image=nginx --port=80 pod/nginx-port created ➜ k8sworkshop git:(main) ✗ kubectl describe pod nginx-port Name: nginx-port Namespace: default Priority: 0 Service Account: default Node: minikube/192.168.49.2 Start Time: Mon, 06 Mar 2023 01:44:56 +0530 Labels: run=nginx-port Annotations: Status: Running IP: 172.17.0.4 IPs: IP: 172.17.0.4 Containers: nginx-port: Container ID: docker://8260b161cc305d1cf4060dff9edbd0b05e86d9c4fc441b5a0a51b9dbe35403d3 Image: nginx Image ID: docker-pullable://nginx@sha256:aa0afebbb3cfa473099a62c4b32e9b3fb73ed23f2a75a65ce1d4b4f55a5c2ef2 Port: 80/TCP Host Port: 0/TCP State: Running Started: Mon, 06 Mar 2023 01:44:59 +0530 Ready: True Restart Count: 0 Environment: Mounts: /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-ffpjx (ro) Conditions: Type Status Initialized True Ready True ContainersReady True PodScheduled True Volumes: kube-api-access-ffpjx: Type: Projected (a volume that contains injected data from multiple sources) TokenExpirationSeconds: 3607 ConfigMapName: kube-root-ca.crt ConfigMapOptional: DownwardAPI: true QoS Class: BestEffort Node-Selectors: Tolerations: node.kubernetes.io/not-ready:NoExecute op=Exists for 300s node.kubernetes.io/unreachable:NoExecute op=Exists for 300s Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 20s default-scheduler Successfully assigned default/nginx-port to minikube Normal Pulling 20s kubelet Pulling image \"nginx\" Normal Pulled 18s kubelet Successfully pulled image \"nginx\" in 2.236192917s Normal Created 18s kubelet Created container nginx-port Normal Started 18s kubelet Started container nginx-port ➜ k8sworkshop git:(main) ✗ 3. Output the Manifest File link kubectl run nginx --image=nginx --port=80 --dry-run=client -o yaml apiVersion: v1 kind: Pod metadata: creationTimestamp: null labels: run: nginx name: nginx spec: containers: - image: nginx name: nginx ports: - containerPort: 80 resources: {} dnsPolicy: ClusterFirst restartPolicy: Always status: {} alternative\nkubectl run nginx --image=nginx --port=80 --dry-run=client -o yaml \u003e ngnix.yaml ➜ k8sworkshop git:(main) ✗ ls LICENSE context data ngnix.yaml package.json styles README.md course.json lessons node_modules pages workshop components csv next.config.js package-lock.json public ➜ k8sworkshop git:(main) ✗ cat ngnix.yaml apiVersion: v1 kind: Pod metadata: creationTimestamp: null labels: run: nginx name: nginx spec: containers: - image: nginx name: nginx ports: - containerPort: 80 resources: {} dnsPolicy: ClusterFirst restartPolicy: Always status: {} ➜ k8sworkshop git:(main) ✗ 4. Delete PODS link k8sworkshop git:(main) ✗ kubectl delete pod nginx pod \"nginx\" deleted ➜ k8sworkshop git:(main) ✗ kubectl delete pod --all pod \"nginx-port\" deleted List the Worker Node link kubectl get nodes Create a new POD from Nginx Image link kubectl run mywebserver --image=nginx List the PODS that are currently running. link kubectl get pods Connect inside the POD link kubectl exec -it mywebserver -- bash You can come out of the POD with CTRL+D\nkubectl exec -it mywebserver -- ls -l / Delete the POD link kubectl delete pod mywebserver pod-expose-port.yaml link apiVersion: v1 kind: Pod metadata: name: nginx-pod spec: containers: - image: nginx name: democontainer ports: - containerPort: 8080 kubectl apply -f pod-expose-port.yaml kubectl get pods kubectl describe pod nginx-pod ➜ k8sworkshop git:(main) ✗ kubectl explain pod.spec.containers.ports KIND: Pod VERSION: v1 RESOURCE: ports \u003c[]Object\u003e DESCRIPTION: List of ports to expose from the container. Not specifying a port here DOES NOT prevent that port from being exposed. Any port which is listening on the default \"0.0.0.0\" address inside a container will be accessible from the network. Modifying this array with strategic merge patch may corrupt the data. For more information See https://github.com/kubernetes/kubernetes/issues/108255. Cannot be updated. ContainerPort represents a network port in a single container. FIELDS: containerPort -required- Number of port to expose on the pod's IP address. This must be a valid port number, 0 \u003c x \u003c 65536. hostIP What host IP to bind the external port to. hostPort Number of port to expose on the host. If specified, this must be a valid port number, 0 \u003c x \u003c 65536. If HostNetwork is specified, this must match ContainerPort. Most containers do not need this. name If specified, this must be an IANA_SVC_NAME and unique within the pod. Each named port in a pod must have a unique name. Name for the port that can be referred to by services. protocol Protocol for port. Must be UDP, TCP, or SCTP. Defaults to \"TCP\". Possible enum values: - `\"SCTP\"` is the SCTP protocol. - `\"TCP\"` is the TCP protocol. - `\"UDP\"` is the UDP protocol. ➜ k8sworkshop git:(main) ✗ Finding a Pod’s Cluster IP link k8s101 git:(main) ✗ kubectl get pod -o wide NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES nginx-pod 1/1 Running 0 95s 172.17.0.7 minikube nginx-port 1/1 Running 0 108m 172.17.0.3 minikube Finding a Service’s IP linkWe can find a Service IP using kubectl as well. In this case we will list all services in all namespaces:\n➜ k8s101 git:(main) ✗ kubectl get service --all-namespaces NAMESPACE NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE default kubernetes ClusterIP 10.96.0.1 443/TCP 114d kube-system kube-dns ClusterIP 10.96.0.10 53/UDP,53/TCP,9153/TCP 114d kube-system metrics-server ClusterIP 10.106.73.183 443/TCP 36m kubernetes-dashboard dashboard-metrics-scraper ClusterIP 10.109.38.100 8000/TCP 110m kubernetes-dashboard kubernetes-dashboard ClusterIP 10.108.78.110 80/TCP 110m ➜ k8s101 git:(main) ✗ ➜ k8s101 git:(main) ✗ kubectl get pod nginx-pod --template='{{(index (index .spec.containers 0).ports 0).containerPort}}{{\"\\n\"}}' 8080 "
            }
        );
    index.add(
            {
                id:  32 ,
                href: "\/docs\/containersecurity\/container-image-security\/",
                title: "Container Image Security ",
                description: "Container Image Security ",
                content: "Container Image Security link Building secure container images Choosing base images linkAlpine link Pros very small images: the community pays a lot attention on minimizing image sizes minimum functionality: only absolutely necessary packages contained lightweight init system: like Gentoo, Alpine uses OpenRC, a lightweight alternative to systemd musl performance: for some cases, musl libc can be more performant than glibc Cons rather Poor Documentation Small team : Currently there are 3 developer listed as the alpine linux team possible incompatibilities: musl libc may cause problems with some C-based plugins and adjustments may be necessary if you compile software yourself Debian link Pro:\nsmall images: the size of slimmed down Debian images (such as minideb by Bitnami) is almost on par with Alpine (e.g. mminideb + Python is just 7 MB larger than Alpine + Python) lots of packages: there’s hardly any software for Linux which hasn’t been packaged for Debian well tested: due to its popularity, Debian is used widely and issues are more likely to be found comprehensive documentation; also, the community produced a big amount of additional documentations and tutorials more security reviews: again, due to its larger community, Debian gets more attention and its more likely that vulnerabilities are discovered, e.g in glibc versus in musl libc (assumption). Debian also has a security audit team, which proactively looks for security issues. provenance: validating authenticity of packages is possible, e.g. with debsigs / dpkgsig Con:\nslightly larger attack surface: minideb consists of about 35 packages (such as bash, grep, hostname, mount …) due to apt depending on it more false positives: scanners may report more false positives you need to look at Distroless images linksimple distroless Golang Example\npackage main import \"fmt\" func main() { fmt.Println(\"Hello, world!\") } FROM golang:1.18 as build WORKDIR /go/src/app COPY . . RUN go mod download RUN go vet -v RUN go test -v RUN CGO_ENABLED=0 go build -o /go/bin/app FROM gcr.io/distroless/static-debian11 COPY --from=build /go/bin/app / CMD [\"/app\"] Distroless 2.0 project - uses Alpine as a minimalistic \u0026 secure base image, and with the help of two tools, apko and melange, allows to build an application-tailored image containing only (mostly?) the necessary bits.\nWhat is apko ?\nDeclarative OCI image builder tool based on apk Images are defined in YAML files Build are fully reproducible Automatically generates SBOMs for every imahes Platform-agnostic buids via Docker + apko images example of apko.yaml file\ncontents: repositories: - https://dl-cdn.alpinelinux.org/alpine/edge/main packages: - alpine-base entrypoint: command: /bin/sh -l # optional environment configuration environment: PATH: /usr/sbin:/sbin:/usr/bin:/bin Buiding the images with apko via Docker\ndocker run -v \"$PWD\":/work cgr.dev/chainguard/apko build examples/alpine-base.yaml apko-alpine:edge apko-alpine.tar test the image with docker\n$ docker load \u003c alpine.tar $ docker run -it apko-alpine:test Why apko ?\nIntroduced by alphine , it used a different methodology to handle package management Package Installation or removal is done as a side effect of modifyinh the system state This creates the ideal conditions for reproducible and declaratve pipelines where do package come from ?\nfor alphine-base images , use Alphine apks found at pkgs.alpinelinux.org/packages for wolfi images , use wolfi apks that are listed in the wolfi-os repository hosted at packages.wolfi.dev/os Don’t mix! You cam also create your own apks with melange why distroless ?\nMinimalist container images with only what’s absolutely necessary to build or execute your application Popular base images are full of software that only makes sense on bare metal No need for package managers or interactive shells on production images less dependencies = less attack surface docker run cgr.dev/chainguard/apko version docker run -v \"$PWD\":/work cgr.dev/chainguard/apko build examples/alpine-base.yaml apko-alpine:edge apko-alpine.tar Scratch Images linkThe default golang image is great! It allows you to quickly build and test your golang projects. But it has a few draw backs, it is a massive 964 MB even the slimmed down alpine based image is 327 MB, not only that but having unused binaries and packages opens you up to security flaws.\nUsing a multi-stage image will allow you to build smaller images by dropping all the packages used to build the binaries and only including the ones required during runtime.\n# Create a builder stage FROM golang:alpine as builder RUN apk update RUN apk add --no-cache git ca-certificates \\ \u0026\u0026 update-ca-certificates COPY . . # Fetch dependencies RUN go mod download RUN go mod verify # Build the binary RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 \\ go build -ldflags=\"-w -s\" \\ -o /go/bin/my-docker-binary # Create clean image FROM alpine:latest # Copy only the static binary COPY --from=builder /go/bin/my-docker-binary \\ /go/bin/my-docker-binary # Run the binary ENTRYPOINT [\"/go/bin/my-docker-binary\"] Great now we have an image thats 20 MB thats a 95% reduction! Remember these are production images so we use -ldflags=\"-w -s\" to turn off debug information -w and Go symbols -s.\nScratch Image and Lowest Privilege User linkNow to get rid of all those unused packages. Instead of using the alpine image as our final stage we will use the scratch image which has literally nothing!\nWill will take this opportunity to also create a non-root user. Add the following snippet to your builder stage\nENV USER=appuser ENV UID=10001 RUN adduser \\ --disabled-password \\ --gecos \"\" \\ --home \"/nonexistent\" \\ --shell \"/sbin/nologin\" \\ --no-create-home \\ --uid \"$\\{UID\\}\" \\ \"$\\{USER\\}\" We will need to copy over the ca-certificates to the final stage, this is only required if you are making https calls and we will also need to copy over the passwd and group files to use our appuser. Finally we need get the stage to use our user.\n# Copy over the necessary files COPY --from=builder \\ /etc/ssl/certs/ca-certificates.crt \\ /etc/ssl/certs/ COPY --from=builder /etc/passwd /etc/passwd COPY --from=builder /etc/group /etc/group # Use our user! USER appuser:appuser So finally your Dockerfile should look something like this:\n# Create a builder stage FROM golang:alpine as builder RUN apk update RUN apk add --no-cache git ca-certificates \\ \u0026\u0026 update-ca-certificates ENV USER=appuser ENV UID=10001 RUN adduser \\ --disabled-password \\ --gecos \"\" \\ --home \"/nonexistent\" \\ --shell \"/sbin/nologin\" \\ --no-create-home \\ --uid \"${UID}\" \\ \"${USER}\" COPY . . # Fetch dependencies RUN go mod download RUN go mod verify # Build the binary RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 \\ go build -ldflags=\"-w -s\" \\ -o /go/bin/my-docker-binary # Create clean image FROM scratch # Copy only the static binary COPY --from=builder \\ /go/bin/my-docker-binary \\ /go/bin/my-docker-binary COPY --from=builder \\ /etc/ssl/certs/ca-certificates.crt \\ /etc/ssl/certs/ COPY --from=builder /etc/passwd /etc/passwd COPY --from=builder /etc/group /etc/group # Use our user! USER appuser:appuser # Run the binary ENTRYPOINT [\"/go/bin/my-docker-binary\"] "
            }
        );
    index.add(
            {
                id:  33 ,
                href: "\/docs\/docker\/dockerfile-add\/",
                title: "Dockerfile ADD",
                description: "Here’s an example of a Dockerfile that uses the ADD instruction to copy a local file into a Docker image:\nFROM ubuntu:latest WORKDIR /app ADD example.txt /app/ CMD [\"cat\", \"/app/example.txt\"] Build Dockerfile link Dockerfile git:(main) ✗ docker build -t sangam14/add-dockerfile -f dockerfile.add . [+] Building 5.2s (9/9) FINISHED =\u003e [internal] load build definition from dockerfile.add 0.0s =\u003e =\u003e transferring dockerfile: 131B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/ubuntu:latest 3.1s =\u003e [auth] library/ubuntu:pull token for registry-1.docker.io 0.0s =\u003e [1/3] FROM docker.io/library/ubuntu:latest@sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f 2.0s =\u003e =\u003e resolve docker.io/library/ubuntu:latest@sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f 0.0s =\u003e =\u003e sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f 1.13kB / 1.13kB 0.0s =\u003e =\u003e sha256:61bd0b97000996232eb07b8d0e9375d14197f78aa850c2506417ef995a7199a7 424B / 424B 0.0s =\u003e =\u003e sha256:a6be1f66f70f66ef43503292e38ccbfc14f2d5464e7736344783a8fc7bb339a8 2.31kB / 2.31kB 0.0s =\u003e =\u003e sha256:8b150fd943bcd54ef788cece17523d19031f745b099a798de65247900d102e18 27.34MB / 27.34MB 1.4s =\u003e =\u003e extracting sha256:8b150fd943bcd54ef788cece17523d19031f745b099a798de65247900d102e18 0.4s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 78B 0.0s =\u003e [2/3] WORKDIR /app 0.1s =\u003e [3/3] ADD example.txt /app/ 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:c3438bfac421fa098b47f37ae00427eadcfb7ed36653a678738c63b0ab33a8d1 0.0s =\u003e =\u003e naming to docker.io/sangam14/add-dockerfile run docker images link Dockerfile git:(main) ✗ docker run sangam14/add-dockerfile Sangam Biradar Docker Community Leader ",
                content: "Here’s an example of a Dockerfile that uses the ADD instruction to copy a local file into a Docker image:\nFROM ubuntu:latest WORKDIR /app ADD example.txt /app/ CMD [\"cat\", \"/app/example.txt\"] Build Dockerfile link Dockerfile git:(main) ✗ docker build -t sangam14/add-dockerfile -f dockerfile.add . [+] Building 5.2s (9/9) FINISHED =\u003e [internal] load build definition from dockerfile.add 0.0s =\u003e =\u003e transferring dockerfile: 131B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/ubuntu:latest 3.1s =\u003e [auth] library/ubuntu:pull token for registry-1.docker.io 0.0s =\u003e [1/3] FROM docker.io/library/ubuntu:latest@sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f 2.0s =\u003e =\u003e resolve docker.io/library/ubuntu:latest@sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f 0.0s =\u003e =\u003e sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f 1.13kB / 1.13kB 0.0s =\u003e =\u003e sha256:61bd0b97000996232eb07b8d0e9375d14197f78aa850c2506417ef995a7199a7 424B / 424B 0.0s =\u003e =\u003e sha256:a6be1f66f70f66ef43503292e38ccbfc14f2d5464e7736344783a8fc7bb339a8 2.31kB / 2.31kB 0.0s =\u003e =\u003e sha256:8b150fd943bcd54ef788cece17523d19031f745b099a798de65247900d102e18 27.34MB / 27.34MB 1.4s =\u003e =\u003e extracting sha256:8b150fd943bcd54ef788cece17523d19031f745b099a798de65247900d102e18 0.4s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 78B 0.0s =\u003e [2/3] WORKDIR /app 0.1s =\u003e [3/3] ADD example.txt /app/ 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:c3438bfac421fa098b47f37ae00427eadcfb7ed36653a678738c63b0ab33a8d1 0.0s =\u003e =\u003e naming to docker.io/sangam14/add-dockerfile run docker images link Dockerfile git:(main) ✗ docker run sangam14/add-dockerfile Sangam Biradar Docker Community Leader "
            }
        );
    index.add(
            {
                id:  34 ,
                href: "\/docs\/containerd\/nerdctl\/",
                title: " contaiNERD + nerdctl ",
                description: "install ContainerD + nerctl link wget https://github.com/containerd/nerdctl/releases/download/v1.7.3/nerdctl-1.7.3-linux-arm64.tar.gz tar -xzf nerdctl-1.7.3-linux-arm64.tar.gz sudo mv ./nerdctl /usr/local/bin verify nerctl link sangam@demo:~$ sudo nerdctl nerdctl is a command line interface for containerd Config file ($NERDCTL_TOML): /etc/nerdctl/nerdctl.toml Usage: nerdctl [flags] Management commands: apparmor Manage AppArmor profiles builder Manage builds container Manage containers image Manage images ipfs Distributing images on IPFS namespace Manage containerd namespaces network Manage networks system Manage containerd volume Manage volumes Commands: attach Attach stdin, stdout, and stderr to a running container. build Build an image from a Dockerfile. Needs buildkitd to be running. commit Create a new image from a container's changes completion Generate the autocompletion script for the specified shell compose Compose cp Copy files/folders between a running container and the local filesystem. create Create a new container. Optionally specify \"ipfs://\" or \"ipns://\" scheme to pull image from IPFS. diff Inspect changes to files or directories on a container's filesystem events Get real time events from the server exec Run a command in a running container help Help about any command history Show the history of an image images List images info Display system-wide information inspect Return low-level information on objects. kill Kill one or more running containers load Load an image from a tar archive or STDIN login Log in to a container registry logout Log out from a container registry logs Fetch the logs of a container. Expected to be used with 'nerdctl run -d'. pause Pause all processes within one or more containers port List port mappings or a specific mapping for the container ps List containers pull Pull an image from a registry. Optionally specify \"ipfs://\" or \"ipns://\" scheme to pull image from IPFS. push Push an image or a repository to a registry. Optionally specify \"ipfs://\" or \"ipns://\" scheme to push image to IPFS. rename rename a container restart Restart one or more running containers rm Remove one or more containers rmi Remove one or more images run Run a command in a new container. Optionally specify \"ipfs://\" or \"ipns://\" scheme to pull image from IPFS. save Save one or more images to a tar archive (streamed to STDOUT by default) start Start one or more running containers stats Display a live stream of container(s) resource usage statistics. stop Stop one or more running containers tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE top Display the running processes of a container unpause Unpause all processes within one or more containers update Update one or more running containers version Show the nerdctl version information wait Block until one or more containers stop, then print their exit codes. Flags: -H, --H string Alias of --address (default \"/run/containerd/containerd.sock\") -a, --a string Alias of --address (default \"/run/containerd/containerd.sock\") --address string containerd address, optionally with \"unix://\" prefix [$CONTAINERD_ADDRESS] (default \"/run/containerd/containerd.sock\") --cgroup-manager string Cgroup manager to use (\"cgroupfs\"|\"systemd\") (default \"systemd\") --cni-netconfpath string cni config directory [$NETCONFPATH] (default \"/etc/cni/net.d\") --cni-path string cni plugins binary directory [$CNI_PATH] (default \"/opt/cni/bin\") --data-root string Root directory of persistent nerdctl state (managed by nerdctl, not by containerd) (default \"/var/lib/nerdctl\") --debug debug mode --debug-full debug mode (with full output) --experimental Control experimental: https://github.com/containerd/nerdctl/blob/main/docs/experimental.md [$NERDCTL_EXPERIMENTAL] (default true) -h, --help help for nerdctl --host string Alias of --address (default \"/run/containerd/containerd.sock\") --host-gateway-ip string IP address that the special 'host-gateway' string in --add-host resolves to. Defaults to the IP address of the host. It has no effect without setting --add-host [$NERDCTL_HOST_GATEWAY_IP] (default \"192.168.129.131\") --hosts-dir strings A directory that contains /hosts.toml (containerd style) or /{ca.cert, cert.pem, key.pem} (docker style) (default [/etc/containerd/certs.d,/etc/docker/certs.d]) --insecure-registry skips verifying HTTPS certs, and allows falling back to plain HTTP -n, --n string Alias of --namespace (default \"default\") --namespace string containerd namespace, such as \"moby\" for Docker, \"k8s.io\" for Kubernetes [$CONTAINERD_NAMESPACE] (default \"default\") --snapshotter string containerd snapshotter [$CONTAINERD_SNAPSHOTTER] (default \"overlayfs\") --storage-driver string Alias of --snapshotter (default \"overlayfs\") -v, --version version for nerdctl Run 'nerdctl COMMAND --help' for more information on a command. nerdctl system info link sangam@demo:~$ sudo nerdctl system info Client: Namespace:\tdefault Debug Mode:\tfalse Server: Server Version: 1.7.2 Storage Driver: overlayfs Logging Driver: json-file Cgroup Driver: systemd Cgroup Version: 2 Plugins: Log: fluentd journald json-file syslog Storage: native overlayfs Security Options: apparmor seccomp Profile: builtin cgroupns Kernel Version: 5.15.0-94-generic Operating System: Ubuntu 22.04.3 LTS OSType: linux Architecture: aarch64 CPUs: 2 Total Memory: 3.817GiB Name: demo ID: 62d52903-e7f5-4811-9793-3d4d191f325f WARNING: IPv4 forwarding is disabled WARNING: bridge-nf-call-iptables is disabled WARNING: bridge-nf-call-ip6tables is disabled install cni plugin link wget https://github.com/containernetworking/plugins/releases/download/v1.1.1/cni-plugins-linux-arm64-v1.1.1.tgz sudo tar Cxzvf /opt/cni/bin cni-plugins-linux-arm64-v1.1.1.tgz ./ ./macvlan ./static ./vlan ./portmap ./host-local ./vrf ./bridge ./tuning ./firewall ./host-device ./sbr ./loopback ./dhcp ./ptp ./ipvlan ./bandwidth make sure iptables package installed link sudo apt-get install iptables run first hello world container link sangam@demo:~$ sudo nerdctl run hello-world Hello from Docker! This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. (arm64v8) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker ID: https://hub.docker.com/ For more examples and ideas, visit: https://docs.docker.com/get-started/ nerdctl Command Cheatsheet linknerdctl is a Docker-compatible CLI for containerd. This cheatsheet provides a quick overview of commonly used commands.\n",
                content: "install ContainerD + nerctl link wget https://github.com/containerd/nerdctl/releases/download/v1.7.3/nerdctl-1.7.3-linux-arm64.tar.gz tar -xzf nerdctl-1.7.3-linux-arm64.tar.gz sudo mv ./nerdctl /usr/local/bin verify nerctl link sangam@demo:~$ sudo nerdctl nerdctl is a command line interface for containerd Config file ($NERDCTL_TOML): /etc/nerdctl/nerdctl.toml Usage: nerdctl [flags] Management commands: apparmor Manage AppArmor profiles builder Manage builds container Manage containers image Manage images ipfs Distributing images on IPFS namespace Manage containerd namespaces network Manage networks system Manage containerd volume Manage volumes Commands: attach Attach stdin, stdout, and stderr to a running container. build Build an image from a Dockerfile. Needs buildkitd to be running. commit Create a new image from a container's changes completion Generate the autocompletion script for the specified shell compose Compose cp Copy files/folders between a running container and the local filesystem. create Create a new container. Optionally specify \"ipfs://\" or \"ipns://\" scheme to pull image from IPFS. diff Inspect changes to files or directories on a container's filesystem events Get real time events from the server exec Run a command in a running container help Help about any command history Show the history of an image images List images info Display system-wide information inspect Return low-level information on objects. kill Kill one or more running containers load Load an image from a tar archive or STDIN login Log in to a container registry logout Log out from a container registry logs Fetch the logs of a container. Expected to be used with 'nerdctl run -d'. pause Pause all processes within one or more containers port List port mappings or a specific mapping for the container ps List containers pull Pull an image from a registry. Optionally specify \"ipfs://\" or \"ipns://\" scheme to pull image from IPFS. push Push an image or a repository to a registry. Optionally specify \"ipfs://\" or \"ipns://\" scheme to push image to IPFS. rename rename a container restart Restart one or more running containers rm Remove one or more containers rmi Remove one or more images run Run a command in a new container. Optionally specify \"ipfs://\" or \"ipns://\" scheme to pull image from IPFS. save Save one or more images to a tar archive (streamed to STDOUT by default) start Start one or more running containers stats Display a live stream of container(s) resource usage statistics. stop Stop one or more running containers tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE top Display the running processes of a container unpause Unpause all processes within one or more containers update Update one or more running containers version Show the nerdctl version information wait Block until one or more containers stop, then print their exit codes. Flags: -H, --H string Alias of --address (default \"/run/containerd/containerd.sock\") -a, --a string Alias of --address (default \"/run/containerd/containerd.sock\") --address string containerd address, optionally with \"unix://\" prefix [$CONTAINERD_ADDRESS] (default \"/run/containerd/containerd.sock\") --cgroup-manager string Cgroup manager to use (\"cgroupfs\"|\"systemd\") (default \"systemd\") --cni-netconfpath string cni config directory [$NETCONFPATH] (default \"/etc/cni/net.d\") --cni-path string cni plugins binary directory [$CNI_PATH] (default \"/opt/cni/bin\") --data-root string Root directory of persistent nerdctl state (managed by nerdctl, not by containerd) (default \"/var/lib/nerdctl\") --debug debug mode --debug-full debug mode (with full output) --experimental Control experimental: https://github.com/containerd/nerdctl/blob/main/docs/experimental.md [$NERDCTL_EXPERIMENTAL] (default true) -h, --help help for nerdctl --host string Alias of --address (default \"/run/containerd/containerd.sock\") --host-gateway-ip string IP address that the special 'host-gateway' string in --add-host resolves to. Defaults to the IP address of the host. It has no effect without setting --add-host [$NERDCTL_HOST_GATEWAY_IP] (default \"192.168.129.131\") --hosts-dir strings A directory that contains /hosts.toml (containerd style) or /{ca.cert, cert.pem, key.pem} (docker style) (default [/etc/containerd/certs.d,/etc/docker/certs.d]) --insecure-registry skips verifying HTTPS certs, and allows falling back to plain HTTP -n, --n string Alias of --namespace (default \"default\") --namespace string containerd namespace, such as \"moby\" for Docker, \"k8s.io\" for Kubernetes [$CONTAINERD_NAMESPACE] (default \"default\") --snapshotter string containerd snapshotter [$CONTAINERD_SNAPSHOTTER] (default \"overlayfs\") --storage-driver string Alias of --snapshotter (default \"overlayfs\") -v, --version version for nerdctl Run 'nerdctl COMMAND --help' for more information on a command. nerdctl system info link sangam@demo:~$ sudo nerdctl system info Client: Namespace:\tdefault Debug Mode:\tfalse Server: Server Version: 1.7.2 Storage Driver: overlayfs Logging Driver: json-file Cgroup Driver: systemd Cgroup Version: 2 Plugins: Log: fluentd journald json-file syslog Storage: native overlayfs Security Options: apparmor seccomp Profile: builtin cgroupns Kernel Version: 5.15.0-94-generic Operating System: Ubuntu 22.04.3 LTS OSType: linux Architecture: aarch64 CPUs: 2 Total Memory: 3.817GiB Name: demo ID: 62d52903-e7f5-4811-9793-3d4d191f325f WARNING: IPv4 forwarding is disabled WARNING: bridge-nf-call-iptables is disabled WARNING: bridge-nf-call-ip6tables is disabled install cni plugin link wget https://github.com/containernetworking/plugins/releases/download/v1.1.1/cni-plugins-linux-arm64-v1.1.1.tgz sudo tar Cxzvf /opt/cni/bin cni-plugins-linux-arm64-v1.1.1.tgz ./ ./macvlan ./static ./vlan ./portmap ./host-local ./vrf ./bridge ./tuning ./firewall ./host-device ./sbr ./loopback ./dhcp ./ptp ./ipvlan ./bandwidth make sure iptables package installed link sudo apt-get install iptables run first hello world container link sangam@demo:~$ sudo nerdctl run hello-world Hello from Docker! This message shows that your installation appears to be working correctly. To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub. (arm64v8) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal. To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bash Share images, automate workflows, and more with a free Docker ID: https://hub.docker.com/ For more examples and ideas, visit: https://docs.docker.com/get-started/ nerdctl Command Cheatsheet linknerdctl is a Docker-compatible CLI for containerd. This cheatsheet provides a quick overview of commonly used commands.\nBasic Operations link Command Description Example nerdctl run [OPTIONS] IMAGE COMMAND [ARG...] Run a container nerdctl run -it ubuntu /bin/bash (run Ubuntu shell interactively) nerdctl create [OPTIONS] IMAGE Create a container nerdctl create -d --name my-webserver nginx (create a detached Nginx container) nerdctl start CONTAINER_ID Start a stopped container nerdctl start 5a2295cfc32c (start container with ID 5a2295cfc32c) nerdctl stop [OPTIONS] CONTAINER_ID Stop a running container nerdctl stop -t 30 my-webserver (stop my-webserver with a 30-second grace period) nerdctl rm [OPTIONS] CONTAINER_ID Remove a container nerdctl rm -f 5a2295cfc32c (forcefully remove container 5a2295cfc32c) nerdctl ps [OPTIONS] List containers nerdctl ps -a (list all containers, including stopped) Image Management link Command Description Example nerdctl build [OPTIONS] -t IMAGE_NAME CONTEXT_DIR Build an image nerdctl build -t my-app ./Dockerfile (build image from Dockerfile in current directory) nerdctl pull [OPTIONS] IMAGE Pull an image nerdctl pull nginx:latest (pull the latest Nginx image) nerdctl images [OPTIONS] List images nerdctl images -f reference (list images by their reference name) nerdctl rmi [OPTIONS] IMAGE Remove an image nerdctl rmi my-app (remove the my-app image) Advanced Features link Command Description Example nerdctl run -d --network bridge -p 80:80 nginx Run with specific network configuration Run Nginx on port 80 on the bridge network nerdctl run -d -v /host/path:/container/path ubuntu /bin/bash Mount volumes Mount local /host/path to /container/path in container nerdctl run -e DB_HOST=localhost -e DB_PASSWORD=secret ubuntu Use environment variables Set environment variables in container nerdctl run --rootless --override uid=1000,gid=1000 ubuntu Run in rootless mode (requires configuration) Run as non-root user with specific user/group ID "
            }
        );
    index.add(
            {
                id:  35 ,
                href: "\/docs\/docker\/dockerfile-copy\/",
                title: "Dockerfile COPY",
                description: "COPY is a dockerfile command that copies files from a local source location to a destination in the Docker container. A Dockerfile is a text file with instructions to set up a Docker container.\ncreate myfile1.txt and myfile2.txt with following content :\n# myfile1.txt Hello This is my first file ! This is file will be copied in /usr/share directory from Docker host to Docker Container. # myfile2.txt Hello This is my second file ! This is file will be copied in /tmp directory from Docker host to Docker Container. The general syntax of the COPY command is:\n",
                content: "COPY is a dockerfile command that copies files from a local source location to a destination in the Docker container. A Dockerfile is a text file with instructions to set up a Docker container.\ncreate myfile1.txt and myfile2.txt with following content :\n# myfile1.txt Hello This is my first file ! This is file will be copied in /usr/share directory from Docker host to Docker Container. # myfile2.txt Hello This is my second file ! This is file will be copied in /tmp directory from Docker host to Docker Container. The general syntax of the COPY command is:\nCOPY Here, and are file paths. is the path to the source folder containing files to be copied. This option can be left empty to copy the contents of the current directory. The source of the files has to be a directory on the local computer.\nis the destination of the COPY command inside the docker container. This is the path where files are to be copied.\n# Instruction for Dockerfile to create a new image on top of the base image (ubuntu) # Using the base image ubuntu: latest FROM ubuntu:latest # Copying myfile1.txt to the containers /usr/share directory COPY myfile1.txt /usr/share # Copying myfile2.txt to the containers /tmp directory COPY myfile2.txt /tmp Build Dockerfile using following Command link Dockerfile git:(main) ✗ docker build -t sangam14/copy-dockerfile -f dockerfile.copy . [+] Building 2.2s (9/9) FINISHED =\u003e [internal] load build definition from dockerfile.copy 0.0s =\u003e =\u003e transferring dockerfile: 356B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/ubuntu:latest 2.1s =\u003e [auth] library/ubuntu:pull token for registry-1.docker.io 0.0s =\u003e CACHED [1/3] FROM docker.io/library/ubuntu:latest@sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f 0.0s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 344B 0.0s =\u003e [2/3] COPY myfile1.txt /usr/share 0.0s =\u003e [3/3] COPY myfile2.txt /tmp 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:4c660d66bd5f94311a22be23394032e2f2dd45f40fb4831f8e083efe90488763 0.0s =\u003e =\u003e naming to docker.io/sangam14/copy-dockerfile check inside container and search for text file link ➜ Dockerfile git:(main) ✗ docker run -it sangam14/copy-dockerfile bash root@27a3fbe098c3:/# ls bin boot dev etc home lib media mnt opt proc root run sbin srv sys tmp usr var root@27a3fbe098c3:/# cat /usr/share/myfile1.txt # myfile1.txt Hello This is my first file ! This is file will be copied in /usr/share directory from Docker host to Docker Container.root@27a3fbe098c3:/# ls bin boot dev etc home lib media mnt opt proc root run sbin srv sys tmp usr var root@27a3fbe098c3:/# cat /tmp/myfile2.txt # myfile2.txt Hello This is my second file ! This is file will be copied in /tmp directory from Docker host to Docker Container.root@27a3fbe098c3:/# both file successfully copied inside container\n"
            }
        );
    index.add(
            {
                id:  36 ,
                href: "\/docs\/containersecurity\/dockerfile-security-best-practices\/",
                title: "DockerFile Security Best Practices ",
                description: "DockerFile Security Best Practices link Choose Minimal Base Images FROM alpine WORKDIR /app COPY package.json /app RUN npm install CMD [“node”,“index.js”] Remove Cache Packages FROM alpine RUN apk add nginx \u0026\u0026 rm -rf /var/cache/apt/* COPY index.html /var/www/html/ EXPOSE 80 CMD [“nginx”,“-g”,“daemon off;”] FROM alpine RUN apk add –no-cache nginx COPY index.html /var/www/html/ EXPOSE 80 CMD [“nginx”,“-g”,“daemon off;”] avoid multilayers FROM alpine RUN apk update RUN apk add curl RUN apk add nodejs RUN apk add nginx-1.16.1-r6 RUN apk add nginx-mod-http-geoip2-1.16.1-r6 COPY index.html /var/www/html/ EXPOSE 80 CMD [“nginx”,“-g”,“daemon off;”] FROM alpine RUN apk update \u0026\u0026 apk add curl nginx nginx-mod-http-geoip2-1.16.1-r6 \\ rm -rf /var/cache/apt/* COPY index.html /var/www/html/ EXPOSE 80 CMD [“nginx”,“-g”,“daemon off;”] Don’t ignore .dockerignore ",
                content: "DockerFile Security Best Practices link Choose Minimal Base Images FROM alpine WORKDIR /app COPY package.json /app RUN npm install CMD [“node”,“index.js”] Remove Cache Packages FROM alpine RUN apk add nginx \u0026\u0026 rm -rf /var/cache/apt/* COPY index.html /var/www/html/ EXPOSE 80 CMD [“nginx”,“-g”,“daemon off;”] FROM alpine RUN apk add –no-cache nginx COPY index.html /var/www/html/ EXPOSE 80 CMD [“nginx”,“-g”,“daemon off;”] avoid multilayers FROM alpine RUN apk update RUN apk add curl RUN apk add nodejs RUN apk add nginx-1.16.1-r6 RUN apk add nginx-mod-http-geoip2-1.16.1-r6 COPY index.html /var/www/html/ EXPOSE 80 CMD [“nginx”,“-g”,“daemon off;”] FROM alpine RUN apk update \u0026\u0026 apk add curl nginx nginx-mod-http-geoip2-1.16.1-r6 \\ rm -rf /var/cache/apt/* COPY index.html /var/www/html/ EXPOSE 80 CMD [“nginx”,“-g”,“daemon off;”] Don’t ignore .dockerignore node_modules .env secrets/ *pem *.md FROM node:10 WORKDIR /nodeapp COPY package.json ./ RUN npm install COPY . . EXPOSE 8888 CMD [ “node”, “index.js” ] choose slim variant cut the root FROM node:10 WORKDIR /app COPY package.json ./ RUN npm install COPY . . EXPOSE 8888 CMD [ “node”, “index.js” ] FROM node:10 RUN user add -m nodeapp USER nodeappuser RUN whoami WORKDIR /app COPY package.json ./ RUN npm install COPY . . EXPOSE 8888 CMD [ “node”, “index.js” ] Remove Unwanted link TAG Wisely\nSo No to latest Tags\nPublic Private Registry\nkeep it single Avoid Hard Coding link ARG VERSION FROM node:$VERSION WORKDIR /app COPY package.json ./ RUN npm install COPY . . EXPOSE 8888 CMD [ “node”, “index.js” ] docker build -t testimage –build-arg VERSION=10 . docker build -t testimage –build-arg VERSION=9 . adding metadata\nFROM node:10 LABEL version=“1.0” maintainer=“Sangam Biradar ” WORKDIR /app COPY package.json ./ RUN npm install COPY . . EXPOSE 8888 CMD [ “node”, “index.js” ] Rego Policies\nwrite custom policies package play suspicious_env_keys = [ \"passwd\", \"password\", \"secret\", \"key\", \"access\", \"api_key\", \"apikey\", \"token\", ] pkg_update_commands = [ \"apk upgrade\", \"apt-get upgrade\", \"dist-upgrade\", ] image_tag_list = [ \"latest\", \"LATEST\", ] # Looking for suspicious environemnt variables deny[msg] { input[i].Cmd == \"env\" val := input[i].Value contains(lower(val[_]), suspicious_env_keys[_]) msg = sprintf(\"Suspicious ENV key found: %s\", [val]) } # Looking for latest docker image used warn[msg] { input[i].Cmd == \"from\" val := split(input[i].Value[0], \":\") count(val) == 1 msg = sprintf(\"Do not use latest tag with image: %s\", [val]) } # Looking for latest docker image used warn[msg] { input[i].Cmd == \"from\" val := split(input[i].Value[0], \":\") contains(val[1], image_tag_list[_]) msg = sprintf(\"Do not use latest tag with image: %s\", [input[i].Value]) } # Looking for apk upgrade command used in Dockerfile deny[msg] { input[i].Cmd == \"run\" val := concat(\" \", input[i].Value) contains(val, pkg_update_commands[_]) msg = sprintf(\"Do not use upgrade commands: %s\", [val]) } # Looking for ADD command instead using COPY command deny[msg] { input[i].Cmd == \"add\" val := concat(\" \", input[i].Value) msg = sprintf(\"Use COPY instead of ADD: %s\", [val]) } # sudo usage deny[msg] { input[i].Cmd == \"run\" val := concat(\" \", input[i].Value) contains(lower(val), \"sudo\") msg = sprintf(\"Avoid using 'sudo' command: %s\", [val]) } # # No Healthcheck usage # deny[msg] { # input[i].Cmd == \"healthcheck\" # msg := \"no healthcheck\" # } Rego Playground\n"
            }
        );
    index.add(
            {
                id:  37 ,
                href: "\/docs\/kubernetes\/labels-and-selectors\/",
                title: "Labels and Selectors ",
                description: " Selectors Labels  ",
                content: "Labels - Maps (aka Dictionaries) link ➜ k8s101 git:(main) ✗ kubectl explain deployment.metadata.labels KIND: Deployment VERSION: apps/v1 FIELD: labels DESCRIPTION: Map of string keys and values that can be used to organize and categorize (scope and select) objects. May match selectors of replication controllers and services. More info: http://kubernetes.io/docs/user-guide/labels Labels are attached to Kubernetes objects and are simple key: value pairs or maps(dictionary). Labels are used to store identifying information about a thing that you might need to query against. Labels are used for organization and selection of subsets of objects, and can be added to objects at creation time and/or modified at any time during cluster operations. You will see them on pods, replication controllers, replica sets, services, and so on. “labels”: { “tier”: “frontend” env: prod } Selectors - Maps (aka Dictionaries) link Labels are queryable — which makes them especially useful in organizing things A label selector is a string that identifies which labels you are trying to match You will see them on pods, replication controllers, replica sets, services, and so on. tier = frontend tier != frontend environment in (production, qa) Annotations link Annotations are bits of useful information you might want to store about a pod (or cluster, node, etc.) that you will not have to query against. They are also key/value pairs and have the same rules as labels. Examples of things you might put there are the pager contact, the build date, or a pointer to more information someplace else—like a URL. Method-1: Assign labels while creating a new object link kubectl create deployment label-nginx-example --image=nginx --dry-run=client -oyaml \u003e label-nginx-example.yml # clean up the template and add a label app: prod ➜ k8s101 git:(main) ✗ cat label-nginx-example.yml apiVersion: apps/v1 kind: Deployment metadata: labels: app: prod name: label-nginx-example spec: replicas: 2 selector: matchLabels: app: prod template: metadata: labels: app: prod spec: containers: - image: nginx name: nginx ➜ k8s101 git:(main) ✗ kubectl create -f label-nginx-example.yml deployment.apps/label-nginx-example created ➜ k8s101 git:(main) ✗ kubectl get deployments --show-labels NAME READY UP-TO-DATE AVAILABLE AGE LABELS label-nginx-example 1/1 1 1 23s app=label-nginx-example ➜ k8s101 git:(main) ✗ kubectl get pods --show-labels NAME READY STATUS RESTARTS AGE LABELS label-nginx-example-848d6df75-x8bb6 1/1 Running 0 45s app=label-nginx-example,pod-template-hash=848d6df75 ➜ k8s101 git:(main) ✗ Assign a new label to existing pod runtime as a patch linkwill assign new label “tier: frontend” to our existing Pods from the deployment label-nginx-example\n[root@controller ~]# cat update-label.yml spec: template: metadata: labels: tier: frontend Next patch the deployment with this YAML file link ➜ k8s101 git:(main) ✗ kubectl patch deployment label-nginx-example --patch \"$(cat update-label.yml)\" deployment.apps/label-nginx-example patched ➜ k8s101 git:(main) ✗ kubectl describe deployment label-nginx-example Name: label-nginx-example Namespace: default CreationTimestamp: Tue, 07 Mar 2023 05:40:07 +0530 Labels: app=label-nginx-example Annotations: deployment.kubernetes.io/revision: 2 Selector: app=label-nginx-example Replicas: 1 desired | 1 updated | 1 total | 1 available | 0 unavailable StrategyType: RollingUpdate MinReadySeconds: 0 RollingUpdateStrategy: 25% max unavailable, 25% max surge Pod Template: Labels: app=label-nginx-example tier=frontend Containers: nginx: Image: nginx Port: Host Port: Environment: Mounts: Volumes: Conditions: Type Status Reason ---- ------ ------ Available True MinimumReplicasAvailable Progressing True NewReplicaSetAvailable OldReplicaSets: NewReplicaSet: label-nginx-example-5f8bc677b9 (1/1 replicas created) Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal ScalingReplicaSet 4m35s deployment-controller Scaled up replica set label-nginx-example-848d6df75 to 1 Normal ScalingReplicaSet 74s deployment-controller Scaled up replica set label-nginx-example-5f8bc677b9 to 1 Normal ScalingReplicaSet 70s deployment-controller Scaled down replica set label-nginx-example-848d6df75 to 0 from 1 ➜ k8s101 git:(main) ✗ ➜ k8s101 git:(main) ✗ kubectl get pods --show-labels NAME READY STATUS RESTARTS AGE LABELS label-nginx-example-5f8bc677b9-92lp9 1/1 Running 0 7m31s app=label-nginx-example,pod-template-hash=5f8bc677b9,tier=frontend Method-3: Assign a new label to existing deployments runtime using kubectl linkI have another deployment nginx-deploy on my cluster, so I will assign label tier: backend to this deployment:\nkubectl label deployment nginx-deploy tier=backend kubectl get deployments --show-labels Using labels to list resource objects link kubectl get pods --show-labels kubectl get deployments --show-labels kubectl get all --show-labels --- #To list all the deployments using type: dev label: kubectl get deployments -l type=dev kubectl get pods -l app=prod Using Selector to list resource objects linkI will create another deployment here with two labels and use one of the label as selector:\n# cat lab-nginx.yml apiVersion: apps/v1 kind: Deployment metadata: labels: app: dev tier: backend name: lab-nginx spec: replicas: 2 selector: matchLabels: app: dev template: metadata: labels: app: dev spec: containers: - image: nginx name: nginx ➜ k8s101 git:(main) ✗ kubectl create -f lab-nginx.yml deployment.apps/lab-nginx created ➜ k8s101 git:(main) ✗ kubectl get pods --show-labels NAME READY STATUS RESTARTS AGE LABELS lab-nginx-84756b7fc4-8h2jr 1/1 Running 0 31s app=dev,pod-template-hash=84756b7fc4 lab-nginx-84756b7fc4-pgxbr 1/1 Running 0 31s app=dev,pod-template-hash=84756b7fc4 label-nginx-example-5f8bc677b9-92lp9 1/1 Running 0 14m app=label-nginx-example,pod-template-hash=5f8bc677b9,tier=frontend ➜ k8s101 git:(main) ✗ kubectl get pods --selector \"app=dev\" NAME READY STATUS RESTARTS AGE lab-nginx-84756b7fc4-8h2jr 1/1 Running 0 5m44s lab-nginx-84756b7fc4-pgxbr 1/1 Running 0 5m44s ➜ k8s101 git:(main) ✗ ➜ k8s101 git:(main) ✗ kubectl get pods -l app=dev NAME READY STATUS RESTARTS AGE lab-nginx-84756b7fc4-8h2jr 1/1 Running 0 6m47s lab-nginx-84756b7fc4-pgxbr 1/1 Running 0 6m47s Removing labels link kubectl get pods --show-labels kubectl get deployments --show-labels "
            }
        );
    index.add(
            {
                id:  38 ,
                href: "\/docs\/containerd\/runwasi\/",
                title: " contaiNERD + runwasi ",
                description: "install rust link curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh clone runwasi link $ git clone https://github.com/containerd/runwasi.git install wasmedge-containerd-shim link cd runwasi make build-wasmedge INSTALL=\"sudo install\" LN=\"sudo ln -sf\" make install-wasmedge run wasm using ctr cli link make load sudo ctr run --rm --runtime=io.containerd.wasmedge.v1 ghcr.io/containerd/runwasi/wasi-demo-app:latest testwasm /wasi-demo-app.wasm echo 'hello' ",
                content: "install rust link curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh clone runwasi link $ git clone https://github.com/containerd/runwasi.git install wasmedge-containerd-shim link cd runwasi make build-wasmedge INSTALL=\"sudo install\" LN=\"sudo ln -sf\" make install-wasmedge run wasm using ctr cli link make load sudo ctr run --rm --runtime=io.containerd.wasmedge.v1 ghcr.io/containerd/runwasi/wasi-demo-app:latest testwasm /wasi-demo-app.wasm echo 'hello' "
            }
        );
    index.add(
            {
                id:  39 ,
                href: "\/docs\/kubernetes\/create-pod-with-command-and-arguments\/",
                title: "Create POD with Command and Arguments ",
                description: " Kubectl explain pod  ",
                content: "kubectl explain pods.spec.containers.command link k8s101 git:(main) ✗ kubectl explain pods.spec.containers.command KIND: Pod VERSION: v1 FIELD: command \u003c[]string\u003e DESCRIPTION: Entrypoint array. Not executed within a shell. The container image's ENTRYPOINT is used if this is not provided. Variable references $(VAR_NAME) are expanded using the container's environment. If a variable cannot be resolved, the reference in the input string will be unchanged. Double $$ are reduced to a single $, which allows for escaping the $(VAR_NAME) syntax: i.e. \"$$(VAR_NAME)\" will produce the string literal \"$(VAR_NAME)\". Escaped references will never be expanded, regardless of whether the variable exists or not. Cannot be updated. More info: https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#running-a-command-in-a-shell ➜ k8s101 git:(main) ✗ Create POD without any commands or arguments. linkargs in Kubernetes overrides CMD in the original docker image. command in Kubernetes overrides ENTRYPOINT in the original docker image.\ncommands.yaml link apiVersion: v1 kind: Pod metadata: name: command spec: containers: - image: busybox name: count ➜ k8s101 git:(main) ✗ kubectl apply -f commands.yaml pod/command created ➜ k8s101 git:(main) ✗ kubectl get pods NAME READY STATUS RESTARTS AGE command 0/1 CrashLoopBackOff 1 (5s ago) 15s nginx-pod 1/1 Running 0 50m nginx-port 1/1 Running 0 156m webserver 1/1 Running 0 34m ➜ k8s101 git:(main) ✗ kubectl exec -it command -- bash Create POD with Command linkModify the POD contents to the following one.\napiVersion: v1 kind: Pod metadata: name: command2 spec: containers: - image: busybox name: count command: [\"sleep\",\"3600\"] ➜ k8s101 git:(main) ✗ kubectl apply -f commands.yaml pod/command2 created ➜ k8s101 git:(main) ✗ kubectl get pods NAME READY STATUS RESTARTS AGE command 1/1 Running 0 67s ➜ k8s101 git:(main) ✗ kubectl exec -it command2 -- sh / # ls bin dev etc home lib lib64 proc root sys tmp usr var / # Create POD with Command and Arguments linkModify the YAML file contents to the following one.\napiVersion: v1 kind: Pod metadata: name: command3 spec: containers: - image: busybox name: count command: [\"sleep\"] args: [\"3600\"] ➜ k8s101 git:(main) ✗ kubectl apply -f commands.yaml pod/command3 created ➜ k8s101 git:(main) ✗ kubectl get pods NAME READY STATUS RESTARTS AGE command 1/1 Running 0 3m18s command2 1/1 Running 0 2m34s command3 1/1 Running 0 14s Create POD with Arguments linkModify the YAML file contents to the following one.\napiVersion: v1 kind: Pod metadata: name: command3 spec: containers: - name: command3 image: debian command: [\"printenv\"] args: [\"HOSTNAME\", \"KUBERNETES_PORT\"] ➜ k8s101 git:(main) ✗ kubectl apply -f commands.yaml ➜ k8s101 git:(main) ✗ kubectl get pods ➜ k8s101 git:(main) ✗ kubectl logs command3 command3 tcp://10.96.0.1:443 "
            }
        );
    index.add(
            {
                id:  40 ,
                href: "\/docs\/docker\/dockerfile-cmd\/",
                title: "Dockerfile CMD",
                description: "The CMD command we saw earlier followed the Shell syntax:\nCMD executable parameter1 parameter2 However, it is better practice to use the JSON array format:\nCMD [\"executable\", \"parameter1\", \"parameter2\"] A CMD command can be overridden by providing the executable and its parameters in the docker ​run command. For example:\nFROM ubuntu RUN apt-get update CMD [\"echo\" , \"Join CloudNativeFolks Community\"] build dockerfile link docker build -t sangam14/cmd-dockerfile -f dockerfile.cmd . [+] Building 8.3s (7/7) FINISHED =\u003e [internal] load build definition from dockerfile.cmd 0.0s =\u003e =\u003e transferring dockerfile: 125B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/ubuntu:latest 2.1s =\u003e [auth] library/ubuntu:pull token for registry-1.docker.io 0.0s =\u003e CACHED [1/2] FROM docker.io/library/ubuntu@sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f 0.0s =\u003e [2/2] RUN apt-get update 6.0s =\u003e exporting to image 0.1s =\u003e =\u003e exporting layers 0.1s =\u003e =\u003e writing image sha256:c59a693968aab28243f6852d49be7299e0035e71e39b42f22c07be49cca74fb2 0.0s =\u003e =\u003e naming to docker.io/sangam14/cmd-dockerfile run docker container link Dockerfile git:(main) ✗ docker run sangam14/cmd-dockerfile Join CloudNativeFolks Community ",
                content: "The CMD command we saw earlier followed the Shell syntax:\nCMD executable parameter1 parameter2 However, it is better practice to use the JSON array format:\nCMD [\"executable\", \"parameter1\", \"parameter2\"] A CMD command can be overridden by providing the executable and its parameters in the docker ​run command. For example:\nFROM ubuntu RUN apt-get update CMD [\"echo\" , \"Join CloudNativeFolks Community\"] build dockerfile link docker build -t sangam14/cmd-dockerfile -f dockerfile.cmd . [+] Building 8.3s (7/7) FINISHED =\u003e [internal] load build definition from dockerfile.cmd 0.0s =\u003e =\u003e transferring dockerfile: 125B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/ubuntu:latest 2.1s =\u003e [auth] library/ubuntu:pull token for registry-1.docker.io 0.0s =\u003e CACHED [1/2] FROM docker.io/library/ubuntu@sha256:9a0bdde4188b896a372804be2384015e90e3f84906b750c1a53539b585fbbe7f 0.0s =\u003e [2/2] RUN apt-get update 6.0s =\u003e exporting to image 0.1s =\u003e =\u003e exporting layers 0.1s =\u003e =\u003e writing image sha256:c59a693968aab28243f6852d49be7299e0035e71e39b42f22c07be49cca74fb2 0.0s =\u003e =\u003e naming to docker.io/sangam14/cmd-dockerfile run docker container link Dockerfile git:(main) ✗ docker run sangam14/cmd-dockerfile Join CloudNativeFolks Community "
            }
        );
    index.add(
            {
                id:  41 ,
                href: "\/docs\/containersecurity\/secretscanner-finding-secrets-and-passwords-in-container-images-and-file-systems\/",
                title: "SecretScanner - Finding secrets and passwords in container images and file systems ",
                description: "Published on CloudNativeFolks\nOne of most common mistake is leaking Secrets via docker images or file system in this blogpost we will use Deepfence’s Open Source Project SecretScanner\n",
                content: "Published on CloudNativeFolks\nOne of most common mistake is leaking Secrets via docker images or file system in this blogpost we will use Deepfence’s Open Source Project SecretScanner\nfew days back I found this interesting tweet discussion from cybersecurity community members !\nFind secrets and passwords in container images and file systems https://t.co/ccejD09KR6\n— Nicolas Krassas (@Dinosn) September 19, 2022 here you see article around Uber security incidence\n%[https://www.uber.com/newsroom/security-update/]\nlets understand why secret scanner help you securing your container images and file system\nIf you see DockerHub most of images and public and thousands of secrets leaked over the year\nIf you see of of example from past supply chain attack one of docker image Codecov contain git credentials that allow attacker to gain access to price Codecov’s private git repositories and committed backdoors by attacker to there product and later that effected to 22000 Codecov’s users\nlets write insecure.DockerFile link FROM python:3.9-slim ENV DATABASE_PASSWORD \"SuperSecret\" Don’t Store Secrets in Images linkSecrets are sensitive pieces of information such as passwords, database credentials, SSH keys, tokens, and TLS certificates, to name a few. These should not be baked into your images without being encrypted since unauthorized users who gain access to the image can merely examine the layers to extract the secrets.\nInstead, they should be injected via:\nEnvironment variables (at run-time)\nBuild-time arguments (at build-time)\nAn orchestration tool like Docker Swarm (via Docker secrets) or Kubernetes (via Kubernetes secrets)\nAlso, you can help prevent leaking secrets by adding common secret files and folders to your .dockerignore file:\n**/.env **/.aws **/.ssh be explicit about what files are getting copied over to the image rather than copying all files recursively:\n# BAD COPY . . # GOOD copy ./app.py . Environment Variables linkYou can pass secrets via environment variables, but they will be visible in all child processes, linked containers, and logs, as well as via docker inspect. It’s also difficult to update them.\n$ docker run --detach --env \"DATABASE_PASSWORD=SuperSecret\" python:3.9-slim d92cf5cf870eb0fdbf03c666e7fcf18f9664314b79ad58bc7618ea3445e39239 $ docker inspect --format='{{range .Config.Env}}{{println .}}{{end}}' d92cf5cf870eb0fdbf03c666e7fcf18f9664314b79ad58bc7618ea3445e39239 DATABASE_PASSWORD=SuperSecret PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin LANG=C.UTF-8 GPG_KEY=E3FF2839C048B25C084DEBE9B26995E310250568 PYTHON_VERSION=3.9.7 PYTHON_PIP_VERSION=21.2.4 PYTHON_SETUPTOOLS_VERSION=57.5.0 PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/c20b0cfd643cd4a19246ccf204e2997af70f6b21/public/get-pip.py PYTHON_GET_PIP_SHA256=fa6f3fb93cce234cd4e8dd2beb54a51ab9c247653b52855a48dd44e6b21ff28b Build-time Arguments link docker build --build-arg \"DATABASE_PASSWORD=SuperSecret\" . rather then build time arguments you can use Multi-stage build so docker history will be ignored . The multi-stage build only retains the history for the final image. Keep in mind that you can use this functionality for permanent secrets that you need for your application, like a database credential.\nYou can also use the –secret option in Docker build to pass secrets to Docker images that do not get stored in the images.\nrefer create secret doc [https://docs.docker.com/engine/reference/commandline/secret_create/ ] ```\n“docker” \u003e secrets.txt linkFROM alpine\nshows secret from default secret location: linkRUN –mount=type=secret,id=mysecret cat /run/secrets/mysecret\nThis will mount the secret from the secrets.txt file. docker build –no-cache –progress=plain –secret id=mysecret,src=secrets.txt .\noutput link… #4 [1/2] FROM docker.io/library/alpine #4 sha256:665ba8b2cdc0cb0200e2a42a6b3c0f8f684089f4cd1b81494fbb9805879120f7 #4 CACHED\n#5 [2/2] RUN –mount=type=secret,id=mysecret cat /run/secrets/mysecret #5 sha256:75601a522ebe80ada66dedd9dd86772ca932d30d7e1b11bba94c04aa55c237de #5 0.635 docker #5 DONE 0.7s\nexporting to image link lets see the leaked secret ❯ docker history 49574a19241c IMAGE CREATED CREATED BY SIZE COMMENT 49574a19241c 5 minutes ago CMD \\[\"/bin/sh\"\\] 0B buildkit.dockerfile.v0 5 minutes ago RUN /bin/sh -c cat /run/secrets/mysecret # b… 0B buildkit.dockerfile.v0 4 weeks ago /bin/sh -c #(nop) CMD \\[\"/bin/sh\"\\] 0B 4 weeks ago /bin/sh -c #(nop) ADD file:aad4290d27580cc1a… 5.6MB but most modern way to scan docker images and file system you can use open source tool secretscanner that make developer life easy to detect leaked secretes\npull latest secretscanner image\ndocker pull deepfenceio/deepfence_secret_scanner:latest Pull docker image that you want to scan\ndocker pull node:8.11 Hund Secrets\ndocker run -it --rm --name=deepfence-secretscanner -v $(pwd):/home/deepfence/output -v /var/run/docker.sock:/var/run/docker.sock deepfenceio/deepfence_secret_scanner:latest -image-name node:8.11 output\nScanning image /tmp/Deepfence/SecretScanning/df_node811/save-output.tar for secrets... { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 85, \"Matched Rule Name\": \"Potential Linux passwd file\", \"Matched Part\": \"path\", \"String to Match\": \"\", \"Signature to Match\": \"etc/passwd$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 10, \"Full File Name\": \"etc/passwd\", \"Matched Contents\": \"etc/passwd\" }, { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 69, \"Matched Rule Name\": \"Shell profile configuration file\", \"Matched Part\": \"filename\", \"String to Match\": \"\", \"Signature to Match\": \"^\\\\.?(bash_|zsh_)?profile$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 7, \"Full File Name\": \"etc/profile\", \"Matched Contents\": \"profile\" }, { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 84, \"Matched Rule Name\": \"Potential Linux shadow file\", \"Matched Part\": \"path\", \"String to Match\": \"\", \"Signature to Match\": \"etc/shadow$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 10, \"Full File Name\": \"etc/shadow\", \"Matched Contents\": \"etc/shadow\" }, { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 68, \"Matched Rule Name\": \"Shell configuration file\", \"Matched Part\": \"filename\", \"String to Match\": \"\", \"Signature to Match\": \"^\\\\.?(bash|zsh|csh)rc$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 7, \"Full File Name\": \"etc/skel/.bashrc\", \"Matched Contents\": \".bashrc\" }, { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 69, \"Matched Rule Name\": \"Shell profile configuration file\", \"Matched Part\": \"filename\", \"String to Match\": \"\", \"Signature to Match\": \"^\\\\.?(bash_|zsh_)?profile$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 8, \"Full File Name\": \"etc/skel/.profile\", \"Matched Contents\": \".profile\" }, { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 68, \"Matched Rule Name\": \"Shell configuration file\", \"Matched Part\": \"filename\", \"String to Match\": \"\", \"Signature to Match\": \"^\\\\.?(bash|zsh|csh)rc$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 7, \"Full File Name\": \"root/.bashrc\", \"Matched Contents\": \".bashrc\" }, { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 69, \"Matched Rule Name\": \"Shell profile configuration file\", \"Matched Part\": \"filename\", \"String to Match\": \"\", \"Signature to Match\": \"^\\\\.?(bash_|zsh_)?profile$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 8, \"Full File Name\": \"root/.profile\", \"Matched Contents\": \".profile\" }, { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 88, \"Matched Rule Name\": \"Environment configuration file\", \"Matched Part\": \"filename\", \"String to Match\": \"\", \"Signature to Match\": \"^\\\\.?env$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 3, \"Full File Name\": \"usr/bin/env\", \"Matched Contents\": \"env\" }, { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 69, \"Matched Rule Name\": \"Shell profile configuration file\", \"Matched Part\": \"filename\", \"String to Match\": \"\", \"Signature to Match\": \"^\\\\.?(bash_|zsh_)?profile$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 7, \"Full File Name\": \"usr/share/base-files/profile\", \"Matched Contents\": \"profile\" }, { \"Image Layer ID\": \"23d81b1ef111d5b6cec4559da8d7ad53f9ce5314134c9a232ecbb050b0269f76\", \"Matched Rule ID\": 69, \"Matched Rule Name\": \"Shell profile configuration file\", \"Matched Part\": \"filename\", \"String to Match\": \"\", \"Signature to Match\": \"^\\\\.?(bash_|zsh_)?profile$\", \"Severity\": \"medium\", \"Severity Score\": 5.00, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 7, \"Full File Name\": \"usr/share/doc/adduser/examples/adduser.local.conf.examples/profile\", \"Matched Contents\": \"profile\" }, { \"Image Layer ID\": \"45475acd15f3bb8a3b04367eda1a2553d6b18d95723eb51737bc9d9a24227336\", \"Matched Rule ID\": 0, \"Matched Rule Name\": \"Potential cryptographic private key\", \"Matched Part\": \"extension\", \"String to Match\": \".pem\", \"Signature to Match\": \"\", \"Severity\": \"low\", \"Severity Score\": 2.50, \"Starting Index of Match in Original Content\": 0, \"Relative Starting Index of Match in Displayed Substring\": 0, \"Relative Ending Index of Match in Displayed Substring\": 4, \"Full File Name\": \"etc/ssl/certs/ACCVRAIZ1.pem\", \"Matched Contents\": \".pem\" } if you see about scan report its provide Image Layer ID and Matched Rule Name that describe about type of secret its detect also its provide \"Severity\": \"type\", \"Severity Score\": 2.50, with \"Matched Contents\": \""
            }
        );
    index.add(
            {
                id:  42 ,
                href: "\/docs\/containerd\/wasm-containerd-crun\/",
                title: "Wasm + ContainerD + CRUN ",
                description: "Installing WasmEdge link curl -sSf https://raw.githubusercontent.com/WasmEdge/WasmEdge/master/utils/install.sh | bash source $HOME/.wasmedge/env \u003e Using Python: /usr/bin/python3 INFO - CUDA cannot be detected via nvcc INFO - CUDA 12.x cannot be detected via nvidia-smi INFO - Compatible with current configuration INFO - Running Uninstaller WARNING - Uninstaller did not find previous installation WARNING - SHELL variable not found. Using bash as SHELL INFO - shell configuration updated INFO - Downloading WasmEdge |============================================================|100.00 %INFO - Downloaded INFO - Installing WasmEdge INFO - WasmEdge Successfully installed INFO - Run: Verify installation link wasmedge --version the response would be something:-\n",
                content: "Installing WasmEdge link curl -sSf https://raw.githubusercontent.com/WasmEdge/WasmEdge/master/utils/install.sh | bash source $HOME/.wasmedge/env \u003e Using Python: /usr/bin/python3 INFO - CUDA cannot be detected via nvcc INFO - CUDA 12.x cannot be detected via nvidia-smi INFO - Compatible with current configuration INFO - Running Uninstaller WARNING - Uninstaller did not find previous installation WARNING - SHELL variable not found. Using bash as SHELL INFO - shell configuration updated INFO - Downloading WasmEdge |============================================================|100.00 %INFO - Downloaded INFO - Installing WasmEdge INFO - WasmEdge Successfully installed INFO - Run: Verify installation link wasmedge --version the response would be something:-\nwasmedge version 0.13.5 Install ContainerD, Crun \u0026 k8s link wget -qO- https://raw.githubusercontent.com/sonichigo/wasmedge-demo-example/main/install.sh | bash \u003e Installing ContainerD and CRUN \u003c==============================\u003e Starting installation ... Hit:1 http://archive.ubuntu.com/ubuntu focal InRelease Hit:2 http://archive.ubuntu.com/ubuntu focal-updates InRelease Hit:3 http://archive.ubuntu.com/ubuntu focal-backports InRelease Hit:4 http://security.ubuntu.com/ubuntu focal-security InRelease Reading package lists... Done Building dependency tree Reading state information... Done 158 packages can be upgraded. Run 'apt list --upgradable' to see them. Version: 1.5.7 Installing libseccomp2 ... Reading package lists... Done Building dependency tree Reading state information... Done libseccomp2 is already the newest version (2.5.1-1ubuntu1~20.04.2). 0 upgraded, 0 newly installed, 0 to remove and 158 not upgraded. Installing wget Reading package lists... Done Building dependency tree Reading state information... Done wget is already the newest version (1.20.3-1ubuntu2). 0 upgraded, 0 newly installed, 0 to remove and 158 not upgraded. --2024-04-15 16:24:57-- https://github.com/containerd/containerd/releases/download/v1.5.7/cri-containerd-cni-1.5.7-linux-amd64.tar.gz Resolving github.com (github.com)... 20.207.73.82 Connecting to github.com (github.com)|20.207.73.82|:443... connected. HTTP request sent, awaiting response... 302 Found Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/46089560/8d348b60-8c8a-4720-87ec-67ee2efd754e?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240415%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240415T162333Z\u0026X-Amz-Expires=300\u0026X-Amz-Signature=9e48d3f9902da59a88afef21989f15f56907392a262e52b25f545d5ee27daaa5\u0026X-Amz-SignedHeaders=host\u0026actor_id=0\u0026key_id=0\u0026repo_id=46089560\u0026response-content-disposition=attachment%3B%20filename%3Dcri-containerd-cni-1.5.7-linux-amd64.tar.gz\u0026response-content-type=application%2Foctet-stream [following] --2024-04-15 16:24:57-- https://objects.githubusercontent.com/github-production-release-asset-2e65be/46089560/8d348b60-8c8a-4720-87ec-67ee2efd754e?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240415%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240415T162333Z\u0026X-Amz-Expires=300\u0026X-Amz-Signature=9e48d3f9902da59a88afef21989f15f56907392a262e52b25f545d5ee27daaa5\u0026X-Amz-SignedHeaders=host\u0026actor_id=0\u0026key_id=0\u0026repo_id=46089560\u0026response-content-disposition=attachment%3B%20filename%3Dcri-containerd-cni-1.5.7-linux-amd64.tar.gz\u0026response-content-type=application%2Foctet-stream Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.110.133, 185.199.111.133, 185.199.108.133, ... Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.110.133|:443... connected. HTTP request sent, awaiting response... 200 OK Length: 127052515 (121M) [application/octet-stream] Saving to: 'cri-containerd-cni-1.5.7-linux-amd64.tar.gz.1' cri-containerd-cni-1.5.7-l 100%[=======================================\u003e] 121.17M 101MB/s in 1.2s 2024-04-15 16:24:59 (101 MB/s) - 'cri-containerd-cni-1.5.7-linux-amd64.tar.gz.1' saved [127052515/127052515] --2024-04-15 16:24:59-- https://github.com/containerd/containerd/releases/download/v1.5.7/cri-containerd-cni-1.5.7-linux-amd64.tar.gz.sha256sum Resolving github.com (github.com)... 20.207.73.82 Connecting to github.com (github.com)|20.207.73.82|:443... connected. HTTP request sent, awaiting response... 302 Found Location: https://objects.githubusercontent.com/github-production-release-asset-2e65be/46089560/25ceb2f5-c57a-4c72-a724-7571db02b19d?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240415%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240415T162349Z\u0026X-Amz-Expires=300\u0026X-Amz-Signature=72413235b2d0d707d937d42824a99f7c0e0beb0877f413fdbec20b26a1fea169\u0026X-Amz-SignedHeaders=host\u0026actor_id=0\u0026key_id=0\u0026repo_id=46089560\u0026response-content-disposition=attachment%3B%20filename%3Dcri-containerd-cni-1.5.7-linux-amd64.tar.gz.sha256sum\u0026response-content-type=application%2Foctet-stream [following] --2024-04-15 16:24:59-- https://objects.githubusercontent.com/github-production-release-asset-2e65be/46089560/25ceb2f5-c57a-4c72-a724-7571db02b19d?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240415%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240415T162349Z\u0026X-Amz-Expires=300\u0026X-Amz-Signature=72413235b2d0d707d937d42824a99f7c0e0beb0877f413fdbec20b26a1fea169\u0026X-Amz-SignedHeaders=host\u0026actor_id=0\u0026key_id=0\u0026repo_id=46089560\u0026response-content-disposition=attachment%3B%20filename%3Dcri-containerd-cni-1.5.7-linux-amd64.tar.gz.sha256sum\u0026response-content-type=application%2Foctet-stream Resolving objects.githubusercontent.com (objects.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.110.133, ... Connecting to objects.githubusercontent.com (objects.githubusercontent.com)|185.199.108.133|:443... connected. HTTP request sent, awaiting response... 200 OK Length: 110 [application/octet-stream] Saving to: 'cri-containerd-cni-1.5.7-linux-amd64.tar.gz.sha256sum.1' cri-containerd-cni-1.5.7-l 100%[=======================================\u003e] 110 --.-KB/s in 0s 2024-04-15 16:25:00 (5.88 MB/s) - 'cri-containerd-cni-1.5.7-linux-amd64.tar.gz.sha256sum.1' saved [110/110] cri-containerd-cni-1.5.7-linux-amd64.tar.gz: OK --2024-04-15 16:25:04-- https://raw.githubusercontent.com/second-state/wasmedge-containers-examples/main/containerd/containerd_config.diff Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.111.133, 185.199.108.133, 185.199.109.133, ... Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.111.133|:443... connected. HTTP request sent, awaiting response... 200 OK Length: 1576 (1.5K) [text/plain] Saving to: 'containerd_config.diff.1' containerd_config.diff.1 100%[=======================================\u003e] 1.54K --.-KB/s in 0s 2024-04-15 16:25:04 (29.3 MB/s) - 'containerd_config.diff.1' saved [1576/1576] patching file /etc/containerd/config.toml ... ... ... ... ... ... ... ... Local Kubernetes cluster is running. Press Ctrl-C to shut it down. Run WebAssembly container images in Kubernetes linkOpen a new terminal and run the cluster: -\ncd kubernetes \u0026\u0026 git checkout v1.22.4 export KUBERNETES_PROVIDER=local sudo cluster/kubectl.sh config set-cluster local --server=https://localhost:6443 --certificate-authority=/var/run/kubernetes/server-ca.crt sudo cluster/kubectl.sh config set-credentials myself --client-key=/var/run/kubernetes/client-admin.key --client-certificate=/var/run/kubernetes/client-admin.crt sudo cluster/kubectl.sh config set-context local --cluster=local --user=myself sudo cluster/kubectl.sh config use-context local sudo cluster/kubectl.sh Let’s check the status to make sure that the cluster is running.\nsudo cluster/kubectl.sh cluster-info A WebAssembly-based HTTP service linkRun the WebAssembly-based image from Docker Hub in the Kubernetes cluster as follows.\nsudo cluster/kubectl.sh run --restart=Never http-server --image=wasmedge/example-wasi-http:latest --annotations=\"module.wasm.image/variant=compat-smart\" --overrides='{\"kind\":\"Pod\", \"apiVersion\":\"v1\", \"spec\": {\"hostNetwork\": true}}' Since we are using hostNetwork in the kubectl run command, the HTTP server image is running on the local network with IP address 127.0.0.1. Now, you can use the curl command to access the HTTP service.\ncurl -d \"name=WasmEdge\" -X POST http://127.0.0.1:1234 \u003e echo: name=WasmEdge "
            }
        );
    index.add(
            {
                id:  43 ,
                href: "\/docs\/containersecurity\/yarahunter-malware-scanner-for-container-images\/",
                title: " YaraHunter - Malware Scanner for Container Images ",
                description: "What is YARA ? linkYARA was originally developed by Victor Alvarez of VirusTotal and released on github in 2013 .\nYARA , the “Pattern matching Swiss knife for malware researchers available on github\n",
                content: "What is YARA ? linkYARA was originally developed by Victor Alvarez of VirusTotal and released on github in 2013 .\nYARA , the “Pattern matching Swiss knife for malware researchers available on github\nInstall yara on Mac link brew install yara Yara is extremely popular within because of different use case : link Identify and classify malware\nFind new samples based on family-specific pattern\nDeploy Yara Rules to identify samples and compromised device for incident response\nWhy Yara ? link Before Yara it was difficult for malware researcher To detect and classify large volumes of malware samples\ncan effective be used of hunting evolving malwares\nSince Yara Rules are completely base on text , using an easy to understand syntax , they can be developed quickly\nHow to write custom detection in YARA link Start of the rule: Every YARA rule should be declared by using the keyword rule followed by an identifier , or unique rule would like to give your rule\nAdd your meta section : the meta section can be used to provide comments or details about your rule information provided under meta will not be used for any variation of malware detection\nDeclare string : this is where you can declare a variable and set it value each variable is indicated using $ sign followed by the variable name\nadd your condition section : the condition section is where the rule declares what conditions must be met in order to rule to trigger a match .\nmy first yara rule link rule Hello_World { condition: true } verify yara is installed or not\nyara --help YARA 4.2.3, the pattern matching swiss army knife. Usage: yara [OPTION]... [NAMESPACE:]RULES_FILE... FILE | DIR | PID Mandatory arguments to long options are mandatory for short options too. --atom-quality-table=FILE path to a file with the atom quality table -C, --compiled-rules load compiled rules -c, --count print only number of matches -d, --define=VAR=VALUE define external variable --fail-on-warnings fail on warnings -f, --fast-scan fast matching mode -h, --help show this help and exit -i, --identifier=IDENTIFIER print only rules named IDENTIFIER --max-process-memory-chunk=NUMBER set maximum chunk size while reading process memory (default=1073741824) -l, --max-rules=NUMBER abort scanning after matching a NUMBER of rules --max-strings-per-rule=NUMBER set maximum number of strings per rule (default=10000) -x, --module-data=MODULE=FILE pass FILE's content as extra data to MODULE -n, --negate print only not satisfied rules (negate) -N, --no-follow-symlinks do not follow symlinks when scanning -w, --no-warnings disable warnings -m, --print-meta print metadata -D, --print-module-data print module data -e, --print-namespace print rules' namespace -S, --print-stats print rules' statistics -s, --print-strings print matching strings -L, --print-string-length print length of matched strings -g, --print-tags print tags -r, --recursive recursively search directories --scan-list scan files listed in FILE, one per line -z, --skip-larger=NUMBER skip files larger than the given size when scanning a directory -k, --stack-size=SLOTS set maximum stack size (default=16384) -t, --tag=TAG print only rules tagged as TAG -p, --threads=NUMBER use the specified NUMBER of threads to scan a directory -a, --timeout=SECONDS abort scanning after the given number of SECONDS -v, --version show version information Now let the computer greet you: link $ yara hello.yara /yara/malware/somefile.txt rule GoodMorning { condition: hour \u003c 12 and hour \u003e= 4 } Now let the computer greet you: link yara hello.yara -d hour=11 ./yara/malware/somefile.txt GoodMorning ./yara/malware/somefile.txt structure of YARA rule file linkrule RULE_NAME { // Rule definition goes here! // Comments in Yara rules look like this! }\nThe “meta” section of a rule contains the description, author, reference, date, hash, and any other relevant details of the rule. This section is optional and will not be used to classify malware. meta: description = \"This is just an example\" threat_level = 3 in_the_wild = true\nThe “strings” section contains string patterns that are used to identify malware. Each string in the “strings” section is identified with a variable name starting with a dollar sign.\nstrings: $a = {6A 40 68 00 30 00 00 6A 14 8D 91} $b = {8D 4D B0 2B C1 83 C0 27 99 6A 4E 59 F7 F9} $c = \"UVODFRYSIHLNWPEJXQZAKCBGMT\" You should put signature strings that are indicative of the malware here. This example uses hex strings and text strings. But you can also use regex patterns. strings: $a = {6A 40 68 00 30 00 00 6A 14 8D 91} // Hex strings are enclosed within curly brackets. $b = \"UVODFRYSIHLNWPEJXQZAKCBGMT\" // Plain text strings are enclosed within double quotes. $c = /md5: [0-9a-fA-F]{32}/ // Regex patterns are enclosed within slashes. Finally, the “condition” section describes how the string patterns in the “strings” section should be used to identify a piece of malware. You can use boolean (and, or, not), relational (\u003e, \u003c, =, and more), and arithmetic (+, -, *, /, %) expressions in this section. In our example, the rule specifies that if one of the strings $a, $b, or $c is present, the file is a silent banker trojan. condition: $a or $b or $c You can also define more complicated conditions like these. ``` condition: #a \u003e 2 and $b // If $a occurs more than twice and if $b is present\ncondition: ($a and $b) or ($b and $c) // If both $a and $b are present, or both $b and $c are present ```\nLets Bring Malware scanner for cloud-native, as part of CI/CD and at Runtime linkDeepfence’s YaraHunter - scans container images, running Docker containers, and filesystems to find indicators of malware. It uses a YARA ruleset to identify resources that match known malware signatures, and may indicate that the container or filesystem has been compromised.\nYaRadare can be used to detect malware in cloud-native applications in the following ways: link At rest: scan local container images, before they are deployed, to verify they do not contain malware\nAt runtime: scan running docker containers, if, for example, you observe unusual network traffic or CPU activity\nAgainst filesystems: at any time, YaRadare can scan a local directory or filesystem for indicators of compromise\nwe all build and scan images but we never take look at malware that packaged inside container or even file system YaraHunter can hunt malware that present at your docker images or Kubernetes cluster or you can use in CI/CD pipeline\npull image you want to scan linkImages may be compromised with the installation of a cryptominer such as XMRig. In the following example, we’ll scan a legitimiate cryptominer image that contains the same xmrig software that is often installed through an exploit:\ndocker pull metal3d/xmrig Run YaraHunter as Docker Container and get result in json link Deepfence YaraHunter user@host:~$ d user@host:~$ do user@host:~$ doc user@host:~$ dock user@host:~$ docke user@host:~$ docker user@host:~$ docker user@host:~$ docker p user@host:~$ docker pu user@host:~$ docker pul user@host:~$ docker pull user@host:~$ docker pull user@host:~$ docker pull quay.io/deepfenceio/deepfence_malware_scanner_ce:2.5.2 user@host:~$ docker pull quay.io/deepfenceio/deepfence_malware_scanner_ce:2.5.2 user@host:~$ docker pull quay.io/deepfenceio/deepfence_malware_scanner_ce:2.5.2 latest: Pulling from deepfenceio/yara-hunterDigest: sha256:b82f0143f2a1530720c40ee780f78ab138d04f95b65af7a32a31678a712abe01Status: Image is up to date for quay.io/deepfenceio/deepfence_malware_scanner_ce:2.5.2docker.io/quay.io/deepfenceio/deepfence_malware_scanner_ce:2.5.2user@host:~$ user@host:~$ docker pull metal3d/xmrig user@host:~$ docker pull metal3d/xmrig user@host:~$ docker pull metal3d/xmrig Using default tag: latestlatest: Pulling from metal3d/xmriDigest: sha256:c3c27a8b2f6beede6d9c0a7e5b79bb7a7b0002cca40565e7bfd2e447f3a2a628Status: Image is up to date for metal3d/xmrig:latestdocker.io/metal3d/xmrig:latestuser@host:~$ docker run user@host:~$ docker run -it user@host:~$ docker run -it --rm user@host:~$ docker run -it --rm --name=yara-hunter user@host:~$ docker run -it --rm --name=yara-hunter \\ -v -v /var/run/docker.sock:/var/run/docker.sock -v /var/run/docker.sock:/var/run/docker.sock \\ -v /tmp:/home/deepfence/output -v /tmp:/home/deepfence/output \\ quay.io/deepfenceio/deepfence_malware_scanner_ce:2.5.2 quay.io/deepfenceio/deepfence_malware_scanner_ce:2.5.2 \\ --image-name --image-name metal3d/xmrig:latest --image-name metal3d/xmrig:latest \\ --json-filename=xmrig-scan.json --json-filename=xmrig-scan.json connected successfully using endpoint: unix:///var/run/docker.sock container runtime detected: docker{ \"Timestamp\": \"2022-08-18 13:58:41.543309237 +00:00\", \"Image Name\": \"metal3d/xmrig:latest\", \"Image ID\": \"a01f1ffa6691423ef43bfaee2a9c9f30fe08ee6df8d9d6586ae9692d90789c5a\", \"Malware match detected are\": [ { \"Image Layer ID\": \"bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789\", \"Matched Rule Name\": \"XMRIG_Miner\", \"Strings to match are\": [ \"stratum+tcp\" ], \"Category\": [], \"File Name\": \"/tmp/Deepfence/YaRadare/df_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/usr/local/bin/xmrig\", \"ref\":\"https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e \", \"Summary\": \"The matched rule file's ref is https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e .\" } {/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/build/CMakeFiles/xmrig.dir/src/base/net/stratum/Url.cpp.o\", \"Matched Rule Name\": \"Cerberus\", \"cerberus\" \"Category\": [\"RAT\",\"memory\"],/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/src/3rdparty/fmt/README.rst\", \"description\":\"Cerberus \", \"author\":\"Jean-Philippe Teissier / @Jipe_ \", \"date\":\"2013-01-12 \", \"filetype\":\"memory \", \"version\":\"1.0 \", \"Summary\": \"The file /tmp/Deepfence/YaRadare/df_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/src/3rdparty/fmt/README.rst has a memory match.The file has a rule match that Cerberus .The matched rule file's author is Jean-Philippe Teissier / @Jipe_ .The matched rule file's date is 2013-01-12 .The matched rule file's filetype is memory .The matched rule file's version is 1.0 .\"rc/base/net/stratum/Url.cpp\", ] ]}user@host:~$ c user@host:~$ ca user@host:~$ cat user@host:~$ cat user@host:~$ cat / user@host:~$ cat /t user@host:~$ cat /tm user@host:~$ cat /tmp user@host:~$ cat /tmp/ user@host:~$ cat /tmp/x user@host:~$ cat /tmp/xm user@host:~$ cat /tmp/xmr user@host:~$ cat /tmp/xmri user@host:~$ cat /tmp/xmrig user@host:~$ cat /tmp/xmrig- user@host:~$ cat /tmp/xmrig-s user@host:~$ cat /tmp/xmrig-sc user@host:~$ cat /tmp/xmrig-sca user@host:~$ cat /tmp/xmrig-scan user@host:~$ cat /tmp/xmrig-scan. user@host:~$ cat /tmp/xmrig-scan.j user@host:~$ cat /tmp/xmrig-scan.js user@host:~$ cat /tmp/xmrig-scan.jso user@host:~$ cat /tmp/xmrig-scan.json user@host:~$ cat /tmp/xmrig-scan.json user@host:~$ cat /tmp/xmrig-scan.json | user@host:~$ cat /tmp/xmrig-scan.json | user@host:~$ cat /tmp/xmrig-scan.json | j user@host:~$ cat /tmp/xmrig-scan.json | jq user@host:~$ cat /tmp/xmrig-scan.json | jq user@host:~$ cat /tmp/xmrig-scan.json | jq ' user@host:~$ cat /tmp/xmrig-scan.json | jq '. user@host:~$ cat /tmp/xmrig-scan.json | jq '.I user@host:~$ cat /tmp/xmrig-scan.json | jq '.IO user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[ user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | . user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\" user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"M user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Ma user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Mat user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matc user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Match user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matche user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched R user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Ru user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rul user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule N user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule Na user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule Nam user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule Name user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule Name\" user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule Name\"' user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule Name\"'user@host:~$ cat /tmp/xmrig-scan.json | jq '.IOC[] | .\"Matched Rule Name\"'\"XMRIG_Miner\"\"Cerberus\" docker run -it --rm --name=deepfence-yarahunter \\-v /var/run/docker.sock:/var/run/docker.sock \\-v /tmp:/home/deepfence/output deepfenceio/yara-hunter:latest --image-name metal3d/xmrig:latest \\--json-filename=xmrig-scan.json Using default tag: latest latest: Pulling from metal3d/xmrig 2408cc74d12b: Pull complete 75fcf72b2223: Pull complete 4e7c4ed53fb2: Pull complete Digest: sha256:c3c27a8b2f6beede6d9c0a7e5b79bb7a7b0002cca40565e7bfd2e447f3a2a628 Status: Downloaded newer image for metal3d/xmrig:latest docker.io/metal3d/xmrig:latest WARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested INFO\\[2022-09-09 00:53:43\\] trying to connect to endpoint 'unix:///var/run/docker.sock' with timeout '10s' INFO\\[2022-09-09 00:53:43\\] connected successfully using endpoint: unix:///var/run/docker.sock INFO\\[2022-09-09 00:53:43\\] trying to connect to endpoint 'unix:///run/containerd/containerd.sock' with timeout '10s' WARN\\[2022-09-09 00:53:53\\] could not connect to endpoint 'unix:///run/containerd/containerd.sock': context deadline exceeded INFO\\[2022-09-09 00:53:53\\] trying to connect to endpoint 'unix:///run/k3s/containerd/containerd.sock' with timeout '10s' WARN\\[2022-09-09 00:54:03\\] could not connect to endpoint 'unix:///run/k3s/containerd/containerd.sock': context deadline exceeded INFO\\[2022-09-09 00:54:03\\] container runtime detected: docker { \"Timestamp\": \"2022-09-09 00:54:27.639796179 +00:00\", \"Image Name\": \"metal3d/xmrig:latest\", \"Image ID\": \"a01f1ffa6691423ef43bfaee2a9c9f30fe08ee6df8d9d6586ae9692d90789c5a\", \"Malware match detected are\": \\[ { \"Image Layer ID\": \"bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789\", \"Matched Rule Name\": \"XMRIG\\_Miner\", \"Strings to match are\": \\[ \"stratum+tcp\" \\], \"Category\": \\[\\], \"File Name\": \"/tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/usr/local/bin/xmrig\", \"ref\":\"https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e \", \"Summary\": \"The matched rule file's ref is https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e .\" } , { \"Image Layer ID\": \"bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789\", \"Matched Rule Name\": \"XMRIG\\_Miner\", \"Strings to match are\": \\[ \"stratum+tcp\" \\], \"Category\": \\[\\], \"File Name\": \"/tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/build/CMakeFiles/xmrig.dir/src/base/net/stratum/Url.cpp.o\", \"ref\":\"https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e \", \"Summary\": \"The matched rule file's ref is https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e .\" } , { \"Image Layer ID\": \"bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789\", \"Matched Rule Name\": \"Cerberus\", \"Strings to match are\": \\[ \"cerberus\" \\], \"Category\": \\[\"RAT\",\"memory\"\\], \"File Name\": \"/tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/src/3rdparty/fmt/README.rst\", \"description\":\"Cerberus \", \"author\":\"Jean-Philippe Teissier / @Jipe\\_ \", \"date\":\"2013-01-12 \", \"filetype\":\"memory \", \"version\":\"1.0 \", \"Summary\": \"The file /tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/src/3rdparty/fmt/README.rst has a memory match.The file has a rule match that Cerberus .The matched rule file's author is Jean-Philippe Teissier / @Jipe\\_ .The matched rule file's date is 2013-01-12 .The matched rule file's filetype is memory .The matched rule file's version is 1.0 .\" } , { \"Image Layer ID\": \"bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789\", \"Matched Rule Name\": \"XMRIG\\_Miner\", \"Strings to match are\": \\[ \"stratum+tcp\" \\], \"Category\": \\[\\], \"File Name\": \"/tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/src/base/net/stratum/Url.cpp\", \"ref\":\"https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e \", \"Summary\": \"The matched rule file's ref is https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e .\" } , { \"Image Layer ID\": \"bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789\", \"Matched Rule Name\": \"XMRIG\\_Miner\", \"Strings to match are\": \\[ \"stratum+tcp\" \\], \"Category\": \\[\\], \"File Name\": \"/tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/usr/local/bin/xmrig\", \"ref\":\"https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e \", \"Summary\": \"The matched rule file's ref is https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e .\" } , { \"Image Layer ID\": \"bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789\", \"Matched Rule Name\": \"XMRIG\\_Miner\", \"Strings to match are\": \\[ \"stratum+tcp\" \\], \"Category\": \\[\\], \"File Name\": \"/tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/build/CMakeFiles/xmrig.dir/src/base/net/stratum/Url.cpp.o\", \"ref\":\"https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e \", \"Summary\": \"The matched rule file's ref is https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e .\" } , { \"Image Layer ID\": \"bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789\", \"Matched Rule Name\": \"Cerberus\", \"Strings to match are\": \\[ \"cerberus\" \\], \"Category\": \\[\"RAT\",\"memory\"\\], \"File Name\": \"/tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/src/3rdparty/fmt/README.rst\", \"description\":\"Cerberus \", \"author\":\"Jean-Philippe Teissier / @Jipe\\_ \", \"date\":\"2013-01-12 \", \"filetype\":\"memory \", \"version\":\"1.0 \", \"Summary\": \"The file /tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/src/3rdparty/fmt/README.rst has a memory match.The file has a rule match that Cerberus .The matched rule file's author is Jean-Philippe Teissier / @Jipe\\_ .The matched rule file's date is 2013-01-12 .The matched rule file's filetype is memory .The matched rule file's version is 1.0 .\" } , { \"Image Layer ID\": \"bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789\", \"Matched Rule Name\": \"XMRIG\\_Miner\", \"Strings to match are\": \\[ \"stratum+tcp\" \\], \"Category\": \\[\\], \"File Name\": \"/tmp/Deepfence/YaRadare/df\\_metal3dxmriglatest/ExtractedFiles/bad74b706fcd3e01f4af74337744cbcc84ab60da82c40dd588469c6360258789/xmrig-6.18.0/src/base/net/stratum/Url.cpp\", \"ref\":\"https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e \", \"Summary\": \"The matched rule file's ref is https://gist.github.com/GelosSnake/c2d4d6ef6f93ccb7d3afb5b1e26c7b4e .\" } \\] } Check it out YaraHunter and support this project by giving gitstar !\nYaraHunter 🔍🔍 Malware scanner for cloud-native, as part of CI/CDand at Runtime 🔍🔍 Go 1.3k 157 "
            }
        );
    index.add(
            {
                id:  44 ,
                href: "\/docs\/docker\/dockerfile-entrypoint\/",
                title: "Dockerfile Entrypoint",
                description: "Running a Docker Container with ENTRYPOINT linkLet’s learn the details in this case by actually executing ENTRYPOINT in exec form. The following is an example of a Dockerfile that uses the exec form of ENTRYPOINT, which outputs a character string on the command line.\nFROM alpine ENTRYPOINT [\"echo\", \"Hello!\"] Build dockerfile link ➜ Dockerfile git:(main) ✗ docker build -t sangam14/entrypoint-dockerfile -f dockerfile.entrypoint . [+] Building 3.2s (6/6) FINISHED =\u003e [internal] load build definition from dockerfile.entrypoint 0.0s =\u003e =\u003e transferring dockerfile: 94B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 3.1s =\u003e [auth] library/alpine:pull token for registry-1.docker.io 0.0s =\u003e [1/1] FROM docker.io/library/alpine@sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a 0.0s =\u003e =\u003e resolve docker.io/library/alpine@sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a 0.0s =\u003e =\u003e sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a 1.64kB / 1.64kB 0.0s =\u003e =\u003e sha256:c41ab5c992deb4fe7e5da09f67a8804a46bd0592bfdf0b1847dde0e0889d2bff 528B / 528B 0.0s =\u003e =\u003e sha256:d74e625d91152966d38fe8a62c60daadb96d4b94c1a366de01fab5f334806239 1.49kB / 1.49kB 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:0d5a798a648339f8ea8094b10568eb2dc44540480deff55f680dfd689f787013 0.0s =\u003e =\u003e naming to docker.io/sangam14/entrypoint-dockerfile 0.0s run docker container link Dockerfile git:(main) ✗ docker run sangam14/entrypoint-dockerfile Hello! ➜ Dockerfile git:(main) ✗ docker run sangam14/entrypoint-dockerfile echo \"sangam\" Hello! echo sangam ➜ Dockerfile git:(main) ✗ Overwrite with --entrypoint option linkOn the other hand, in ENTRYPOINT, you can change the instruction by using the option of —entrypoint as follows.\n",
                content: "Running a Docker Container with ENTRYPOINT linkLet’s learn the details in this case by actually executing ENTRYPOINT in exec form. The following is an example of a Dockerfile that uses the exec form of ENTRYPOINT, which outputs a character string on the command line.\nFROM alpine ENTRYPOINT [\"echo\", \"Hello!\"] Build dockerfile link ➜ Dockerfile git:(main) ✗ docker build -t sangam14/entrypoint-dockerfile -f dockerfile.entrypoint . [+] Building 3.2s (6/6) FINISHED =\u003e [internal] load build definition from dockerfile.entrypoint 0.0s =\u003e =\u003e transferring dockerfile: 94B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 3.1s =\u003e [auth] library/alpine:pull token for registry-1.docker.io 0.0s =\u003e [1/1] FROM docker.io/library/alpine@sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a 0.0s =\u003e =\u003e resolve docker.io/library/alpine@sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a 0.0s =\u003e =\u003e sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a 1.64kB / 1.64kB 0.0s =\u003e =\u003e sha256:c41ab5c992deb4fe7e5da09f67a8804a46bd0592bfdf0b1847dde0e0889d2bff 528B / 528B 0.0s =\u003e =\u003e sha256:d74e625d91152966d38fe8a62c60daadb96d4b94c1a366de01fab5f334806239 1.49kB / 1.49kB 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:0d5a798a648339f8ea8094b10568eb2dc44540480deff55f680dfd689f787013 0.0s =\u003e =\u003e naming to docker.io/sangam14/entrypoint-dockerfile 0.0s run docker container link Dockerfile git:(main) ✗ docker run sangam14/entrypoint-dockerfile Hello! ➜ Dockerfile git:(main) ✗ docker run sangam14/entrypoint-dockerfile echo \"sangam\" Hello! echo sangam ➜ Dockerfile git:(main) ✗ Overwrite with --entrypoint option linkOn the other hand, in ENTRYPOINT, you can change the instruction by using the option of —entrypoint as follows.\ndocker run --rm --entrypoint sh sangam14/entrypoint-dockerfile -c 'echo \"test\"' test CMD and ENTRYPOINT have similar roles and are confusing, but they have different functions. CMD, ENTRYPOINT, and ENTRYPOINT also behave differently between shell form and exec form, so it’s a good idea to use each function properly. The instructions in the Dockerfile are a bit complicated, but you can use them effectively if you understand them.\n"
            }
        );
    index.add(
            {
                id:  45 ,
                href: "\/docs\/kubernetes\/multi-container-pods\/",
                title: "Multi-Container Pods",
                description: " Use Cases for Multi-Container Pods  ",
                content: "Why does Kubernetes allow more than one container in a Pod link Containers in a Pod runs on a “logical host”: they use the same network namespace (same IP address and port space), they can use shared volumes using several containers for an application is simpler to use, more transparent, and allows decoupling software dependencies Use Cases for Multi-Container Pods linkThe primary purpose of a multi-container Pod is to support co-located, co-managed helper processes for a main program\nSidecar containers: “help” the main container. For example, log or data change watchers, monitoring adapters, and so on. A log watcher, for example, can be built once by a different team and reused across different applications Another example of a sidecar container is a file or data loader that generates data for the main container.\nCommunication Between Containers in a Pod linkShared volumes: you can use a shared Kubernetes Volume as a simple and efficient way to share data between containers in a Pod. Volumes enables data to survive container restarts. It has the same lifetime as a Pod. it is sufficient to use a directory on the host that is shared with all containers within a Pod\nA standard use case for a multi-container Pod with shared Volume is when one container writes to the shared directory (logs or other files), and the other container reads from the shared directory The second container uses Debian image and has the shared volume mounted to the directory /html. The second container every second adds current date and time and into index.html that is located in the shared volume. Nginx servers reads this file and transfers it to the user for each HTTP request to the web server. apiVersion: v1 kind: Pod metadata: name: mc1 spec: volumes: - name: html emptyDir: {} containers: - name: 1st image: nginx volumeMounts: - name: html mountPath: /usr/share/nginx/html - name: 2nd image: debian volumeMounts: - name: html mountPath: /html command: [\"/bin/sh\", \"-c\"] args: - while true; do date \u003e\u003e /html/index.html; sleep 1; done kubectl apply link ➜ k8s101 git:(main) ✗ kubectl apply -f mc1.yaml pod/mc1 created exec into mc1 pod 1st container link ➜ k8s101 git:(main) ✗ kubectl exec mc1 -c 1st -- /bin/cat /usr/share/nginx/html/index.html Mon Mar 6 18:30:15 UTC 2023 Mon Mar 6 18:30:16 UTC 2023 Mon Mar 6 18:30:17 UTC 2023 Mon Mar 6 18:30:18 UTC 2023 Mon Mar 6 18:30:20 UTC 2023 Mon Mar 6 18:30:21 UTC 2023 Mon Mar 6 18:30:22 UTC 2023 Mon Mar 6 18:30:23 UTC 2023 Mon Mar 6 18:30:24 UTC 2023 Mon Mar 6 18:30:25 UTC 2023 Mon Mar 6 18:30:26 UTC 2023 Mon Mar 6 18:30:27 UTC 2023 Mon Mar 6 18:30:28 UTC 2023 Mon Mar 6 18:30:29 UTC 2023 Mon Mar 6 18:30:30 UTC 2023 Mon Mar 6 18:30:31 UTC 2023 Mon Mar 6 18:30:32 UTC 2023 Mon Mar 6 18:30:33 UTC 2023 Mon Mar 6 18:30:34 UTC 2023 Mon Mar 6 18:30:35 UTC 2023 Mon Mar 6 18:30:36 UTC 2023 Mon Mar 6 18:30:37 UTC 2023 Mon Mar 6 18:30:38 UTC 2023 Mon Mar 6 18:30:39 UTC 2023 Mon Mar 6 18:30:40 UTC 2023 Mon Mar 6 18:30:41 UTC 2023 Mon Mar 6 18:30:42 UTC 2023 Mon Mar 6 18:30:43 UTC 2023 Mon Mar 6 18:30:44 UTC 2023 Mon Mar 6 18:30:45 UTC 2023 Mon Mar 6 18:30:46 UTC 2023 Mon Mar 6 18:30:47 UTC 2023 Mon Mar 6 18:30:48 UTC 2023 Mon Mar 6 18:30:49 UTC 2023 Mon Mar 6 18:30:50 UTC 2023 Mon Mar 6 18:30:51 UTC 2023 Mon Mar 6 18:30:52 UTC 2023 Mon Mar 6 18:30:53 UTC 2023 Mon Mar 6 18:30:54 UTC 2023 Mon Mar 6 18:30:55 UTC 2023 Mon Mar 6 18:30:56 UTC 2023 Mon Mar 6 18:30:57 UTC 2023 Mon Mar 6 18:30:58 UTC 2023 Mon Mar 6 18:30:59 UTC 2023 Mon Mar 6 18:31:00 UTC 2023 Mon Mar 6 18:31:01 UTC 2023 Mon Mar 6 18:31:02 UTC 2023 Mon Mar 6 18:31:03 UTC 2023 Mon Mar 6 18:31:04 UTC 2023 Mon Mar 6 18:31:05 UTC 2023 Mon Mar 6 18:31:06 UTC 2023 Mon Mar 6 18:31:07 UTC 2023 Mon Mar 6 18:31:08 UTC 2023 Mon Mar 6 18:31:09 UTC 2023 Mon Mar 6 18:31:10 UTC 2023 Mon Mar 6 18:31:11 UTC 2023 Mon Mar 6 18:31:12 UTC 2023 Mon Mar 6 18:31:13 UTC 2023 Mon Mar 6 18:31:14 UTC 2023 Mon Mar 6 18:31:15 UTC 2023 Mon Mar 6 18:31:16 UTC 2023 Mon Mar 6 18:31:17 UTC 2023 Mon Mar 6 18:31:18 UTC 2023 Mon Mar 6 18:31:19 UTC 2023 Mon Mar 6 18:31:20 UTC 2023 Mon Mar 6 18:31:21 UTC 2023 Mon Mar 6 18:31:22 UTC 2023 Mon Mar 6 18:31:23 UTC 2023 Mon Mar 6 18:31:24 UTC 2023 Mon Mar 6 18:31:25 UTC 2023 Mon Mar 6 18:31:26 UTC 2023 Mon Mar 6 18:31:27 UTC 2023 Mon Mar 6 18:31:28 UTC 2023 Mon Mar 6 18:31:29 UTC 2023 Mon Mar 6 18:31:30 UTC 2023 Mon Mar 6 18:31:31 UTC 2023 Mon Mar 6 18:31:32 UTC 2023 Mon Mar 6 18:31:33 UTC 2023 Mon Mar 6 18:31:34 UTC 2023 Mon Mar 6 18:31:35 UTC 2023 Mon Mar 6 18:31:36 UTC 2023 Mon Mar 6 18:31:37 UTC 2023 Mon Mar 6 18:31:38 UTC 2023 Mon Mar 6 18:31:39 UTC 2023 Mon Mar 6 18:31:40 UTC 2023 Mon Mar 6 18:31:41 UTC 2023 Mon Mar 6 18:31:42 UTC 2023 Mon Mar 6 18:31:43 UTC 2023 Mon Mar 6 18:31:44 UTC 2023 Mon Mar 6 18:31:45 UTC 2023 exec into mc1 pod 3nd container link k8s101 git:(main) ✗ kubectl exec mc1 -c 2nd -i -t -- bash -il root@mc1:/# ls bin boot dev etc home html lib media mnt opt proc root run sbin srv sys tmp usr var root@mc1:/# cd html root@mc1:/html# ls index.html root@mc1:/html# Kubernetes has three Object Types you should know about: link Pods - runs one or more closely related containers\nServices - sets up networking in a Kubernetes cluster\nDeployment - Maintains a set of identical pods, ensuring that they have the correct config and that the right number of them exist.\nPods:\nRuns a single set of containers Good for one-off dev purposes Rarely used directly in production Deployment:\nRuns a set of identical pods Monitors the state of each pod, updating as necessary Good for dev Good for production Pod templates :\nControllers for workload resources create Pods from a pod template and manage those Pods on your behalf.\n-PodTemplates are specifications for creating Pods, and are included in workload resources such as Deployments, Jobs, and DaemonSets.\nk8sworkshop git:(main) ✗ kubectl get all NAME READY STATUS RESTARTS AGE pod/command3 0/1 CrashLoopBackOff 65 (4m59s ago) 20h pod/mc1 2/2 Running 0 77m NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE service/kubernetes ClusterIP 10.96.0.1 443/TCP 115d "
            }
        );
    index.add(
            {
                id:  46 ,
                href: "\/docs\/kubernetes\/deployments-and-replication\/",
                title: "Deployments and replication",
                description: " Use Cases for Multi-Container Pods  ",
                content: "Kubectl explain Deployment link k8sworkshop git:(main) ✗ kubectl explain deployments KIND: Deployment VERSION: apps/v1 DESCRIPTION: Deployment enables declarative updates for Pods and ReplicaSets. FIELDS: apiVersion APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources kind Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds metadata Standard object's metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata spec Specification of the desired behavior of the Deployment. status Most recently observed status of the Deployment. ➜ k8sworkshop git:(main) ✗ Kubectl explain Replicaset link ➜ k8sworkshop git:(main) ✗ kubectl explain rs KIND: ReplicaSet VERSION: apps/v1 DESCRIPTION: ReplicaSet ensures that a specified number of pod replicas are running at any given time. FIELDS: apiVersion APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources kind Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds metadata If the Labels of a ReplicaSet are empty, they are defaulted to be the same as the Pod(s) that the ReplicaSet manages. Standard object's metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata spec Spec defines the specification of the desired behavior of the ReplicaSet. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status status Status is the most recently observed status of the ReplicaSet. This data may be out of date by some window of time. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status ➜ k8sworkshop git:(main) ✗ Overview on Kubernetes Deployment linkKubernetes also provides Deployment resource that sits on top of ReplicaSets and enables declarative application updates.\nWhen running Pods in datacenter, additional features may be needed such as scalability, updates and rollback etc which are offered by Deployments A Deployment is a higher-level resource meant for deploying applications and updating them declaratively, instead of doing it through a ReplicationController or a ReplicaSet, which are both considered lower-level concepts. When you create a Deployment, a ReplicaSet resource is created underneath. Replica-Sets replicate and manage pods, as well. When using a Deployment, the actual pods are created and managed by the Deployment’s ReplicaSets, not by the Deployment directly Create Kubernetes Deployment resource linkIn the deployment spec, following properties are managed:\nreplicas: explains how many copies of each Pod should be running strategy: explains how Pods should be updated selector: uses matchLabels to identify how labels are matched against the Pod template: contains the pod specification and is used in a deployment to create Pods scale deployment: kubectl scale deployment nginx-deployment --replicas 10 set image : kubectl set image deployment nginx-deployment nginx=nginx:1.91 --record rollout undo: kubectl rollout undo deployment nginx-deployment we will create a new deployment using kubectl using –dry-run so that actually a deployment is not created but just verified\n➜ k8sworkshop git:(main) ✗ kubectl create deployment nginx-deploy --image=nginx --dry-run=client -o yaml \u003e nginx-deploy.yml -- Basic Template to cleanup [root@controller ~]# cat nginx-deploy.yml apiVersion: apps/v1 kind: Deployment metadata: creationTimestamp: null labels: app: nginx-deploy name: nginx-deploy spec: replicas: 1 selector: matchLabels: app: nginx-deploy strategy: {} template: metadata: creationTimestamp: null labels: app: nginx-deploy spec: containers: - image: nginx name: nginx resources: {} --- #Modify the contents of the deployment template # cat nginx-deploy.yml apiVersion: apps/v1 kind: Deployment metadata: labels: type: dev name: nginx-deploy spec: replicas: 2 selector: matchLabels: type: dev template: metadata: labels: type: dev spec: containers: - image: nginx name: nginx ➜ k8sworkshop git:(main) ✗ kubectl create -f nginx-deploy.yml deployment.apps/nginx-deploy created ➜ k8sworkshop git:(main) ✗ kubectl rollout status deployment nginx-deploy deployment \"nginx-deploy\" successfully rolled out ➜ k8sworkshop git:(main) ✗ kubectl get pods NAME READY STATUS RESTARTS AGE nginx-deploy-66dc98fc6f-6ws8k 1/1 Running 0 37s nginx-deploy-66dc98fc6f-btk6j 1/1 Running 0 37s kubectl describe Pod ➜ k8sworkshop git:(main) ✗ kubectl describe Pod nginx-deploy-66dc98fc6f-6ws8k Name: nginx-deploy-66dc98fc6f-6ws8k Namespace: default Priority: 0 Service Account: default Node: minikube/192.168.49.2 Start Time: Tue, 07 Mar 2023 02:12:20 +0530 Labels: pod-template-hash=66dc98fc6f type=dev Annotations: Status: Running IP: 172.17.0.4 IPs: IP: 172.17.0.4 Controlled By: ReplicaSet/nginx-deploy-66dc98fc6f Containers: nginx: Container ID: docker://79a285bd1e02d96c1880958d20aa4cf64060c630ecb03dac37665994a8b4574a Image: nginx Image ID: docker-pullable://nginx@sha256:aa0afebbb3cfa473099a62c4b32e9b3fb73ed23f2a75a65ce1d4b4f55a5c2ef2 Port: Host Port: State: Running Started: Tue, 07 Mar 2023 02:12:25 +0530 Ready: True Restart Count: 0 Environment: Mounts: /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-7wpgb (ro) Conditions: Type Status Initialized True Ready True ContainersReady True PodScheduled True Volumes: kube-api-access-7wpgb: Type: Projected (a volume that contains injected data from multiple sources) TokenExpirationSeconds: 3607 ConfigMapName: kube-root-ca.crt ConfigMapOptional: DownwardAPI: true QoS Class: BestEffort Node-Selectors: Tolerations: node.kubernetes.io/not-ready:NoExecute op=Exists for 300s node.kubernetes.io/unreachable:NoExecute op=Exists for 300s Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 93s default-scheduler Successfully assigned default/nginx-deploy-66dc98fc6f-6ws8k to minikube Normal Pulling 92s kubelet Pulling image \"nginx\" Normal Pulled 88s kubelet Successfully pulled image \"nginx\" in 4.282948252s Normal Created 88s kubelet Created container nginx Normal Started 88s kubelet Started container nginx ➜ k8sworkshop git:(main) ✗ ➜ k8sworkshop git:(main) ✗ kubectl get rs NAME DESIRED CURRENT READY AGE nginx-deploy-66dc98fc6f 2 2 2 3m30s Using Kubernetes RollingUpdate linkYou have two ways of updating all those pods. You can do one of the following:\nRecreate: Delete all existing pods first and then start the new ones. This will lead to a temporary unavailability. RollingUpdate: Updates Pod one at a time to guarantee availability of the application. This is the preferred approach and you can further tune its behaviour. The RollingUpdate strategy options are used to guarantee a certain minimal and maximal amount of Pods to be always available:\nmaxUnavailable: The maximum number of Pods that can be unavailable during updating. The value could be a percentage (the default is 25%). maxSurge: The maximum number of Pods that can be created over the desired number of ReplicaSet during updating. the value of maxSurge cannot be 0 vim rolling-nginx.yml ---- # cat rolling-nginx.yml apiVersion: apps/v1 kind: Deployment metadata: name: rolling-nginx spec: replicas: 4 strategy: type: RollingUpdate rollingUpdate: maxSurge: 1 maxUnavailable: 1 selector: matchLabels: app: rolling-nginx template: metadata: labels: app: rolling-nginx spec: containers: - name: nginx image: nginx:1.9 ➜ k8s101 git:(main) ✗ kubectl create -f rolling-nginx.yml deployment.apps/rolling-nginx created ➜ k8s101 git:(main) ✗ kubectl get pods NAME READY STATUS RESTARTS AGE nginx-deploy-66dc98fc6f-6ws8k 1/1 Running 0 15m nginx-deploy-66dc98fc6f-btk6j 1/1 Running 0 15m rolling-nginx-77f89bcf9c-2cgps 0/1 ContainerCreating 0 13s rolling-nginx-77f89bcf9c-l7cvh 0/1 ContainerCreating 0 13s rolling-nginx-77f89bcf9c-nx888 0/1 ContainerCreating 0 13s rolling-nginx-77f89bcf9c-xn2z5 0/1 ContainerCreating 0 13s ➜ k8s101 git:(main) ✗ kubectl get deployments NAME READY UP-TO-DATE AVAILABLE AGE nginx-deploy 2/2 2 2 15m rolling-nginx 1/4 4 1 50s ➜ k8s101 git:(main) ✗ kubectl get event --field-selector involvedObject.name=rolling-nginx-77f89bcf9c-xn2z5 LAST SEEN TYPE REASON OBJECT MESSAGE 99s Normal Scheduled pod/rolling-nginx-77f89bcf9c-xn2z5 Successfully assigned default/rolling-nginx-77f89bcf9c-xn2z5 to minikube 99s Normal Pulling pod/rolling-nginx-77f89bcf9c-xn2z5 Pulling image \"nginx:1.9\" 43s Normal Pulled pod/rolling-nginx-77f89bcf9c-xn2z5 Successfully pulled image \"nginx:1.9\" in 56.078369942s 43s Normal Created pod/rolling-nginx-77f89bcf9c-xn2z5 Created container nginx 43s Normal Started pod/rolling-nginx-77f89bcf9c-xn2z5 Started container nginx Check rollout history linkBut why CHANGE-CAUSE is showing NONE? It is because we have not used –record while creating our deployment. The –record argument will add the command under CHANGE-CAUSE for each revision history\nk8s101 git:(main) ✗ kubectl rollout history deployment rolling-nginx deployment.apps/rolling-nginx REVISION CHANGE-CAUSE 1 ➜ k8s101 git:(main) ✗ kubectl delete deployment rolling-nginx deployment.apps \"rolling-nginx\" deleted this time I will use –record along with kubectl create: link k8s101 git:(main) ✗ kubectl create -f rolling-nginx.yml --record Flag --record has been deprecated, --record will be removed in the future deployment.apps/rolling-nginx created ➜ k8s101 git:(main) ✗ kubectl rollout history deployment rolling-nginx deployment.apps/rolling-nginx REVISION CHANGE-CAUSE 1 kubectl create --filename=rolling-nginx.yml --record=true ➜ k8s101 git:(main) ✗ kubectl set image deployment rolling-nginx nginx=nginx:1.15 --record Flag --record has been deprecated, --record will be removed in the future deployment.apps/rolling-nginx image updated Monitor the rolling update status linkTo monitor the rollout status you can use:\n➜ k8s101 git:(main) ✗ kubectl set image deployment rolling-nginx nginx=nginx:1.16 --record Flag --record has been deprecated, --record will be removed in the future deployment.apps/rolling-nginx image updated ➜ k8s101 git:(main) ✗ kubectl rollout pause deployment rolling-nginx deployment.apps/rolling-nginx paused ➜ k8s101 git:(main) ✗ kubectl rollout status deployment rolling-nginx deployment \"rolling-nginx\" successfully rolled out ➜ k8s101 git:(main) ✗ kubectl get pods -l app=rolling-nginx NAME READY STATUS RESTARTS AGE rolling-nginx-55fc56899f-8hlm4 1/1 Running 0 2m30s rolling-nginx-55fc56899f-g4b6p 1/1 Running 0 2m30s rolling-nginx-55fc56899f-hnbs8 1/1 Running 0 2m22s rolling-nginx-55fc56899f-jngcd 1/1 Running 0 2m21s ➜ k8s101 git:(main) ✗ kubectl rollout resume deployment rolling-nginx deployment.apps/rolling-nginx resumed Rolling back (undo) an update linkTo monitor the rollout status you can use:\n➜ k8s101 git:(main) ✗ kubectl rollout history deployment rolling-nginx deployment.apps/rolling-nginx REVISION CHANGE-CAUSE 1 kubectl create --filename=rolling-nginx.yml --record=true 2 kubectl set image deployment rolling-nginx nginx=nginx:1.15 --record=true 3 kubectl set image deployment rolling-nginx nginx=nginx:1.16 --record=true ➜ k8s101 git:(main) ✗ kubectl rollout undo deployment rolling-nginx --to-revision=2 deployment.apps/rolling-nginx rolled back ➜ k8s101 git:(main) ✗ kubectl rollout status deployment rolling-nginx deployment \"rolling-nginx\" successfully rolled out ➜ k8s101 git:(main) ✗ kubectl delete pod --all pod \"nginx-deploy-66dc98fc6f-6ws8k\" deleted pod \"nginx-deploy-66dc98fc6f-btk6j\" deleted pod \"rolling-nginx-b746d459b-874mv\" deleted pod \"rolling-nginx-b746d459b-gtgpk\" deleted pod \"rolling-nginx-b746d459b-txc5j\" deleted pod \"rolling-nginx-b746d459b-vw4rf\" deleted ➜ k8s101 git:(main) ✗ kubectl delete deployment --all deployment.apps \"nginx-deploy\" deleted deployment.apps \"rolling-nginx\" deleted "
            }
        );
    index.add(
            {
                id:  47 ,
                href: "\/docs\/docker\/dockerfile-workdir\/",
                title: "Dockerfile WORKDIR",
                description: "The WORKDIR command is used to define the working directory of a Docker container at any given time. The command is specified in the Dockerfile.\nAny RUN, CMD, ADD, COPY, or ENTRYPOINT command will be executed in the specified working directory.\nWORKDIR instruction Dockerfile for Docker Quick Start link FROM ubuntu WORKDIR /var/www/html RUN apt-get update \u0026\u0026 apt-get install -y nginx COPY index.html . ENTRYPOINT [\"nginx\", \"-g\", \"daemon off;\"] build dockerfile link docker build -t sangam14/workdir-dockerfile -f dockerfile.workdir . run docker container link docker run -p 80:80 sangam14/workdir-dockerfile output\n",
                content: "The WORKDIR command is used to define the working directory of a Docker container at any given time. The command is specified in the Dockerfile.\nAny RUN, CMD, ADD, COPY, or ENTRYPOINT command will be executed in the specified working directory.\nWORKDIR instruction Dockerfile for Docker Quick Start link FROM ubuntu WORKDIR /var/www/html RUN apt-get update \u0026\u0026 apt-get install -y nginx COPY index.html . ENTRYPOINT [\"nginx\", \"-g\", \"daemon off;\"] build dockerfile link docker build -t sangam14/workdir-dockerfile -f dockerfile.workdir . run docker container link docker run -p 80:80 sangam14/workdir-dockerfile output\n"
            }
        );
    index.add(
            {
                id:  48 ,
                href: "\/docs\/kubernetes\/rbac\/",
                title: "RBAC",
                description: "Manage role based access control (RBAC)",
                content: "Steps to Set Up X509 Certificate Authentication link mkdir newusercrt cd newusercrt openssl genrsa --out sangam.key 2048 openssl req -new -key sangam.key -out sangam.csr -subj \"/CN=sangam/O=group1\" This creates a private key (sangam.key) and a CSR (sangam.csr). The CN (Common Name) is set to the user’s name, and O (Organization) is an optional field to specify a group.\nCreate a CertificateSigningRequest in Kubernetes linkEncode the CSR in base64 and create a YAML file for the Kubernetes CSR object:\ncat sangam.csr | base64 | tr -d '\\n' LS0tLS1CRUdJTiBDRVJUSUZJQ0FURSBSRVFVRVNULS0tLS0KTUlJQ1p6Q0NBVThDQVFBd0lqRVBNQTBHQTFVRUF3d0djMkZ1WjJGdE1ROHdEUVlEVlFRS0RBWm5jbTkxY0RFdwpnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDelJOOHNFYWNkcmsxdVlPTndNejRaCjVqUUYwUTBNNnBqTk9GTVQxM3JMVXV1NzBzMkNhR1lVUEV4bk52Q01kOTk0cTU3bUc0Y3Z6Ny96VTdpcVFRQ3UKcjc5b0xCVEk5YjlPT0EzZXF2TC9uenZrbGxqUGpCcUFuZitYOGRPdEx4ZTJOYnlja1cyamNHOThKdSsvaVR4YgpiWkVHaXZDeHVXQmNiMktnRHRuczYyZHhxWi8vdU9NVW1nK0J3ZFBBbkx0dUl3enR3ZzYzZlNrMHNSSCt3VGwzCjB3ZFVSblJWU1QzaDE4ZXI4ejBHS3g5RFBZSlBjRzJFT2FUTU5uaklUUUoyRzkrNWdDMFBBa1V1SGJNdjQ4NXQKN3U5alZJT09SUVB6bHd5VHdwQndtV0NjR3ZwNnNKNEtzNmRicWVvc2lHem1KbnZ3QjJxejYzZm5ubmI5aElaMwpBZ01CQUFHZ0FEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFSZ1FHVU13TDFZRmhlZHhNOE9HUHY4ODJ6SEpPCjRRd1IzaW8ySXUyZG9Dc3hGL2RhNTV4K0VNQlBwN1Y5UXhHM2tyTitDNDgyOUdrcTh1WHk1MVJENjNMeWNkM20KdGVHQkZVMEZXeTVUYmVzTjJoMVdEQlMySDYrUmtEelI1dHZzclo3dnlZb2crbDQrckxVRFJNM2t4UWZ3WkExdQoyOTdTSWhQUllqSjJXd2xZeU9mMUJhUDRpa1NtT1JkaVZ5OWNKOGFKZDBjQkFBQ3JxVlppTGRtSTNlT3g4bUtnCklwL3lJRzN5K2hhNTFXQUVWdGdtdllPRVphMVRqZFhsWFRMc3VZNzNwdGJyTFBJYldUVVozdytBcHJwWjVCc3QKWXd3Z2F2NTROQmd1TzVKMTlRL3hlK1RBZXRDdTBVdmN6aHhLUVVFT0ZnMHZSREVNNUgzaG1yYll6QT09Ci0tLS0tRU5EIENFUlRJRklDQVRFIFJFUVVFU1QtLS0tLQo=% sangam-csr.yaml with following content linkcat «EOF | kubectl apply -f - apiVersion: certificates.k8s.io/v1 kind: CertificateSigningRequest metadata: name: sangam spec: groups:\nsystem:authenticated request: $(cat sangam.csr | base64 | tr -d “\\n”) signerName: kubernetes.io/kube-apiserver-client usages: client auth EOF output\ncat \u003c"
            }
        );
    index.add(
            {
                id:  49 ,
                href: "\/docs\/containersecurity\/security-linting-of-dockerfiles\/",
                title: "Security Linting of Dockerfiles",
                description: " hadolint ",
                content: "hadolint linkHadolint comes with a robust and easy to use CLI. You can install it on a variety of platforms, including macOS using brew install hadolint.\nConfirm the installation was successful with the following command:\n$ hadolint --help hadolint - Dockerfile Linter written in Haskell We’ll use the following Dockerfile as an example, which can be used to run a Python Django web server. On the surface, it looks fine but we’ll see it has a lot of problems.\nFROM python MAINTAINER xyx LABEL org.website=\"xyz\" RUN mkdir app \u0026\u0026 cd app COPY requirements.txt ./ RUN pip install --upgrade pip RUN pip install -r requirements.txt COPY . . CMD python manage.py runserver 0.0.0.0:80000 Let’s run it through Hadolint:\n$ hadolint Dockerfile Dockerfile:1 DL3006 warning: Always tag the version of an image explicitly Dockerfile:1 DL3049 info: Label `maintainer` is missing. Dockerfile:2 DL4000 error: MAINTAINER is deprecated Dockerfile:3 DL3052 warning: Label `org.website` is not a valid URL. Dockerfile:5 DL3003 warning: Use WORKDIR to switch to a directory Dockerfile:5 SC2164 warning: Use 'cd ... || exit' or 'cd ... || return' in case cd fails. Dockerfile:7 DL3045 warning: `COPY` to a relative destination without `WORKDIR` set. Dockerfile:8 DL3013 warning: Pin versions in pip. Instead of `pip install ` use `pip install ==` or `pip install --requirement ` Dockerfile:8 DL3042 warning: Avoid use of cache directory with pip. Use `pip install --no-cache-dir ` Dockerfile:9 DL3059 info: Multiple consecutive `RUN` instructions. Consider consolidation. Dockerfile:9 DL3042 warning: Avoid use of cache directory with pip. Use `pip install --no-cache-dir ` Dockerfile:11 DL3045 warning: `COPY` to a relative destination without `WORKDIR` set. Dockerfile:13 DL3025 warning: Use arguments JSON notation for CMD and ENTRYPOINT arguments Every violation takes on the following structure:\nA rule code is prefixed with either DL or SC. The DL prefix means the rule comes from Hadolint directly. The SC prefix means the rule comes from SpellCheck which is a static analysis tool for shell scripts that comes with Hadolint out of the box. You can find the combined list of rules here.\nEvery rule has a dedicated documentation page that lists code examples, rationale and other important details. See the dedicated page for DL3006 here.\nYou can ignore one or more rules using the --ignore RULECODE option:\n$ hadolint --ignore DL3013 --ignore DL3042 Dockerfile You can also ignore rules within the Dockerfile inline. I prefer this approach because you can exclude rule codes on a per-line basis and it’s more clear where the violation is actually happening.\n# hadolint ignore=DL3013 RUN pip install --upgrade pip Hadolint has an active open-source community. New rule codes are added on a regular basis so be sure to check you’re running the latest version of Hadolint every so often.\nSeverity level linkThe severity level indicates how critical a violation is. There are six levels: error, warning, info, style, ignore, and none.\nThe CLI includes a –failure-threshold (abbreviated as -t) to exclude certain severity levels from causing a failure. For example, if you only want Hadolint to fail on error violations.\n$ hadolint -t error Dockerfile Note, violations from other severity levels will still be reported but they won’t cause a failure.\nIf you don’t agree with a rule code’s severity level, you can easily change it using the – RULECODE option. For example, the following command upgrades DL3006 to error and downgrades DL3045 to info (both codes are warning by default):\n$ hadolint --error DL3006 --info DL3045 Dockerfile Dockerfile:1 DL3006 error: Always tag the version of an image explicitly Dockerfile:7 DL3045 info: `COPY` to a relative destination without `WORKDIR` set. Fix the Dockerfile linkWorking through each error one-by-one is a fantastic exercise for learning about Dockerfile best practices. As mentioned above, every rule has a very clear and detailed documentation page. Give it a shot and revisit this post when you’re done.\nAt this point, Hadolint should report no errors. Your file should look similar to this:\nFROM python:3.10 LABEL maintainer=\"xyz\" LABEL org.website=\"xyz\" WORKDIR /app COPY requirements.txt ./ # hadolint ignore=DL3013 RUN pip install --upgrade --no-cache-dir pip \u0026\u0026 \\ pip install --no-cache-dir -r requirements.txt COPY . . CMD [\"python\", \"manage.py\", \"runserver\", \"0.0.0.0:8000\"] Integrations Hadolint includes many convenient integrations for automatically running the linter throughout the development process. My favorites are:\nVS Code: run Hadolint directly in your editor pre-commit: run Hadolint on every git commit GitHub Actions: run Hadolint in GitHub CI/CD\n"
            }
        );
    index.add(
            {
                id:  50 ,
                href: "\/docs\/kubernetes\/configmap\/",
                title: "ConfigMap ",
                description: " kubernetes Config ",
                content: "craete index-html-configmap.yaml with following content link apiVersion: v1 kind: ConfigMap metadata: name: index-html-configmap namespace: default data: index.html: | Welcome Hi! This is a configmap Index file ➜ k8s101 git:(main) ✗ kubectl apply -f index-html-configmap.yaml configmap/index-html-configmap created craete nginx.yaml with following content link apiVersion: apps/v1 kind: Deployment metadata: name: nginx-deployment namespace: default spec: selector: matchLabels: app: nginx replicas: 2 template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:latest ports: - containerPort: 80 volumeMounts: - name: nginx-index-file mountPath: /usr/share/nginx/html/ volumes: - name: nginx-index-file configMap: name: index-html-configmap ➜ k8s101 git:(main) ✗ kubectl apply -f ngnix.yaml deployment.apps/nginx-deployment created craete nginx-service.yaml with following content link apiVersion: v1 kind: Service metadata: name: nginx-service namespace: default spec: selector: app: nginx type: NodePort ports: - port: 80 nodePort: 32000 targetPort: 80 ➜ k8s101 git:(main) ✗ kubectl apply -f nginx-service.yaml service/nginx-service created ➜ k8s101 git:(main) ✗ kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE kubernetes ClusterIP 10.96.0.1 443/TCP 14h nginx-service NodePort 10.105.136.166 80:32000/TCP 49s web NodePort 10.100.132.142 8080:30646/TCP 123m web2 NodePort 10.98.210.102 8080:31990/TCP 61m ➜ k8s101 git:(main) ✗ ➜ k8s101 git:(main) ✗ minikube service nginx-service |-----------|---------------|-------------|---------------------------| | NAMESPACE | NAME | TARGET PORT | URL | |-----------|---------------|-------------|---------------------------| | default | nginx-service | 80 | http://192.168.49.2:32000 | |-----------|---------------|-------------|---------------------------| 🏃 Starting tunnel for service nginx-service. |-----------|---------------|-------------|------------------------| | NAMESPACE | NAME | TARGET PORT | URL | |-----------|---------------|-------------|------------------------| | default | nginx-service | | http://127.0.0.1:53149 | |-----------|---------------|-------------|------------------------| 🎉 Opening service default/nginx-service in default browser... ❗ Because you are using a Docker driver on darwin, the terminal needs to be open to run it. you will see output in browser link Welcome Hi! This is a configmap Index file "
            }
        );
    index.add(
            {
                id:  51 ,
                href: "\/docs\/docker\/dockerfile-run\/",
                title: "Dockerfile RUN ",
                description: "The RUN command is the central executing directive for Dockerfiles. It takes a command as its argument and runs it to form the image. Unlike CMD, it actually is used to build the image (forming another layer on top of the previous one which is committed).\ncreate dockerfile with following content link FROM ubuntu RUN id RUN useradd --create-home -m -s /bin/bash dev # Add a fun prompt for dev user of my-app # whale: \"\\xF0\\x9F\\x90\\xB3\" # alien:\"\\xF0\\x9F\\x91\\xBD\" # fish:\"\\xF0\\x9F\\x90\\xA0\" # elephant:\"\\xF0\\x9F\\x91\\xBD\" # moneybag:\"\\xF0\\x9F\\x92\\xB0\" RUN echo 'PS1=\"\\[$(tput bold)$(tput setaf 4)\\]my-app $(echo -e \"\\xF0\\x9F\\x90\\xB3\") \\[$(tput sgr0)\\] [\\\\u@\\\\h]:\\\\W \\\\$ \"' \u003e\u003e /home/dev/.bashrc \u0026\u0026 \\ echo 'alias ls=\"ls --color=auto\"' \u003e\u003e /home/dev/.bashrc RUN mkdir /myvol RUN echo \"hello DQS Guide\" \u003e /myvol/greeting RUN [\"chmod\", \"664\", \"/myvol/greeting\"] RUN [\"chown\", \"dev:dev\", \"/myvol/greeting\"] VOLUME /myvol USER dev RUN id CMD [\"/bin/bash\"] build docker container link ➜ docker build -t sangam14/run-dockerfile -f dockerfile.run . run docer container link ➜ Dockerfile git:(main) ✗ docker run -it sangam14/run-dockerfile added user as my-app with whale emoji link my-app 🐳 [dev@0270ab5e6f0c]:/ $ ls bin boot dev etc home lib media mnt myvol opt proc root run sbin srv sys tmp usr var my-app 🐳 [dev@0270ab5e6f0c]:/ $ cat myvol/greeting hello DQS Guide ",
                content: "The RUN command is the central executing directive for Dockerfiles. It takes a command as its argument and runs it to form the image. Unlike CMD, it actually is used to build the image (forming another layer on top of the previous one which is committed).\ncreate dockerfile with following content link FROM ubuntu RUN id RUN useradd --create-home -m -s /bin/bash dev # Add a fun prompt for dev user of my-app # whale: \"\\xF0\\x9F\\x90\\xB3\" # alien:\"\\xF0\\x9F\\x91\\xBD\" # fish:\"\\xF0\\x9F\\x90\\xA0\" # elephant:\"\\xF0\\x9F\\x91\\xBD\" # moneybag:\"\\xF0\\x9F\\x92\\xB0\" RUN echo 'PS1=\"\\[$(tput bold)$(tput setaf 4)\\]my-app $(echo -e \"\\xF0\\x9F\\x90\\xB3\") \\[$(tput sgr0)\\] [\\\\u@\\\\h]:\\\\W \\\\$ \"' \u003e\u003e /home/dev/.bashrc \u0026\u0026 \\ echo 'alias ls=\"ls --color=auto\"' \u003e\u003e /home/dev/.bashrc RUN mkdir /myvol RUN echo \"hello DQS Guide\" \u003e /myvol/greeting RUN [\"chmod\", \"664\", \"/myvol/greeting\"] RUN [\"chown\", \"dev:dev\", \"/myvol/greeting\"] VOLUME /myvol USER dev RUN id CMD [\"/bin/bash\"] build docker container link ➜ docker build -t sangam14/run-dockerfile -f dockerfile.run . run docer container link ➜ Dockerfile git:(main) ✗ docker run -it sangam14/run-dockerfile added user as my-app with whale emoji link my-app 🐳 [dev@0270ab5e6f0c]:/ $ ls bin boot dev etc home lib media mnt myvol opt proc root run sbin srv sys tmp usr var my-app 🐳 [dev@0270ab5e6f0c]:/ $ cat myvol/greeting hello DQS Guide "
            }
        );
    index.add(
            {
                id:  52 ,
                href: "\/docs\/containersecurity\/static-analysis-of-container-images-library-for-container\/",
                title: "Static Analysis of container images library for container ",
                description: " Packetstreamer ",
                content: "Packetstreamer linkSBOM and vulnerability scanner for container images\nhttps://github.com/deepfence/package-scanner\nDownload binary\npackage-scanner_Darwin_arm64.tar.gz package-scanner_Darwin_x86_64.tar.gz package-scanner_Linux_arm64.tar.gz package-scanner_Linux_x86_64.tar.gz package-scanner_darwin_amd64_v1 package-scanner_darwin_arm64 package-scanner_linux_amd64_v1 package-scanner_linux_arm64 ClI usage\nscan a docker image for vulnerabilities\n./package-scannner -source nginx:latest Scan a docker images , filter for critical vulnerabilities\n./package-scanner -source nginx:latest -severity critical Scan a docker images with CVEs\n./package-scanner -source nginx:latest INFO[2023-01-06T15:10:15+05:30] autodetect.go:91 trying to connect to endpoint 'unix:///var/run/docker.sock' with timeout '10s' INFO[2023-01-06T15:10:15+05:30] autodetect.go:116 connected successfully using endpoint: unix:///var/run/docker.sock INFO[2023-01-06T15:10:15+05:30] autodetect.go:91 trying to connect to endpoint 'unix:///run/containerd/containerd.sock' with timeout '10s' WARN[2023-01-06T15:10:25+05:30] autodetect.go:124 could not connect to endpoint 'unix:///run/containerd/containerd.sock': context deadline exceeded INFO[2023-01-06T15:10:25+05:30] autodetect.go:91 trying to connect to endpoint 'unix:///run/k3s/containerd/containerd.sock' with timeout '10s' WARN[2023-01-06T15:10:35+05:30] autodetect.go:124 could not connect to endpoint 'unix:///run/k3s/containerd/containerd.sock': context deadline exceeded INFO[2023-01-06T15:10:35+05:30] autodetect.go:91 trying to connect to endpoint 'unix:///var/run/crio/crio.sock' with timeout '10s' WARN[2023-01-06T15:10:35+05:30] autodetect.go:146 could not connect to endpoint 'unix:///var/run/crio/crio.sock': dial unix /var/run/crio/crio.sock: connect: no such file or directory INFO[2023-01-06T15:10:35+05:30] autodetect.go:184 container runtime detected: docker INFO[2023-01-06T15:10:35+05:30] run-once.go:57 generating sbom for nginx:latest ... INFO[2023-01-06T15:10:49+05:30] run-once.go:82 scanning sbom for vulnerabilities ... summary: total=142 critical=8 high=42 medium=79 low=13 +------------------+-----------------+-------------------------------------+----------------------------------------------------+ | CVE ID | SEVERITY | PACKAGE | DESCRIPTION | +------------------+-----------------+-------------------------------------+----------------------------------------------------+ | CVE-2019-1010022 | critical | libc-bin:2.31-13+deb11u5 | ** DISPUTED ** GNU Libc | | | | | current is affected by: | | | | | Mitigation bypass. The impact | | | | | is: Attacker may bypass | | | | | stack guard protection. The | | | | | component is: nptl. The attack | | | | | vector is: Exploit stack | | | | | buffer overflow vulnerability | | | | | and use this bypass | | | | | vulnerability to bypass stack | | | | | guard. NOTE: Upstream comments | | | | | indicate \"this is being | | | | | treated as a non-security bug | | | | | and no real threat.\" | | CVE-2019-1010022 | critical | libc6:2.31-13+deb11u5 | ** DISPUTED ** GNU Libc | | | | | current is affected by: | | | | | Mitigation bypass. The impact | | | | | is: Attacker may bypass | | | | | stack guard protection. The | | | | | component is: nptl. The attack | | | | | vector is: Exploit stack | | | | | buffer overflow vulnerability | | | | | and use this bypass | | | | | vulnerability to bypass stack | | | | | guard. NOTE: Upstream comments | | | | | indicate \"this is being | | | | | treated as a non-security bug | | | | | and no real threat.\" | | CVE-2017-9117 | critical | libtiff5:4.2.0-1+deb11u1 | In LibTIFF 4.0.7, the | | | | | program processes BMP images | | | | | without verifying that | | | | | biWidth and biHeight in the | | | | | bitmap-information header | | | | | match the actual input, | | | | | leading to a heap-based buffer | | | | | over-read in bmp2tiff. | | CVE-2019-8457 | critical | libdb5.3:5.3.28+dfsg1-0.8 | SQLite3 from 3.6.0 to and | | | | | including 3.27.2 is vulnerable | | | | | to heap out-of-bound read in | | | | | the rtreenode() function when | | | | | handling invalid rtree tables. | | CVE-2005-2541 | critical | tar:1.34+dfsg-1 | Tar 1.15.1 does not properly | | | | | warn the user when extracting | | | | | setuid or setgid files, | | | | | which may allow local users | | | | | or remote attackers to gain | | | | | privileges. | | CVE-2022-3970 | critical | libtiff5:4.2.0-1+deb11u1 | A vulnerability was found in LibTIFF. | | | | | It has been classified as critical. This | | | | | affects the function TIFFReadRGBATileExt | | | | | of the file libtiff/tif_getimage.c. | | | | | The manipulation leads to integer | | | | | overflow. It is possible to initiate | | | | | the attack remotely. The exploit has | | | | | been disclosed to the public and may | | | | | be used. The name of the patch is | | | | | 227500897dfb07fb7d27f7aa570050e62617e3be. | | | | | It is recommended to apply a patch to fix | | | | | this issue. The identifier VDB-213549 was | | | | | assigned to this vulnerability. | | CVE-2022-32221 | critical | libcurl4:7.74.0-1.3+deb11u3 | When doing HTTP(S) transfers, | | | | | libcurl might erroneously | | | | | use the read callback | | | | | (`CURLOPT_READFUNCTION`) to | | | | | ask for data to send, even | | | | | when the `CURLOPT_POSTFIELDS` | | | | | option has been set, if the | | | | | same handle previously was | | | | | used to issue a `PUT` request | | | | | which used that callback. | | | | | This flaw may surprise the | | | | | application and cause it to | | | | | misbehave and either send off | | | | | the wrong data or use memory | | | | | after free or similar in the | | | | | subsequent `POST` request. The | | | | | problem exists in the logic | | | | | for a reused handle when it is | | | | | changed from a PUT to a POST. | | CVE-2022-32221 | critical | curl:7.74.0-1.3+deb11u3 | When doing HTTP(S) transfers, | | | | | libcurl might erroneously | | | | | use the read callback | | | | | (`CURLOPT_READFUNCTION`) to | | | | | ask for data to send, even | | | | | when the `CURLOPT_POSTFIELDS` | | | | | option has been set, if the | | | | | same handle previously was | | | | | used to issue a `PUT` request | | | | | which used that callback. | | | | | This flaw may surprise the | | | | | application and cause it to | | | | | misbehave and either send off | | | | | the wrong data or use memory | | | | | after free or similar in the | | | | | subsequent `POST` request. The | | | | | problem exists in the logic | | | | | for a reused handle when it is | | | | | changed from a PUT to a POST. | | CVE-2021-33560 | high | libgcrypt20:1.8.7-6 | Libgcrypt before 1.8.8 and | | | | | 1.9.x before 1.9.3 mishandles | | | | | ElGamal encryption because | | | | | it lacks exponent blinding | | | | | to address a side-channel | | | | | attack against mpi_powm, | | | | | and the window size is not | | | | | chosen appropriately. This, | | | | | for example, affects use of | | | | | ElGamal in OpenPGP. | | CVE-2019-20838 | high | libpcre3:2:8.39-13 | libpcre in PCRE before 8.43 | | | | | allows a subject buffer | | | | | over-read in JIT when UTF | | | | | is disabled, and \\X or \\R | | | | | has more than one fixed | | | | | quantifier, a related issue to | | | | | CVE-2019-20454. | | CVE-2022-29458 | high | ncurses-base:6.2+20201114-2 | ncurses 6.3 before patch | | | | | 20220416 has an out-of-bounds | | | | | read and segmentation | | | | | violation in convert_strings | | | | | in tinfo/read_entry.c in the | docker image standlone scanner link docker run --rm -v /var/run/docker.sock:/var/run/docker.sock sangam14/package-scanner:latest -source nginx:latest "
            }
        );
    index.add(
            {
                id:  53 ,
                href: "\/docs\/containersecurity\/docker-host-security-configurations\/",
                title: "Docker host security configurations",
                description: "SecComp and AppArmor linkDocker works with major Linux MAC technologies such as AppArmor and SELinux.\nDepending on your Linux distribution, Docker applies a default AppArmor profile to all new containers. According to the Docker documentation, this default profile is “moderately protective while providing wide application compatibility”.\nDocker also lets you start containers without a policy applied, as well as giving you the ability to customize policies to meet specific requirements. This is also very powerful, but can also be prohibitively complex.\n",
                content: "SecComp and AppArmor linkDocker works with major Linux MAC technologies such as AppArmor and SELinux.\nDepending on your Linux distribution, Docker applies a default AppArmor profile to all new containers. According to the Docker documentation, this default profile is “moderately protective while providing wide application compatibility”.\nDocker also lets you start containers without a policy applied, as well as giving you the ability to customize policies to meet specific requirements. This is also very powerful, but can also be prohibitively complex.\nseccomp linkDocker uses seccomp, in filter mode, to limit the syscalls a container can make to the host’s kernel.\nAs per the Docker security philosophy, all new containers get a default seccomp profile configured with sensible defaults. This is intended to provide moderate security without impacting application compatibility.\nAs always, you can customize seccomp profiles, and you can pass a flag to Docker so that containers can be started without a seccomp profile.\nAs with many of the technologies already mentioned, seccomp is extremely powerful. However, the Linux syscall table is long, and configuring the appropriate seccomp policies can be prohibitively complex.\nConcluding Linux security technologies linkDocker supports most of the important Linux security technologies and ships with sensible defaults that add security but aren’t too restrictive. The figure below shows how these technologies form multiple layers of potential security.\nSome of these technologies can be complicated to customize as they require deep knowledge of how the Linux kernel works. Hopefully, they will get simpler to configure in the future, but for now, the default configurations that ship with Docker might be a good place to start.\nSecComp Exercise 1 link grep SECCOMP /boot/config-$(uname -r) get the fitst test for seccomp in strict mode\n#include #include #include #include #include #include int main(int argc, char **argv) { int output = open(\"output.txt\", O_WRONLY); const char *val = \"test\"; printf(\"Calling prctl() to set seccomp strict mode...\\n\"); prctl(PR_SET_SECCOMP, SECCOMP_MODE_STRICT); printf(\"Writing to an already open file...\\n\"); write(output, val, strlen(val)+1); printf(\"Trying to open file for reading...\\n\"); int input = open(\"output.txt\", O_RDONLY); printf(\"You will not see this message--the process will be killed first\\n\"); } sudo gcc seccomp_stric.c -o seccomp_strict ./seccomp_strict open()system call is not allowed by secccomp strict mode\nget the file ro test for seccomp in filter mode\n#include #include #include #include void main(void) { /* initialize the libseccomp context */ scmp_filter_ctx ctx = seccomp_init(SCMP_ACT_KILL); /* allow exiting */ seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(exit_group), 0); /* allow getting the current pid */ seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(getpid), 0); /* allow changing data segment size, as required by glibc */ seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(brk), 0); /* allow writing up to 512 bytes to fd 1 */ seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(write), 2, SCMP_A0(SCMP_CMP_EQ, 1), SCMP_A2(SCMP_CMP_LE, 512)); /* if writing to any other fd, return -EBADF */ seccomp_rule_add(ctx, SCMP_ACT_ERRNO(EBADF), SCMP_SYS(write), 1, SCMP_A0(SCMP_CMP_NE, 1)); /* load and enforce the filters */ seccomp_load(ctx); seccomp_release(ctx); printf(\"this process is %d\\n\", getpid()); } we have first initiazed the seccomp in filter mode . previouly have used prctl(PR_SET_SECCOMP, SECCOMP_MODE_STRICT); to set the seccomp in strict mode .\nsudo gcc seccomp_bpf.c -o seccomp_bpf install libseccomp-dev\nsudo apt-get install libseccomp-dev sudo gcc seccomp_bpf.c -o seccomp_bpf -lseccomp ./seccomp_bpf output\ninitiating seccomp ... add rule to allow exit_group add rule to allow getpid add rule to allow brk add rule to allow write upto 512 bytes to fd 1 add rule to allow write to any other fd except 1 loading seccomp filter ... inspecting the output one can look here that all the rules added to seccomp BPF folter with a process ID since we have added the rule to allow getpid() system call .\nopen seccomp_bpf.c and add the following code to the end of the file\n#include #include #include #include #include #include /* \"mov al,42; ret\" aka \"return 42\" */ static const unsigned char code[] = \"\\xb0\\x2a\\xc3\"; void main(void) { int fd[2], ret; /* spawn child process, connected by a pipe */ pipe(fd); if (fork() == 0) { close(fd[0]); /* enter mode 1 seccomp and execute untrusted bytecode */ prctl(PR_SET_SECCOMP, SECCOMP_MODE_STRICT); ret = (*(uint8_t(*)())code)(); /* send result over pipe, and exit */ write(fd[1], \u0026ret, sizeof(ret)); syscall(SYS_exit, 0); } else { close(fd[1]); /* read the result from the pipe, and print it */ read(fd[0], \u0026ret, sizeof(ret)); printf(\"untrusted bytecode returned %d\\n\", ret); } } $ suod gcc seccomp_bpf.c -o seccomp_bpf2 -lseccomp $ ./seccomp_bpf2 initiating seccomp ... add rule to allow exit_group add rule to allow getpid add rule to allow brk add rule to allow write upto 512 bytes to fd 1 add rule to allow write to any other fd except 1 loading seccomp filter ... this process is -9 seccomp in docker linkstep 1. check the SECCOMP is working and configured in docker daemon\ndocker info | grep seccomp step 2. check the seccomp profile of the container\ndocker inspect --format='{{json .HostConfig.SecurityOpt}}' seccomp-profiles/deny.json\n{ \"defaultAction\": \"SCMP_ACT_ERRNO\", \"architectures\": [ \"SCMP_ARCH_X86_64\", \"SCMP_ARCH_X86\", \"SCMP_ARCH_X32\" ], \"syscalls\" : [ ] } a docker seccomp profile consists of 3 required entries viz. defaultAction, architectures and syscalls. the possible action of precedence are\nSCMP_ACT_KILL kill with am status of 0x80 + 31(SIGSYS) = 159 SCMP_ACT_TRAP send SIGSYS signal without executing the syscall SCMP_ACT_ERRNO set erno withou executing the syscall SCMP_ACT_TRACE invoke a ptrace to make a decision or set errno to Enosys SCMP_ACT_ALLOW allow the syscall to execute docker run --security-opt seccomp=seccomp-profiles/deny.json -it ubuntu bash using --security-opt seccomp=seccomp-profiles/deny.json we have set the seccomp profile to the container . notice here that since not even single system call is allwoed , the docker container is not able to run .\ncreate sc-custom.json\n{ \"defaultAction\": \"SCMP_ACT_ALLOW\", \"architectures\": [ \"SCMP_ARCH_X86_64\", \"SCMP_ARCH_X86\", \"SCMP_ARCH_X32\" ], \"syscalls\" : [ { \"names\":\"mkdir\", \"action\": \"SCMP_ACT_ALLOW\", \"args::[] }, { \"names\": \"chmod\" , \"action\": \"SCMP_ACT_ERRNO\", \"args::[] } ] } before going to run this commands see what all system call actally take place while hitting mkdir command inside an alphine container using strace\ndocker run -rm -it --security-opt seccomp=unconfined alphine sh apk add strace strace mkdir test exit we have installed strace utility inside the container and then run the mkdir command .the system call oberved include execve , arch_prtctl mprotect brk access openat mkdirat fstat close exit_group . test directory is created inside the container .\nNow run another contaiet with same aphine image with new sc-custom.json seccomp profile .\ndocker run -rm -it --security-opt seccomp=sc-custom.json alphine sh ls mkdir test mkdir: can’t create directory ’test’: Operation not permitted\n# chmod /etc/ clearly , the seccomp profile attavhed is blocking the mkdir and chmod system call . lets comfirm it with strace utility agin\napk add strace strace mkdir test as expected the systm call got rejected with Operation not permitted error . since also we have added a deny condition for chmod system call .\nRun a docker container with the same seccomp file with chmpd over file 777 permission\n$ docker run -rm -it --security-opt seccomp=sc-custom.json alphine sh chmod 777 /etc/passwd this os also denyed by the seccomp profile .\nfor more play with default.json seccomp profile available on moby github repo\napp armor linkappArmor is a MAC (Mandatory Access Control) system that is used to restrict the access of a process to the system resources . its implements a task centered policy with task “profile” being created and loaded from user space\ntasks on the syste, that do not have profi;e defined for them run an uncofined state which is equivalant to standared Linux DAC (Discretionary Access Control) . permissions .\nappArmor works on file paths . it comes as default LSM for ubuntu and SUSE .\nlet check our dpcler version and service status $ docker version $ systemctl status docker check AppArmor in docker info docker info -f '{{json .SecurityOptions}}' chheck AppArmor status . it might required sudo access $ apparmor_status $ sudo apparmor_status this will provide us the infromation about all the profile loaded and the mode of profiles with process\nthe apparmor_status and aa-status can used interchangeably . just check if they are available with your system installation or not gernerally they comes in package call apparmor-utils .\n$ which apparmor_status $ which aa-status and one can gain insight about the number of profile also\n$ sudp aa-status --help $ sudo aa-status --enabled [No error output means apparmor is enabled] $ sudo aa-status --profiles [prints the no of loaded policies ] $ sudo aa-status --enforce [prints the no of enforced policies ] Install an AppArmor Profile generator tool called bane\n# Export the sha256sum for verification. $ export BANE_SHA256=\"e70b1d67333975eb705b08045de9558483daae05792a1ff28dcec28d4c164386\" # Download and check the sha256sum. $ curl -fSL \"https://github.com/genuinetools/bane/releases/download/v0.4.4/bane-freebsd-amd64\" -o \"/usr/local/bin/bane\" \\ \u0026\u0026 echo \"${BANE_SHA256} /usr/local/bin/bane\" | sha256sum -c - \\ \u0026\u0026 chmod a+x \"/usr/local/bin/bane\" $ echo \"bane installed!\" # Run it! $ bane -h get the sample TOML file for creation of AppArmor profile from bane Github\n$ sudo curl -o sample.toml https://raw.githubusercontent.com/genuinetools/bane/master/sample.toml $ ls the parts of the sample.toml file are\na. name key value pair is the name of the profile .\n# name of the profile, we will auto prefix with `docker-` # so the final profile name will be `docker-nginx-sample` Name = \"nginx-sample\" b . Filesystem table with different arrays like ReadOnlyPaths , LogOnWritePaths , WritePaths , ReadPaths , NoAccessPaths , ReadOnlyPaths .\n[Filesystem] # read only paths for the container ReadOnlyPaths = [ \"/bin/**\", \"/boot/**\", \"/dev/**\", \"/etc/**\", \"/home/**\", \"/lib/**\", \"/lib64/**\", \"/media/**\", \"/mnt/**\", \"/opt/**\", \"/proc/**\", \"/root/**\", \"/sbin/**\", \"/srv/**\", \"/tmp/**\", \"/sys/**\", \"/usr/**\", ] # paths where you want to log on write LogOnWritePaths = [ \"/**\" ] # paths where you can write WritablePaths = [ \"/var/run/nginx.pid\" ] # allowed executable files for the container AllowExec = [ \"/usr/sbin/nginx\" ] # denied executable files DenyExec = [ \"/bin/dash\", \"/bin/sh\", \"/usr/bin/top\" ] C. Capabilties table allow array for allowing Linux capabilities .\n# allowed capabilities [Capabilities] Allow = [ \"chown\", \"dac_override\", \"setuid\", \"setgid\", \"net_bind_service\" ] D . Network table with Raw , Packet , Protocols array .\n[Network] # if you don't need to ping in a container, you can probably # set Raw to false and deny network raw Raw = false Packet = false Protocols = [ \"tcp\", \"udp\", \"icmp\" ] build the sample file with bane and check apparmor status if this profile gets enforced\n$ sudo bane sample.toml $ sudo aa-status | grep docker notice that there was already loaded docker-default profile .\n$ sudo ls /etc/apparmor.d/containers/ docker-ngnix-sample sudo cat /etc/apparmor.d/containers/docker-nginx-sample #include profile docker-nginx-sample flags=(attach_disconnected,mediate_deleted) { #include #include #include /bin/** r, /boot/** r, /dev/** r, /etc/** r, /home/** r, /lib/** r, /lib64/** r, /media/** r, /mnt/** r, /opt/** r, /proc/** r, /root/** r, /sbin/** r, /srv/** r, /tmp/** r, /sys/** r, /usr/** r, /var/run/nginx.pid rw, /usr/sbin/nginx ix, deny /bin/dash ix, deny /bin/sh ix, deny /usr/bin/top ix, capability chown, capability dac_override, capability setuid, capability setgid, capability net_bind_service, network raw, network packet, deny network raw, deny network packet, deny network tcp, deny network udp, deny network icmp, } ..... Apply the above bane generated profile to the container before that lets analyze some commands that we can perfectly run within a container not attached to this profile\n$ docker run -it --rm --name without-aa -p 4444:80 nginx bash # sh # dash # bash # exit # exist in this ngnix container we are able to run many variants of shell like bash sh and dash without any error\nnow attach th profile and try to achive the same\n$ docker run -it --rm --name with-aa --security-opt=\"apparmor:docker-nginx-sample\" -p 4444:80 nginx bash As expected, the attached AppArmor profile is not allowing us to spawn shells inside the container. This is how an AppArmor profile can be attached to a Docker container using --security-opt and the different executables and capabilities can be controlled. Till now, we have seen that Docker uses many Linux technologies, such as Capabilities, AppArmor and SecComp for defense. However, AppArmor can protect a Docker Host even when the other lines of defense such as SecComp and Capabilities are not effective. Remember that if you are not explicitly defining any AppArmor profile, the default-docker AppArmor profile will get automatically attached. Until and unless --security-opt apparmor=unconfined is not present during the container run command execution default-docker apparmor profile will be remain loaded .\n"
            }
        );
    index.add(
            {
                id:  54 ,
                href: "\/docs\/docker\/dockerfile-arg\/",
                title: "Dockerfile ARG ",
                description: " FROM alpine ENV key1=\"ENV is stronger than an ARG\" RUN echo ${key1} ARG key1=\"not going to matter\" RUN echo ${key1} RUN echo ${key2} ARG key2=\"defaultValue\" RUN echo ${key2} ENV key2=\"ENV value takes over\" RUN echo ${key2} CMD [\"sh\"] Build Dockerfile link Dockerfile git:(main) ✗ docker build -t sangam14/arg-dockerfile -f dockerfile.arg . [+] Building 3.5s (11/11) FINISHED =\u003e [internal] load build definition from dockerfile.arg 0.0s =\u003e =\u003e transferring dockerfile: 336B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 2.2s =\u003e [auth] library/alpine:pull token for registry-1.docker.io 0.0s =\u003e CACHED [1/6] FROM docker.io/library/alpine@sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a 0.0s =\u003e [2/6] RUN echo ENV is stronger than an ARG 0.2s =\u003e [3/6] RUN echo not going to matter 0.1s =\u003e [4/6] RUN echo ${key2} 0.3s =\u003e [5/6] RUN echo defaultValue 0.2s =\u003e [6/6] RUN echo ENV value takes over 0.3s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:acf55f3ef13e44ff24acf18f9c6320e5af33aa3eb9789274a46f47a9dff6d474 0.0s =\u003e =\u003e naming to docker.io/sangam14/arg-dockerfile Inspect Env variable link docker image inspect --format '{{json .Config}}' sangam14/arg-demo:1.0 | jq '.Env' output\n",
                content: " FROM alpine ENV key1=\"ENV is stronger than an ARG\" RUN echo ${key1} ARG key1=\"not going to matter\" RUN echo ${key1} RUN echo ${key2} ARG key2=\"defaultValue\" RUN echo ${key2} ENV key2=\"ENV value takes over\" RUN echo ${key2} CMD [\"sh\"] Build Dockerfile link Dockerfile git:(main) ✗ docker build -t sangam14/arg-dockerfile -f dockerfile.arg . [+] Building 3.5s (11/11) FINISHED =\u003e [internal] load build definition from dockerfile.arg 0.0s =\u003e =\u003e transferring dockerfile: 336B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 2.2s =\u003e [auth] library/alpine:pull token for registry-1.docker.io 0.0s =\u003e CACHED [1/6] FROM docker.io/library/alpine@sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a 0.0s =\u003e [2/6] RUN echo ENV is stronger than an ARG 0.2s =\u003e [3/6] RUN echo not going to matter 0.1s =\u003e [4/6] RUN echo ${key2} 0.3s =\u003e [5/6] RUN echo defaultValue 0.2s =\u003e [6/6] RUN echo ENV value takes over 0.3s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:acf55f3ef13e44ff24acf18f9c6320e5af33aa3eb9789274a46f47a9dff6d474 0.0s =\u003e =\u003e naming to docker.io/sangam14/arg-dockerfile Inspect Env variable link docker image inspect --format '{{json .Config}}' sangam14/arg-demo:1.0 | jq '.Env' output\ndocker image inspect --format '{{json .Config}}' sangam14/arg-dockerfile | jq '.Env' [ \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", \"key1=ENV is stronger than an ARG\", \"key2=ENV value takes over\" ] docker container run sangam14/arg-dockerfile env\ndocker container run sangam14/arg-dockerfile env PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=7b09d8fffd50 key1=ENV is stronger than an ARG key2=ENV value takes over HOME=/root Pass env values while building dockerfile link docker build --rm --build-arg key1=\"buildTimeValue\" --build-arg key2=\"good till env instruction\" --tag sangam14/arg-dockerfile1 -f dockerfile.arg . Sending build context to Docker daemon 50.18kB Step 1/11 : FROM alpine latest: Pulling from library/alpine af6eaf76a39c: Already exists Digest: sha256:69665d02cb32192e52e07644d76bc6f25abeb5410edc1c7a81a10ba3f0efb90a Status: Downloaded newer image for alpine:latest ---\u003e d74e625d9115 Step 2/11 : ENV key1=\"ENV is stronger than an ARG\" ---\u003e Running in 93620e2ca3e2 Removing intermediate container 93620e2ca3e2 ---\u003e e5eaad1dfbfa Step 3/11 : RUN echo ${key1} ---\u003e Running in bf14143efff7 ENV is stronger than an ARG Removing intermediate container bf14143efff7 ---\u003e 2936757fac41 Step 4/11 : ARG key1=\"not going to matter\" ---\u003e Running in 161bf9d911e7 Removing intermediate container 161bf9d911e7 ---\u003e 87ff1f1e4c1b Step 5/11 : RUN echo ${key1} ---\u003e Running in 2e69ff7a2d91 ENV is stronger than an ARG Removing intermediate container 2e69ff7a2d91 ---\u003e af66f1b039df Step 6/11 : RUN echo ${key2} ---\u003e Running in 5dd29054ba99 Removing intermediate container 5dd29054ba99 ---\u003e f575cd74046a Step 7/11 : ARG key2=\"defaultValue\" ---\u003e Running in 757002f257f0 Removing intermediate container 757002f257f0 ---\u003e d60933ac5ef5 Step 8/11 : RUN echo ${key2} ---\u003e Running in 742bdd38d1e0 good till env instruction Removing intermediate container 742bdd38d1e0 ---\u003e b32166e66170 Step 9/11 : ENV key2=\"ENV value takes over\" ---\u003e Running in 1bedb017ed72 Removing intermediate container 1bedb017ed72 ---\u003e c8a4d9a2fd20 Step 10/11 : RUN echo ${key2} ---\u003e Running in 96dbe6d53412 ENV value takes over Removing intermediate container 96dbe6d53412 ---\u003e 6270d392443c Step 11/11 : CMD [\"sh\"] ---\u003e Running in b13a9ae5798f Removing intermediate container b13a9ae5798f ---\u003e 9f878f6fe503 Successfully built 9f878f6fe503 Successfully tagged sangam14/arg-dockerfile1:latest Inspect Env of new docker image link docker image inspect --format '{{json .Config}}' sangam14/arg-dockerfile1:latest | jq '.Env' [ \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", \"key1=ENV is stronger than an ARG\", \"key2=ENV value takes over\" ] docker container run sangam14/arg-dockerfile1 env PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=dff7e104aadb key1=ENV is stronger than an ARG key2=ENV value takes over HOME=/root cat dockerfile.arg1\nFROM alpine ENV lifecycle=\"production\" RUN echo ${lifecycle} ARG username=\"35\" RUN echo ${username} ARG appdir RUN echo ${appdir} ADD hello /${appdir}/ RUN chown -R ${username}:${username} ${appdir} WORKDIR ${appdir} USER ${username} CMD [\"./hello\"] build docker image and pass build args link docker build --build-arg username=35 --build-arg appdir=\"/opt/hello\" -t sangam14/arg1-dockerfile -f dockerfile.arg1 . "
            }
        );
    index.add(
            {
                id:  55 ,
                href: "\/docs\/kubernetes\/services\/",
                title: "Kubernetes Service  ",
                description: "kubectl explain svc link ➜ k8s101 git:(main) ✗ kubectl explain svc KIND: Service VERSION: v1 DESCRIPTION: Service is a named abstraction of software service (for example, mysql) consisting of local port (for example 3306) that the proxy listens on, and the selector that determines which pods will answer requests sent through the proxy. FIELDS: apiVersion APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources kind Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds metadata Standard object's metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata spec Spec defines the behavior of a service. https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status status Most recently observed status of the service. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status Create Kubernetes Service linkA Kubernetes Service is an object you create to provide a single, stable access point to a set of pods that provide the same service. ",
                content: "kubectl explain svc link ➜ k8s101 git:(main) ✗ kubectl explain svc KIND: Service VERSION: v1 DESCRIPTION: Service is a named abstraction of software service (for example, mysql) consisting of local port (for example 3306) that the proxy listens on, and the selector that determines which pods will answer requests sent through the proxy. FIELDS: apiVersion APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources kind Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds metadata Standard object's metadata. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata spec Spec defines the behavior of a service. https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status status Most recently observed status of the service. Populated by the system. Read-only. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#spec-and-status Create Kubernetes Service linkA Kubernetes Service is an object you create to provide a single, stable access point to a set of pods that provide the same service. A service can be backed by more than one pod. When you connect to a service, the connection is passed to one of the backing pods. Add labels to Pod objects and specify the label selector in the Service object. The pods whose labels match the selector are part of the service registered service endpoints. The shorthand for services is svc Understanding different Kubernetes Service Types link ClusterIP: It is the default type, but it provides internal access only. NodePort: which allocates a specific node port which needs to be opened on the firewall. That means that by using these node ports, external users, as long as they can reach out to the nodes’ IP addresses, are capable of reaching out to the Service. LoadBalancer: currently only implemented in public cloud. So if you’re on Kubernetes in Azure or AWS, you will find a load balancer. ExternalName: which is a relatively new object that works on DNS names and redirection is happening at the DNS level. Service without selector: which is used for direct connections based on IP port combinations without an endpoint. And this is useful for connections to a database or between namespaces. Using kubectl expose linkThe easiest way to create a service is through kubectl expose\nkubectl create deployment nginx-lab-1 --image=nginx --replicas=3 --dry-run=client -o yaml \u003e nginx-lab-1.yml ---- # modify few sections and following is my final template file to create a new deployment nginx-lab-1 with a label app=dev and 3 replicas. apiVersion: apps/v1 kind: Deployment metadata: labels: app: dev name: nginx-lab-1 spec: replicas: 3 selector: matchLabels: app: dev template: metadata: labels: app: dev spec: containers: - image: nginx name: nginx --- # cat quote for pod apiVersion: v1 kind: Service metadata: name: quote spec: type: ClusterIP selector: app: quote ports: - name: http port: 80 targetPort: 80 protocol: TCP ➜ k8s101 git:(main) ✗ kubectl create -f nginx-lab-1.yml deployment.apps/nginx-lab-1 created service/quote created To create the service, you’ll tell Kubernetes to expose the Deployment you created earlier, here port 80 is the default port on which our nginx application would be listening on. link ➜ k8s101 git:(main) ✗ kubectl expose deployment nginx-lab-1 --type=NodePort --port=80 service/nginx-lab-1 exposed ➜ k8s101 git:(main) ✗ kubectl describe svc nginx-lab-1 Name: nginx-lab-1 Namespace: default Labels: app=dev Annotations: Selector: app=dev Type: NodePort IP Family Policy: SingleStack IP Families: IPv4 IP: 10.98.242.63 IPs: 10.98.242.63 Port: 80/TCP TargetPort: 80/TCP NodePort: 31613/TCP Endpoints: 172.17.0.13:80,172.17.0.14:80,172.17.0.15:80 + 2 more... Session Affinity: None External Traffic Policy: Cluster Events: Accessing cluster-internal services link The ClusterIP services you created in the previous section are accessible only within the cluster, from other pods and from the cluster nodes. use the kubectl exec command to run a command like curl in an existing pod and get it to connect to the service. To use the service from a pod, run a shell in the quote-001 In my case, the quiz service uses cluster IP 10.99.118.40, whereas the quote service uses IP 10.98.242.63\nAccess container outsusteride the clluster linkNow to access the container externally from the outside network we can use the public IP of individual worker node along with the NodePort\ncurl https://:\nkubectl get pods -o wide Creating a service through a YAML descriptor link [root@controller ~]# cat 2048.yml apiVersion: apps/v1 kind: Deployment metadata: name: \"2048-deployment\" spec: selector: matchLabels: app: \"2048\" replicas: 5 template: metadata: labels: app: \"2048\" spec: containers: - image: alexwhen/docker-2048 imagePullPolicy: Always name: \"2048\" ports: - containerPort: 80 protocol: TCP -- ##### Creating a NodePort service apiVersion: v1 kind: Service metadata: name: myservice labels: app: servicelabel spec: type: NodePort ports: - port: 80 selector: app: \"2048\" kubectl create -f 2048.yml ➜ k8s101 git:(main) ✗ kubectl get pods -o wide NAME READY STATUS RESTARTS AGE IP NODE NOMINATED NODE READINESS GATES 2048-deployment-9ccbf58bd-57tng 1/1 Running 0 50s 172.17.0.12 minikube 2048-deployment-9ccbf58bd-78pnr 1/1 Running 0 50s 172.17.0.14 minikube 2048-deployment-9ccbf58bd-mbfrt 1/1 Running 0 50s 172.17.0.13 minikube 2048-deployment-9ccbf58bd-tfcnd 1/1 Running 0 50s 172.17.0.9 minikube 2048-deployment-9ccbf58bd-trxqw 1/1 Running 0 50s 172.17.0.11 minikube kube-ops-view-5b596b7c7d-z2p2v 1/1 Running 0 7h37m 172.17.0.17 minikube kube-ops-view-redis-6dc75f67cd-klhpf 1/1 Running 0 7h37m 172.17.0.16 minikube lab-nginx-84756b7fc4-4qctt 1/1 Running 0 7h37m 172.17.0.19 minikube lab-nginx-84756b7fc4-rhg4m 1/1 Running 0 7h37m 172.17.0.18 minikube label-nginx-example-5f8bc677b9-6trt6 1/1 Running 0 7h37m 172.17.0.20 minikube my-release-kubeview-f7447cf6c-2w85w 1/1 Running 0 7h37m 172.17.0.21 minikube nginx-1-ff5997cdf-kpff9 1/1 Running 0 7h37m 172.17.0.7 minikube nginx-lab-1-84756b7fc4-77kvz 1/1 Running 0 7h37m 172.17.0.8 minikube nginx-lab-1-84756b7fc4-r9cmt 1/1 Running 0 7h37m 172.17.0.4 minikube nginx-lab-1-84756b7fc4-sqbf4 1/1 Running 0 7h37m 172.17.0.10 minikube ➜ k8s101 git:(main) ✗ kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE kubernetes ClusterIP 10.96.0.1 443/TCP 31m myservice NodePort 10.111.94.141 80:31487/TCP 2m55s ➜ k8s101 git:(main) ✗ kubectl describe service myservice Name: myservice Namespace: default Labels: app=servicelabel Annotations: Selector: app=2048 Type: NodePort IP Family Policy: SingleStack IP Families: IPv4 IP: 10.111.94.141 IPs: 10.111.94.141 Port: 80/TCP TargetPort: 80/TCP NodePort: 31487/TCP Endpoints: 172.17.0.11:80,172.17.0.12:80,172.17.0.13:80 + 2 more... Session Affinity: None External Traffic Policy: Cluster Events: ➜ k8s101 git:(main) ✗ Accessing a NodePort service link ➜ k8s101 git:(main) ✗ minikube service myservice |-----------|-----------|-------------|---------------------------| | NAMESPACE | NAME | TARGET PORT | URL | |-----------|-----------|-------------|---------------------------| | default | myservice | 80 | http://192.168.49.2:31487 | |-----------|-----------|-------------|---------------------------| 🏃 Starting tunnel for service myservice. |-----------|-----------|-------------|------------------------| | NAMESPACE | NAME | TARGET PORT | URL | |-----------|-----------|-------------|------------------------| | default | myservice | | http://127.0.0.1:60323 | |-----------|-----------|-------------|------------------------| 🎉 Opening service default/myservice in default browser... ❗ Because you are using a Docker driver on darwin, the terminal needs to be open to run it. "
            }
        );
    index.add(
            {
                id:  56 ,
                href: "\/docs\/containersecurity\/docker-daemon-security-configurations\/",
                title: "Docker Daemon security configurations",
                description: "docker daemon security configuration linkInstall docker CE 19.03\n# yum install -y yum-utils device-mapper-persistent-data lvm2 # yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo # yum install -y docker-ce [root@localhost docker]# docker --version Docker version 19.03.8, build afacb8b Daemon security configuration linkThere is no configuration file by default, which needs to be created separately/etc/docker/daemon.json, the following configurations are all local test examples configured on this file.\n{ \"icc\": false, \"log-level\": \"info\", \"log-driver\": \"json-file\", \"log-opts\": { \"max-size\": \"10m\", \"max-file\":\"5\", \"labels\": \"somelabel\", \"env\": \"os,customer\" }, \"iptables\": true, \"userns-remap\": \"default\", \"userland-proxy\": false, \"experimental\": false, \"selinux-enabled\": true, \"live-restore\": true, \"no-new-privileges\": true, \"cgroup-parent\": \"/foobar\", \"seccomp-profile\": \"/etc/docker/seccomp/default-no-chmod.json\", \"tls\": true, \"tlsverify\": true, \"tlscacert\": \"/etc/docker/CA/ca.pem\", \"tlscert\": \"/etc/docker/CA/server-cert.pem\", \"tlskey\": \"/etc/docker/CA/server-key.pem\" } configure access to docker daemon through HTTPS and certificate authentication linkServer certificate\n",
                content: "docker daemon security configuration linkInstall docker CE 19.03\n# yum install -y yum-utils device-mapper-persistent-data lvm2 # yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo # yum install -y docker-ce [root@localhost docker]# docker --version Docker version 19.03.8, build afacb8b Daemon security configuration linkThere is no configuration file by default, which needs to be created separately/etc/docker/daemon.json, the following configurations are all local test examples configured on this file.\n{ \"icc\": false, \"log-level\": \"info\", \"log-driver\": \"json-file\", \"log-opts\": { \"max-size\": \"10m\", \"max-file\":\"5\", \"labels\": \"somelabel\", \"env\": \"os,customer\" }, \"iptables\": true, \"userns-remap\": \"default\", \"userland-proxy\": false, \"experimental\": false, \"selinux-enabled\": true, \"live-restore\": true, \"no-new-privileges\": true, \"cgroup-parent\": \"/foobar\", \"seccomp-profile\": \"/etc/docker/seccomp/default-no-chmod.json\", \"tls\": true, \"tlsverify\": true, \"tlscacert\": \"/etc/docker/CA/ca.pem\", \"tlscert\": \"/etc/docker/CA/server-cert.pem\", \"tlskey\": \"/etc/docker/CA/server-key.pem\" } configure access to docker daemon through HTTPS and certificate authentication linkServer certificate\nCreate a host and define a domain (IP can also be used). The corresponding certificate will be generated according to the domain. It is generally used to register the CN in the certificate:\nCreate certificate Directory:\n$ mkdir -p /etc/docker/dockerd/CA \u0026\u0026 cd /etc/docker/dockerd/CA Generate the key certificate and fill in the key certificate password twice:\n$ openssl genrsa -aes256 -out ca-key.pem 4096 To generate a CA certificate, you need to enter the basic information of the registration certificate:\n$ openssl req -new -x509 -days 365 -key ca-key.pem -sha256 -out ca.pem Create server certificate:\n$ openssl genrsa -out server-key.pem 4096 $ openssl req -subj \"/CN=localhsot\" -sha256 -new -key server-key.pem -out server.csr Set the IP address specified by the certificate:\n$ echo subjectAltName = DNS:localhost,IP:127.0.0.1 \u003e\u003e extfile.cnf Set the extended usage property of the docker daemon key to server authentication only:\n$ echo extendedKeyUsage = serverAuth \u003e\u003e extfile.cnf Generate server cert certificate:\n$ openssl x509 -req -days 3650 -sha256 -in server.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out server-cert.pem -extfile extfile.cnf Client certificate\nCreate client certificate: (or current directory)\n$ openssl genrsa -out key.pem 4096 $ openssl req -subj '/CN=localhost' -new -key key.pem -out client.csr To make the key suitable for client authentication, create an extended profile:\n$ echo extendedKeyUsage = clientAuth \u003e\u003e extfile.cnf Generate client cert certificate:\n$ openssl x509 -req -days 3650 -sha256 -in client.csr -CA ca.pem -CAkey ca-key.pem -CAcreateserial -out cert.pem -extfile extfile.cnf use\nGive corresponding permissions to the certificate:\n$ chmod -v 0400 ca-key.pem key.pem server-key.pem $ chmod -v 0444 ca.pem server-cert.pem cert.pem [root@localhost CA]# ls ca-key.pem ca.pem ca.srl cert.pem client.csr extfile.cnf key.pem server-cert.pem server.csr server-key.pem Server configuration /etc/docker/daemon.json\n\"tls\": true, \"tlsverify\": true, \"tlscacert\": \"/etc/docker/CA/ca.pem\", \"tlscert\": \"/etc/docker/CA/server-cert.pem\", \"tlskey\": \"/etc/docker/CA/server-key.pem\" Client configuration\nSet the client certificate on the server and place it in the corresponding location:\n$ cp -v {ca,cert,key}.pem ~/.docker $ export DOCKER_HOST=tcp://$HOST:2376 DOCKER_TLS_VERIFY=1 Simulate the test as follows:\n$ curl https://$HOST:2376/images/json --cert ~/.docker/cert.pem --key ~/.docker/key.pem --cacert ~/.docker/ca.pem [{\"Containers\":-1,\"Created\":1540777343,\"Id\":\"sha256:55e7b305dc477345434ce3bd3941940481f982eea31c8f28c0670d59c63d544b\",\"Labels\":nu using namespace isolation technology linkNamespace is an isolation technology. Docker uses the isolation technology to open a specific namespace and create some special processes, but the use of namespace is conditional. The system will create a dockremap and map it to the container through the ID values corresponding to / etc / subuid and / etc / subuid; The actual situation still uses the ordinary permission of dockremap to achieve the effect of automatic isolation.\nModify first/etc/sysctl.conf\n# echo “user.max_user_namespaces=15076” \u003e\u003e /etc/sysctl.conf stay /etc/docker/daemon.json Add the configuration item “userns remap”: “default”\nBe careful when modifying this configuration. If you have deployed a set of docker environment, after enabling this option, you will switch to the isolated environment, and the previous docker container will not be used!\n[root@localhost docker]# cat /etc/subuid dockremap:100000:65536 setting the partition of docker linkCreate a separate partition for the container. The default partition isvarlibdocker, including local images, containers, networks and other related things.\nroot@localhost docker]# ls /var/lib/docker 100000.100000 builder buildkit containers image network overlay2 plugins runtimes swarm tmp trust volumes\nYou can use “data root”: “to configure the default partition location.\nlimit traffic between default bridge containers linkWhen the docker service is started, a forwarding policy will be added to the forward chain of iptables by default. Whether the policy is accept or drop depends on whether — ICC = true (default) or — ICC = false is configured. If — iptables = false is manually specified, iptables rules will not be added.\nBy default, all network communication is allowed between containers on the same host on the default bridge. If not required, the communication between all containers is limited. Link specific containers that need to communicate together, or create a custom network and join only containers that need to communicate with the custom network.\nConfigure to limit the traffic “ICC” between containers on the default bridge: false\nconfiguration log linkConfigure the centralized remote log, set the log process — log level level to info, log record format JSON, local log record\n\"log-level\": \"info\", \"log-driver\": \"json-file\", \"log-opts\": { \"max-size\": \"10m\", \"max-file\":\"5\", \"labels\": \"somelabel\", \"env\": \"os,customer\" }, The docker logging driver receives the container log and forwards it to a remote destination or file. The default logging driver isjson-file。 It stores container logs on local disk in JSON format. Docker has a plug-in architecture for logging, so there are plug-ins for open source tools and commercial tools:\nJournaled – stores the container log in the system log\nSyslog driver – supports UDP, TCP, TLS\nFluent D – supports connecting TCP or UNIX sockets to fluent D\nSplunk – http / HTTPS forwarding to Splunk server\nGel – UDP logs forwarded to graylog2\nExample fluent\n{ \"log-driver\": \"fluentd\", \"log-opts\": { \"fluentd-address\": \"fluentdhost:24224\" } } Using syslog\n{ \"log-driver\": \"syslog\", \"log-opts\": { \"syslog-address\": \"udp://1.2.3.4:1111\" } } setting ulimit link { \"default-ulimits\": { \"nofile\": { \"Name\": \"nofile\", \"Hard\": 64000, \"Soft\": 64000 } } } setting CGroup linkThe cggroup parent option allows you to set the default cggroup parent for the container. If this option is not set, the default value for FS CGroup driver is / docker; For SYSTEMd CGroup driver, the default is system slice 。\nIf CGroup has a forward slash (/), CGroup is created under the root CGroup, otherwise CGroup is created under the daemon CGroup.\nAssuming that the daemon runs in CGroup daemon CGroup, then — CGroup parent = / foobar creates a CGroup in / sys / FS / CGroup / memory / foobar, while — CGroup parent = foobar creates a CGroup/sys/fs/cgroup/memory/daemoncgroup/foobar Create CGroup in.\nSYSTEMd CGroup driver has different rules for – CGroup parent. System D represents the hierarchy by slice, and the name of the slice encodes the position in the tree. Therefore, the — CGroup parent of SYSTEMd CGroup should be the slice name. Names can contain a series of names separated by dashes that describe the path from the root slice to the slice. For example, — CGroup parent = user-a-b.slice indicates that the memory of the container is CGroup /sys/fs/cgroup/memory/user.slice/user-a.slice/user-a-b.slice/docker-.scope Created in.\nYou can also use container run to set it. Using the — CGroup parent option on docker create and docker run will take precedence over the — CGroup parent option on the daemon.\nconfiguring seccomp linkFor the test configuration file used, it is forbidden to use the Chmod command in docker\nhttps://github.com/docker/labs/blob/master/security/seccomp/seccomp-profiles/default-no-chmod.json [root@localhost docker]# docker run --rm -it alpine sh / # ls bin etc lib mnt proc run srv tmp var dev home media opt root sbin sys usr / # touch foo.sh / # chmod +x foo.sh chmod: foo.sh: Operation not permitted / # exit It can actually complete some system related calls of prohibition, permission and alarm. Refer to:https://github.com/torvalds/linux/blob/master/arch/x86/entry/syscalls/syscall_64.tbl\ndisable the experimental function of docker linkSet “experimental”: false\n2.11 restrict containers from raising rights through suid or sgid\nThe no new privileges security option prevents application processes within the container from gaining new privileges during execution.\nFor example: there is a program with setuid / setgid bit set in the image, such as sudo. The process in the container also has (file) permission to execute the program. Any operation attempting to obtain privileges through facilities such as setuid / setgid will be rejected.\nDaemon configuration example description (Linux) link { \"authorization-plugins\": [],//access authorization plugin \"data-root\": \"\", //the root directory of docker data persistent storage, the default is /var/lib/docker \"dns\": [], //DNS server \"dns-opts\": [],//DNS configuration options, such as ports, etc. \"dns-search\": [],//DNS search domain name \"exec-opts\": [], //execution options \"exec-root\": \"\",//The root directory of the file in the execution state \"experimental\": false,//whether to enable experimental features \"features\": {},//Enable or disable specific features. Such as: {\"buildkit\": true} makes buildkit the default docker image builder. \"storage-driver\": \"\",//Storage driver type \"storage-opts\": [],//storage options \"labels\": [],//key-value pair label docker metadata \"live-restore\": true, //whether to keep the container alive when dockerd hangs up (to avoid the container exit caused by the docker service exception) \"log-driver\": \"json-file\",//The driver of the container log \"log-opts\": { \"max-size\": \"10m\", \"max-file\": \"5\", \"labels\": \"somelabel\", \"env\": \"os,customer\" },//Options for container logs \"mtu\": 0,//Set container network MTU (Maximum Transmission Unit) \"pidfile\": \"\",//The location of the daemon PID file \"cluster-store\": \"\",//URL of the cluster storage system \"cluster-store-opts\": {},//Configure cluster storage \"cluster-advertise\": \"\",//External address name \"max-concurrent-downloads\": 3,//Set the maximum concurrency of each pull process \"max-concurrent-uploads\": 5,//Set the maximum concurrency of each push process \"default-shm-size\": \"64M\",//Set the default shared memory size \"shutdown-timeout\": 15,//Set the shutdown timeout period \"debug\": true,//Enable debug mode \"hosts\": [],//The listening address of the dockerd daemon process \"log-level\": \"\",//log level \"tls\": true, //Enable the Transport Layer Security Protocol TLS \"tlsverify\": true, //Enable the transport layer security protocol and verify the remote address \"tlscacert\": \"\",//CA signature file path \"tlscert\": \"\",//TLS certificate file path \"tlskey\": \"\",//TLS key file path \"swarm-default-advertise-addr\": \"\", //swarm external address \"api-cors-header\": \"\",//Set CORS (Cross-origin resource sharing) header \"selinux-enabled\": false,//Enable selinux (mandatory access control for users, processes, applications, files) \"userns-remap\": \"\",//Set user/group for user namespace \"group\": \"\", //Docker is in the group \"cgroup-parent\": \"\",//Set the parent class of cgroup of all containers \"default-ulimits\": { \"nofile\": { \"Name\": \"nofile\", \"Hard\": 64000, \"Soft\": 64000 } },//Set the ulimit of all containers \"init\": false,//The container performs initialization to forward signals or control (reap) processes \"init-path\": \"/usr/libexec/docker-init\", //docker-init file path \"ipv6\": false,//support IPV6 network \"iptables\": false,//Enable firewall rules \"ip-forward\": false, //Open net.ipv4.ip_forward \"ip-masq\": false,//Enable ip masking (the technology of rewriting the source IP address or destination IP address when the IP packet passes through a router or firewall) \"userland-proxy\": false, //userland proxy \"userland-proxy-path\": \"/usr/libexec/docker-proxy\", //userland proxy path \"ip\": \"0.0.0.0\",//Default IP \"bridge\": \"\",//Attach the container to the bridge identifier on the bridge network \"bip\": \"\",//Specify bridge IP \"fixed-cidr\": \"\",//(ipv4) subnetting, that is, limiting the range of ip address allocation to control the network segment to which the container belongs to achieve network access between containers (the same host or between different hosts) \"fixed-cidr-v6\": \"\", //(ipv6) subnetting \"default-gateway\": \"\",//default gateway \"default-gateway-v6\": \"\",//default ipv6 gateway \"icc\": false,//Inter-container communication \"raw-logs\": false, //raw logs (no color, full timestamp) \"allow-nondistributable-artifacts\": [],//Registry warehouse submitted by products that are not distributed externally \"registry-mirrors\": [],//registry warehouse mirror acceleration address \"seccomp-profile\": \"\", //seccomp configuration file \"insecure-registries\": [],//Configure non-https registry address \"no-new-privileges\": false, //Disable new privileges \"default-runtime\": \"runc\", //OCI alliance (The Open Container Initiative) default runtime environment \"oom-score-adjust\": -500,//Priority of memory overflow being killed (-1000~1000) \"node-generic-resources\": [\"NVIDIA-GPU=UUID1\", \"NVIDIA-GPU=UUID2\"],//Resource nodes announced to the public \"runtimes\": { \"cc-runtime\": { \"path\": \"/usr/bin/cc-runtime\" }, \"custom\": { \"path\": \"/usr/local/bin/my-runc-replacement\", \"runtimeArgs\": [ \"--debug\" ] } },//Runtime \"default-address-pools\": [ {\"base\":\"172.80.0.0/16\",\"size\":24}, //Default dhcp assigned address {\"base\":\"172.90.0.0/16\",\"size\":24} ] } "
            }
        );
    index.add(
            {
                id:  57 ,
                href: "\/docs\/docker\/dockerfile-volume\/",
                title: "Dockerfile Volume",
                description: "cat dockerfile.vol\nFROM alpine RUN mkdir /myvol RUN echo \"hello world\" \u003e /myvol/greeting VOLUME /myvol CMD [\"sh\"] Build above dockerfile link docker build -t sangam14/vol-dockerfile -f dockerfile.vol . [+] Building 0.4s (7/7) FINISHED =\u003e [internal] load build definition from dockerfile.vol 0.0s =\u003e =\u003e transferring dockerfile: 140B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 0.0s =\u003e CACHED [1/3] FROM docker.io/library/alpine 0.0s =\u003e [2/3] RUN mkdir /myvol 0.2s =\u003e [3/3] RUN echo \"hello world\" \u003e /myvol/greeting 0.2s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:7d9ebad9eb42a7006dbb89c1a544e5fcbce3de83cb470210b89adf4ffc4670db 0.0s =\u003e =\u003e naming to docker.io/sangam14/vol-dockerfile 0.0s run dockerg link docker run --rm -it --mount source=myvolsrc,target=/myvol sangam14/vol-dockerfile output\n",
                content: "cat dockerfile.vol\nFROM alpine RUN mkdir /myvol RUN echo \"hello world\" \u003e /myvol/greeting VOLUME /myvol CMD [\"sh\"] Build above dockerfile link docker build -t sangam14/vol-dockerfile -f dockerfile.vol . [+] Building 0.4s (7/7) FINISHED =\u003e [internal] load build definition from dockerfile.vol 0.0s =\u003e =\u003e transferring dockerfile: 140B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 0.0s =\u003e CACHED [1/3] FROM docker.io/library/alpine 0.0s =\u003e [2/3] RUN mkdir /myvol 0.2s =\u003e [3/3] RUN echo \"hello world\" \u003e /myvol/greeting 0.2s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:7d9ebad9eb42a7006dbb89c1a544e5fcbce3de83cb470210b89adf4ffc4670db 0.0s =\u003e =\u003e naming to docker.io/sangam14/vol-dockerfile 0.0s run dockerg link docker run --rm -it --mount source=myvolsrc,target=/myvol sangam14/vol-dockerfile output\ndocker run --rm -it --mount source=myvolsrc,target=/myvol sangam14/vol-dockerfile / # ls bin dev etc home lib media mnt myvol opt proc root run sbin srv sys tmp usr var / # cat myvol/greeting hello world check it out all mounted volumes link docker volume ls output\nDockerfile git:(main) ✗ docker volume ls DRIVER VOLUME NAME local myvolsrc run container link docker run --rm -d --name vol-demo sangam14/vol-dockerfile tail -f /dev/null 76a5bfedc0a43bde7f2788fec5e5aafaa94854f16f960ed736ba598b80560f8d docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 76a5bfedc0a4 sangam14/vol-dockerfile \"tail -f /dev/null\" About a minute ago Up About a minute vol-demo stop running container link docker container stop vol-demo vol-demo lets run container link docker run -d --name vol-demo --mount source=myvolsrc,target=/myvol sangam14/vol-dockerfile tail -f /dev/null exec into running container link Dockerfile git:(main) ✗ docker container exec vol-demo ls -l /myvol total 4 -rw-r--r-- 1 root root 12 Mar 2 19:47 greeting check it out mount point using docker inspect link docker volume inspect myvolsrc -f \"{{.Mountpoint}}\" stop running container link docker container stop vol-demo remove container link docker container rm vol-demo remove volume link docker volume rm myvolsrc verify once link docker volume ls docker container ls "
            }
        );
    index.add(
            {
                id:  58 ,
                href: "\/docs\/kubernetes\/service-type-nodeportclusteriploadbalancer\/",
                title: "Service Type - NodePort,ClusterIP,LoadBalancer ",
                description: " kubernetes Service ",
                content: "Service Type1: NodePort linkNodePort service helps expose the Service on each Node’s IP at a static port (the NodePort). NodePort The port is available to all the workers in the cluster. A ClusterIP Service, to which the NodePort Service routes are automatically created. One would be able to contact the NodePort Service, from outside the cluster, by requesting :. The port on the POD is called the targetPort and the one connecting the NodePort service to the POD is called port. All this means if any request coming into port 30080 to the cluster on any worker node will be forwarded to the “Node Port Service,” which in turn will forward the request to the underlying Pod at port 80.\nLet’s start with creating a deployment using the YAML file below. Some key things to note, each container is using the port 80 and has a label called app:nginx\napiVersion: apps/v1 kind: Deployment metadata: name: my-nginx-deploy labels: app: nginx spec: replicas: 2 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: test-nginx image: nginx:alpine ports: - containerPort: 80 ➜ k8s101 git:(main) ✗ kubectl apply -f my-nginx-deploy.yml deployment.apps/my-nginx-deploy created ➜ k8s101 git:(main) ✗ kubectl get pods NAME READY STATUS RESTARTS AGE my-nginx-deploy-5c9989fcf4-pqpgj 1/1 Running 0 17s my-nginx-deploy-5c9989fcf4-zkq8p 1/1 Running 0 17s ➜ k8s101 git:(main) ✗ kubectl describe pod my-nginx-deploy-5c9989fcf4-pqpgj | grep -i IP: | head -1 IP: 172.17.0.22 ➜ k8s101 git:(main) ✗ kubectl describe pod my-nginx-deploy-5c9989fcf4-zkq8p | grep -i IP: | head -1 IP: 172.17.0.15 kubectl get pods NAME READY STATUS RESTARTS AGE my-nginx-deploy-6b5d6b54bc-7pbmk 1/1 Running 0 7m47s my-nginx-deploy-6b5d6b54bc-glhnt 1/1 Running 0 7m47s ➜ k8s101 git:(main) ✗ kubectl describe pod my-nginx-deploy-5c9989fcf4-pqpgj | grep -i IP: | head -1 IP: 172.17.0.22 ➜ k8s101 git:(main) ✗ kubectl describe pod my-nginx-deploy-5c9989fcf4-zkq8p | grep -i IP: | head -1 IP: 172.17.0.15 ➜ k8s101 git:(main) ✗ kubectl exec my-nginx-deploy-5c9989fcf4-pqpgj -it sh kubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl exec [POD] -- [COMMAND] instead. / # apk add curl fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/main/aarch64/APKINDEX.tar.gz fetch https://dl-cdn.alpinelinux.org/alpine/v3.17/community/aarch64/APKINDEX.tar.gz OK: 43 MiB in 62 packages / # curl http://172.17.0.22:80 \u003c!DOCTYPE html\u003e Welcome to nginx! Welcome to nginx! If you see this page, the nginx web server is successfully installed and working. Further configuration is required.\nFor online documentation and support please refer to nginx.org. Commercial support is available at nginx.com.\nThank you for using nginx.\n/ # exit So how do we reach the PODs externally? To reach the pods from outside the cluster, one needs to expose the port on the host machine to redirect the traffic to a port of the container. NodePort Service provides that capability.\napiVersion: v1 kind: Service metadata: name: my-service spec: type: NodePort selector: app: nginx ports: # By default the `targetPort` is set to the same value as the `port` field. - port: 80 targetPort: 80 # Optional field # By default and for convenience, the Kubernetes control plane will allocate a port from a range (default: 30000-32767) nodePort: 30007 kubectl apply -f nodeport.yml service/my-service created kubectl get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE my-service NodePort 10.110.8.243 80:30007/TCP 12m NodePort service created has a virtual IP (10.110.8.243) assigned to it called ClusterIp, using which it can be accessed internally. To access the service, since we are using minikube, let’s see where the service is hosted for external usage.\nk8s101 git:(main) ✗ minikube service my-service |-----------|------------|-------------|---------------------------| | NAMESPACE | NAME | TARGET PORT | URL | |-----------|------------|-------------|---------------------------| | default | my-service | 80 | http://192.168.49.2:30007 | |-----------|------------|-------------|---------------------------| 🏃 Starting tunnel for service my-service. |-----------|------------|-------------|------------------------| | NAMESPACE | NAME | TARGET PORT | URL | |-----------|------------|-------------|------------------------| | default | my-service | | http://127.0.0.1:61723 | |-----------|------------|-------------|------------------------| 🎉 Opening service default/my-service in default browser... Feature ClusterIP NodePort LoadBalancer Exposition Exposes the Service on an internal IP in the cluster. Exposing services to external clients Exposing services to external clients Cluster This type makes the Service only reachable from within the cluster A NodePort service, each cluster node opens a port on the node itself (hence the name) and redirects traffic received on that port to the underlying service. A LoadBalancer service accessible through a dedicated load balancer, provisioned from the cloud infrastructure Kubernetes is running on Accessibility It is default service and Internal clients send requests to a stable internal IP address. The service is accessible at the internal cluster IP-port, and also through a dedicated port on all nodes. Clients connect to the service through the load balancer’s IP. Yaml Config type: ClusterIP type: NodePort type: LoadBalancer Port Range Any public ip form Cluster 30000 - 32767 Any public ip form Cluster User Cases For internal communication Best for testing public or private access or providing access for a small amount of time. widely used For External communication ClusterIP linkClusterIP is the default ServiceType and it creates a single IP address that can be used to access its Pods which can only be accessed from inside the cluster. If KubeDNS is enabled it will also get a series of DNS records assigned to it include an A record to match its IP. This is very useful for exposing microservices running inside the same Kubernetes cluster to each other.\nkubectl run hello --image=paulczar/hello-world deployment \"hello\" created kubectl expose deployment hello --port=8080 --type=ClusterIP service \"hello\" exposed $ kubectl run -i --tty --rm debug --image=alpine \\ --restart=Never -- wget -qO - hello:8080 hello worldhello world! $ kubectl delete service hello service \"hello\" deleted Since KubeDNS is enabled in minikube by default you can access the service via DNS using the name of the service.\nNodePort linkNodePort builds on top of ClusterIP to create a mapping from each Worker Node’s static IP on a specified (or Kubernetes chosen) Port. A Service exposed as a NodePort can be accessed via :. This ServiceType can be useful when developing applications with minikube or for exposing a specific Port to an application via an unmanaged load balancer or round robin DNS.\n$ kubectl expose deployment hello --port=8080 --type=NodePort service \"hello\" exposed $ kubectl get service hello NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE hello NodePort 10.0.0.231 8080:30259/TCP 21s $ minikube ip 192.168.99.100 $ curl 192.168.99.100:30259 hello worldhello world! $ kubectl delete service hello service \"hello\" deleted LoadBalancer linkLoadBalancer builds on top of NodePort and is used to automatically configure a supported external Load Balancer (for instance an ELB in Amazon) to route traffic through to the NodePort of the Service. This is the most versatile of the ServiceTypes but requires that you have a supported Load Balancer in your infrastructure of which most major cloud providers have. In minikube this would produce the same result as a NodePort as minikube does not have a load balancer. However we can demonstrate it on Google Cloud quite easily if you have an account:\n$ kubectl run hello --image=paulczar/hello-world deployment \"hello\" created $ kubectl expose deployment hello --port=8080 --type=LoadBalancer service \"hello\" exposed $ kubectl get service NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE hello LoadBalancer 10.11.251.34 35.192.25.113 8080:32107/TCP 2m $ curl 35.192.25.113:8080 hello worldhello world! ➜ k8s101 git:(main) ✗ minikube addons list |-----------------------------|----------|--------------|--------------------------------| | ADDON NAME | PROFILE | STATUS | MAINTAINER | |-----------------------------|----------|--------------|--------------------------------| | ambassador | minikube | disabled | 3rd party (Ambassador) | | auto-pause | minikube | disabled | Google | | cloud-spanner | minikube | disabled | Google | | csi-hostpath-driver | minikube | disabled | Kubernetes | | dashboard | minikube | enabled ✅ | Kubernetes | | default-storageclass | minikube | enabled ✅ | Kubernetes | | efk | minikube | disabled | 3rd party (Elastic) | | freshpod | minikube | disabled | Google | | gcp-auth | minikube | disabled | Google | | gvisor | minikube | disabled | Google | | headlamp | minikube | disabled | 3rd party (kinvolk.io) | | helm-tiller | minikube | disabled | 3rd party (Helm) | | inaccel | minikube | disabled | 3rd party (InAccel | | | | | [info@inaccel.com]) | | ingress | minikube | disabled | Kubernetes | | ingress-dns | minikube | disabled | Google | | istio | minikube | disabled | 3rd party (Istio) | | istio-provisioner | minikube | disabled | 3rd party (Istio) | | kong | minikube | disabled | 3rd party (Kong HQ) | | kubevirt | minikube | disabled | 3rd party (KubeVirt) | | logviewer | minikube | disabled | 3rd party (unknown) | | metallb | minikube | disabled | 3rd party (MetalLB) | | metrics-server | minikube | enabled ✅ | Kubernetes | | nvidia-driver-installer | minikube | disabled | Google | | nvidia-gpu-device-plugin | minikube | disabled | 3rd party (Nvidia) | | olm | minikube | disabled | 3rd party (Operator Framework) | | pod-security-policy | minikube | disabled | 3rd party (unknown) | | portainer | minikube | disabled | 3rd party (Portainer.io) | | registry | minikube | disabled | Google | | registry-aliases | minikube | disabled | 3rd party (unknown) | | registry-creds | minikube | disabled | 3rd party (UPMC Enterprises) | | storage-provisioner | minikube | enabled ✅ | Google | | storage-provisioner-gluster | minikube | disabled | 3rd party (Gluster) | | volumesnapshots | minikube | disabled | Kubernetes | |-----------------------------|----------|--------------|--------------------------------| 💡 To see addons list for other profiles use: `minikube addons -p name list` ➜ k8s101 git:(main) ✗ minikube addons enable metallb ❗ metallb is a 3rd party addon and is not maintained or verified by minikube maintainers, enable at your own risk. ❗ metallb does not currently have an associated maintainer. ▪ Using image docker.io/metallb/speaker:v0.9.6 ▪ Using image docker.io/metallb/controller:v0.9.6 🌟 The 'metallb' addon is enabled ➜ k8s101 git:(main) ✗ ➜ k8s101 git:(main) ✗ kubectl get ns NAME STATUS AGE default Active 116d kube-node-lease Active 116d kube-public Active 116d kube-system Active 116d kubernetes-dashboard Active 46h metallb-system Active 155m ➜ k8s101 git:(main) ✗ kubectl get all -n metallb-system NAME READY STATUS RESTARTS AGE pod/controller-55496b5cd7-p4k6g 1/1 Running 0 155m pod/speaker-8l8kb 1/1 Running 0 155m NAME DESIRED CURRENT READY UP-TO-DATE AVAILABLE NODE SELECTOR AGE daemonset.apps/speaker 1 1 1 1 1 beta.kubernetes.io/os=linux 155m NAME READY UP-TO-DATE AVAILABLE AGE deployment.apps/controller 1/1 1 1 155m NAME DESIRED CURRENT READY AGE replicaset.apps/controller-55496b5cd7 1 1 1 155m ➜ k8s101 git:(main) ✗ minikube ip 192.168.49.2 ➜ k8s101 git:(main) ✗ minikube addons configure metallb -- Enter Load Balancer Start IP: 192.168.49.100 -- Enter Load Balancer End IP: 192.168.49.120 ▪ Using image docker.io/metallb/controller:v0.9.6 ▪ Using image docker.io/metallb/speaker:v0.9.6 ✅ metallb was successfully configured ➜ k8s101 git:(main) ✗ create ngnix deployment via Loadbalancer link apiVersion: v1 kind: Service metadata: name: nginx-svc spec: selector: app: nginx ports: - protocol: TCP port: 80 targetPort: 80 type: LoadBalancer --- apiVersion: apps/v1 kind: Deployment metadata: name: nginx-deployment labels: app: nginx spec: replicas: 1 selector: matchLabels: app: nginx template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:1.14.2 ports: - containerPort: 80 ➜ k8s101 git:(main) ✗ kubectl apply -f ngnix-metallb.yaml service/nginx-svc created deployment.apps/nginx-deployment created ➜ k8s101 git:(main) ✗ kubectl get po,svc NAME READY STATUS RESTARTS AGE pod/2048-deployment-9ccbf58bd-57tng 1/1 Running 0 6h18m pod/2048-deployment-9ccbf58bd-78pnr 1/1 Running 0 6h18m pod/2048-deployment-9ccbf58bd-mbfrt 1/1 Running 0 6h18m pod/2048-deployment-9ccbf58bd-tfcnd 1/1 Running 0 6h18m pod/2048-deployment-9ccbf58bd-trxqw 1/1 Running 0 6h18m pod/kube-ops-view-5b596b7c7d-z2p2v 1/1 Running 0 13h pod/kube-ops-view-redis-6dc75f67cd-klhpf 1/1 Running 0 13h pod/lab-nginx-84756b7fc4-4qctt 1/1 Running 0 13h pod/lab-nginx-84756b7fc4-rhg4m 1/1 Running 0 13h pod/label-nginx-example-5f8bc677b9-6trt6 1/1 Running 0 13h pod/my-nginx-deploy-5c9989fcf4-pqpgj 1/1 Running 0 4h23m pod/my-nginx-deploy-5c9989fcf4-zkq8p 1/1 Running 0 4h23m pod/my-release-kubeview-f7447cf6c-2w85w 1/1 Running 0 13h pod/nginx-1-ff5997cdf-kpff9 1/1 Running 0 13h pod/nginx-deployment-7fb96c846b-cm296 1/1 Running 0 80s pod/nginx-lab-1-84756b7fc4-77kvz 1/1 Running 0 13h pod/nginx-lab-1-84756b7fc4-r9cmt 1/1 Running 0 13h pod/nginx-lab-1-84756b7fc4-sqbf4 1/1 Running 0 13h NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE service/kubernetes ClusterIP 10.96.0.1 443/TCP 6h46m service/my-service NodePort 10.103.55.123 80:30007/TCP 3h22m service/myservice NodePort 10.111.94.141 80:31487/TCP 6h18m service/nginx-svc LoadBalancer 10.104.216.130 192.168.49.100 80:31150/TCP 80s ➜ k8s101 git:(main) ✗ k8s101 git:(main) ✗ minikube tunnel ✅ Tunnel successfully started 📌 NOTE: Please do not close this terminal as this process must stay alive for the tunnel to be accessible ... ❗ The service/ingress nginx-svc requires privileged ports to be exposed: [80] 🔑 sudo permission will be asked for it. 🏃 Starting tunnel for service nginx-svc. ¸^C✋ Stopped tunnel for service nginx-svc. open localhost on 80 port linklocalhost:80\n"
            }
        );
    index.add(
            {
                id:  59 ,
                href: "\/docs\/containersecurity\/content-trust-and-integrity-checks\/",
                title: "Content Trust and Integrity checks",
                description: "Content Trust and Integrity checks\nDocker Content Trust (DCT) makes it simple and easy to verify the integrity and the publisher of images that you download and run. This is especially important when pulling images over untrusted networks such as the internet.\ndocker trust key generate sangam Generating key for sangam... Enter passphrase for new nigel key with ID 1f78609: Repeat passphrase for new nigel key with ID 1f78609: Successfully generated and loaded private key.... public key available: /root/sangam.pub $ docker trust signer add --key sangam.pub sangam sangam14/dct Adding signer \"nigel\" to sangam14/dct... Initializing signed repository for sangam/dct... Enter passphrase for root key with ID aee3314: Enter passphrase for new repository key with ID 1a18dd1: Repeat passphrase for new repository key with ID 1a18dd1: Successfully initialized \"sangam14/dct\" Successfully added signer: nigel to sangam14/dct docker trust sign sangam14/dct:signed docker trust inspect sangam14/dct:signed --pretty Enabling DCT link $ export DOCKER_CONTENT_TRUST=1 verify the image link docker image pull sangam14/dct:unsigned No valid trust data for unsigned ",
                content: "Content Trust and Integrity checks\nDocker Content Trust (DCT) makes it simple and easy to verify the integrity and the publisher of images that you download and run. This is especially important when pulling images over untrusted networks such as the internet.\ndocker trust key generate sangam Generating key for sangam... Enter passphrase for new nigel key with ID 1f78609: Repeat passphrase for new nigel key with ID 1f78609: Successfully generated and loaded private key.... public key available: /root/sangam.pub $ docker trust signer add --key sangam.pub sangam sangam14/dct Adding signer \"nigel\" to sangam14/dct... Initializing signed repository for sangam/dct... Enter passphrase for root key with ID aee3314: Enter passphrase for new repository key with ID 1a18dd1: Repeat passphrase for new repository key with ID 1a18dd1: Successfully initialized \"sangam14/dct\" Successfully added signer: nigel to sangam14/dct docker trust sign sangam14/dct:signed docker trust inspect sangam14/dct:signed --pretty Enabling DCT link $ export DOCKER_CONTENT_TRUST=1 verify the image link docker image pull sangam14/dct:unsigned No valid trust data for unsigned "
            }
        );
    index.add(
            {
                id:  60 ,
                href: "\/docs\/docker\/dockerfile-user\/",
                title: "Dockerfile USER",
                description: "cat dockerfile.user\nFROM alpine USER dockerworkshop:dockerworkshop CMD [\"sh\"] build dockerfile link docker build -t sangam14/user-dockerfile -f dockerfile.user . [+] Building 0.1s (5/5) FINISHED =\u003e [internal] load build definition from dockerfile.user 0.0s =\u003e =\u003e transferring dockerfile: 105B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 0.0s =\u003e CACHED [1/1] FROM docker.io/library/alpine 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:48482459d09aecafaa0db190d6995b6d2339c0383c6cd97fafbea288124332c7 0.0s =\u003e =\u003e naming to docker.io/sangam14/user-dockerfile run docker container in detach mode link docker container run -d sangam14/user-dockerfile 5880a92a14d3944a4be00a19d55a19dd941f0c1b9a7a7b9159febcc29a09ea98 If we check the owner of the sleep process on the host, we can see it belongs to the user with uid 1000, the one that is created in the image\n",
                content: "cat dockerfile.user\nFROM alpine USER dockerworkshop:dockerworkshop CMD [\"sh\"] build dockerfile link docker build -t sangam14/user-dockerfile -f dockerfile.user . [+] Building 0.1s (5/5) FINISHED =\u003e [internal] load build definition from dockerfile.user 0.0s =\u003e =\u003e transferring dockerfile: 105B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 0.0s =\u003e CACHED [1/1] FROM docker.io/library/alpine 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:48482459d09aecafaa0db190d6995b6d2339c0383c6cd97fafbea288124332c7 0.0s =\u003e =\u003e naming to docker.io/sangam14/user-dockerfile run docker container in detach mode link docker container run -d sangam14/user-dockerfile 5880a92a14d3944a4be00a19d55a19dd941f0c1b9a7a7b9159febcc29a09ea98 If we check the owner of the sleep process on the host, we can see it belongs to the user with uid 1000, the one that is created in the image\nps aux | grep sleep sangambiradar 22103 0.0 0.0 408111776 1168 s000 S+ 2:03AM 0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn --exclude-dir=.idea --exclude-dir=.tox sleep "
            }
        );
    index.add(
            {
                id:  61 ,
                href: "\/docs\/kubernetes\/networkpolicy\/",
                title: "NetworkPolicy ",
                description: "networking",
                content: "Creating effective Kubernetes Network Policies involves defining rules that explicitly allow or deny traffic to and from your pods. Here are some example policies to help you understand how to set up both restrictive (deny) and permissive (allow) behaviors in your cluster.\n1. Default Deny All Traffic to a Namespace linkA common starting point in securing a namespace in Kubernetes is to deny all traffic to all pods within a namespace. This “default deny” policy doesn’t specify any allow rules, making it effectively a deny-all policy.\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default-deny-all namespace: default spec: podSelector: {} policyTypes: - Ingress - Egress 2. Allow Traffic from Specific Namespace linkAfter setting a default deny, you might want to allow traffic from specific namespaces. This policy allows all ingress traffic from any pod in a specified namespace.\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-from-specific-namespace namespace: default spec: podSelector: {} ingress: - from: - namespaceSelector: matchLabels: project: myproject policyTypes: - Ingress 3. Allow Traffic Only on Specific Port linkThis policy allows traffic to specific ports, useful for services like web servers or databases that listen on well-known ports.\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-specific-port namespace: default spec: podSelector: matchLabels: app: myapp ingress: - ports: - protocol: TCP port: 80 policyTypes: - Ingress 4. Allow Traffic from Certain Pods linkThis policy allows ingress traffic from pods with specific labels. It’s particularly useful when you want to restrict communication between services based on their roles or functions.\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-from-certain-pods namespace: default spec: podSelector: matchLabels: app: backend ingress: - from: - podSelector: matchLabels: app: frontend policyTypes: - Ingress 5. Deny Traffic from Certain Pods linkConversely, you might want to explicitly deny traffic from certain pods while allowing others. This example shows a policy that denies ingress from any pod labeled as app: test.\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: deny-from-certain-pods namespace: default spec: podSelector: matchLabels: app: production ingress: - from: - podSelector: matchLabels: app: test policyTypes: - Ingress 6. Combine Allow and Deny Rules linkYou can create complex policies that combine various allow and deny rules to finely control traffic flows:\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: complex-network-policy namespace: default spec: podSelector: matchLabels: app: complex-app ingress: - from: - namespaceSelector: matchLabels: environment: trusted - podSelector: matchLabels: app: trusted-peer egress: - to: - ipBlock: cidr: 192.168.0.0/16 except: - 192.168.1.0/24 policyTypes: - Ingress - Egress This complex policy allows ingress from any pod in a “trusted” namespace or labeled as trusted-peer and restricts egress to a specific CIDR block, except for a specific subnet.\nApplying Network Policies linkTo apply any of these network policies, save the YAML to a file and use kubectl:\nkubectl apply -f .yaml Remember, network policies are additive, and they only apply to the pods in the namespaces that have them. Make sure your Kubernetes network plugin supports network policies, such as Calico, Weave, or Cilium.\nIn Kubernetes, applying a default deny policy for all traffic to a namespace is a common security practice. This ensures that no pods within the namespace can receive traffic unless explicitly allowed by additional NetworkPolicy resources. Here’s how to set up a default deny all traffic policy for a namespace and then allow traffic specifically for an nginx deployment within that namespace.\nStep 1: Create a Namespace linkFirst, let’s create a namespace where these policies will be applied. This isolates the resources and the network policies to a specific part of your Kubernetes cluster.\nkubectl create namespace nginx-example Step 2: Apply a Default Deny All Network Policy linkApply a default deny all ingress and egress traffic policy to the newly created namespace. This policy selects all pods in the namespace by not specifying any podSelector.\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: default-deny-all namespace: nginx-example spec: podSelector: {} policyTypes: - Ingress - Egress To apply this policy, save it to a file named default-deny-all.yaml and run:\nkubectl apply -f default-deny-all.yaml Step 3: Deploy Nginx to the Namespace linkNow deploy an nginx pod into the nginx-example namespace. Here’s a simple deployment of nginx:\napiVersion: apps/v1 kind: Deployment metadata: name: nginx-deployment namespace: nginx-example spec: selector: matchLabels: app: nginx replicas: 1 template: metadata: labels: app: nginx spec: containers: - name: nginx image: nginx:latest ports: - containerPort: 80 Save this to nginx-deployment.yaml and apply it with:\nkubectl apply -f nginx-deployment.yaml Step 4: Allow Traffic to Nginx linkTo allow traffic to reach your nginx pod, create a NetworkPolicy that permits certain types of ingress traffic. For example, allow HTTP traffic on port 80:\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-nginx namespace: nginx-example spec: podSelector: matchLabels: app: nginx policyTypes: - Ingress ingress: - from: [] ports: - protocol: TCP port: 80 Save this to allow-nginx.yaml and apply it:\nkubectl apply -f allow-nginx.yaml Step 5: Verify the Configuration linkAfter applying these configurations, the nginx pod should be accessible on port 80 from within the cluster, but all other traffic should be denied by default. You can test this by attempting to access the nginx service from another pod in the same namespace or a different namespace without corresponding egress rules.\nThis setup helps in maintaining strict control over the network traffic, ensuring that only explicitly allowed connections can be established to and from pods within the nginx-example namespace.\nTo see the output after running the commands to set up your nginx deployment and NetworkPolicies in Kubernetes, you’ll need to perform a series of checks to confirm the correct application of the configurations and test the actual network functionality.\nStep 1: Confirm the Network Policy and Deployment linkFirst, verify that the NetworkPolicy and nginx deployment have been successfully created:\n# List NetworkPolicies in the nginx-example namespace kubectl get networkpolicy -n nginx-example # List deployments in the nginx-example namespace to check nginx is deployed kubectl get deployments -n nginx-example # Check the status of the nginx pods to ensure they're running kubectl get pods -n nginx-example Expected Output link NetworkPolicies: NAME POD-SELECTOR AGE default-deny-all 1m allow-nginx app=nginx 1m Deployments: NAME READY UP-TO-DATE AVAILABLE AGE nginx-deployment 1/1 1 1 1m Pods: NAME READY STATUS RESTARTS AGE nginx-deployment- 1/1 Running 0 1m Step 2: Test Connectivity linkTo test if the nginx pod is correctly accessible according to the NetworkPolicy:\na. Inside the Same Namespace linkAttempt to access the nginx service from another pod in the same namespace. This will demonstrate whether the ingress policy allows traffic:\nRun a temporary busybox pod and try to connect to nginx: kubectl run -it --rm --namespace=nginx-example --image=busybox test-pod -- wget -qO- http://nginx-deployment b. From a Different Namespace linkTry accessing the nginx service from a pod in a different namespace to verify that the default deny policy across namespaces is effective:\nFirst, switch to or create a different namespace and try the same command: kubectl create namespace test kubectl run -it --rm --namespace=test --image=busybox test-pod -- wget -qO- http://nginx-deployment.nginx-example Expected Output link Inside the Same Namespace:\nConnecting to nginx-deployment (10.244.1.10:80) \u003c!DOCTYPE html\u003e Welcome to nginx! ... This output indicates that the nginx server is accessible from within the same namespace, serving the default nginx page.\nFrom a Different Namespace:\nwget: can't connect to remote host (10.244.1.10): Connection timed out This output shows that the default deny policy is effectively blocking traffic from outside the nginx-example namespace.\nStep 3: Review Logs linkFinally, you can check the logs from the nginx pod to see if it logs the access attempts, which can be useful for debugging:\nkubectl logs -n nginx-example -l app=nginx These steps provide a comprehensive check to ensure your deployments and network policies function as intended. If there’s any discrepancy in the expected behavior, you should revisit your configurations for any misconfigurations or typos.\nTo allow traffic from a specific namespace to your nginx deployment within the nginx-example namespace, you’ll need to create a NetworkPolicy that explicitly allows this traffic. Here’s how to set up a NetworkPolicy to allow traffic from a designated namespace (e.g., trusted-namespace) to the nginx pods in the nginx-example namespace.\nStep 1: Label the Trusted Namespace linkFirst, ensure that the namespace from which you want to allow traffic to the nginx pods is labeled. This label will be used in the NetworkPolicy to identify the namespace.\nkubectl label namespace trusted-namespace name=trusted-namespace Step 2: Create a NetworkPolicy linkCreate a NetworkPolicy that allows traffic from the trusted-namespace to the nginx pods in the nginx-example namespace. Save the following YAML to a file, for example, allow-from-trusted-namespace.yaml:\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-from-trusted-namespace namespace: nginx-example spec: podSelector: matchLabels: app: nginx policyTypes: - Ingress ingress: - from: - namespaceSelector: matchLabels: name: trusted-namespace ports: - protocol: TCP port: 80 This policy selects pods with the label app: nginx in the nginx-example namespace and allows incoming traffic on TCP port 80 from any pod in namespaces labeled with name: trusted-namespace.\nStep 3: Apply the NetworkPolicy linkApply this policy by running:\nkubectl apply -f allow-from-trusted-namespace.yaml Step 4: Test the Connectivity linkTo test if the policy works as intended, you can attempt to connect to the nginx service from a pod in the trusted-namespace. First, run a temporary pod in the trusted-namespace and try to access the nginx service:\nkubectl run -it --rm --namespace=trusted-namespace --image=busybox test-pod -- wget -qO- http://nginx-deployment.nginx-example.svc.cluster.local:80 Expected Output link Success Scenario: If the network policy is correctly configured and applied, you should see the default nginx HTML page output or a successful HTTP response. Failure Scenario: If there is no response, it could indicate that the network policy does not allow the traffic as expected, or there might be other restrictive policies or connectivity issues. Monitoring and Adjustments link Monitor Network Policies: Regularly check and monitor the logs and network traffic to ensure that the policies are working as expected. Adjust Policies: As your cluster evolves, you might need to update or refine your network policies to accommodate changes in deployments or namespace configurations. This setup helps ensure that only the specified namespaces can access your resources, enhancing the security of your Kubernetes environment.\nTo configure a NetworkPolicy that specifically denies traffic from certain pods within your Kubernetes environment while allowing others, you can set up a policy that allows traffic from all sources except those specifically denied. This example demonstrates how to deny traffic from pods labeled as app: untrusted while allowing others to access the nginx deployment in the nginx-example namespace.\nStep 1: Define the Deny Policy linkFirst, we create a policy that explicitly denies traffic from pods with a specific label (app: untrusted) to the nginx pods. Since Kubernetes NetworkPolicies do not directly support “deny” rules, you need to frame the policy as an “allow from all except” by not selecting the untrusted pods in the allow rule.\nHere’s the YAML configuration for a policy that allows ingress to the nginx pods from any source that does not have the label app: untrusted:\napiVersion: networking.k8s.io/v1 kind: NetworkPolicy metadata: name: allow-except-untrusted namespace: nginx-example spec: podSelector: matchLabels: app: nginx policyTypes: - Ingress ingress: - from: - podSelector: matchExpressions: - key: app operator: NotIn values: - untrusted ports: - protocol: TCP port: 80 Step 2: Apply the NetworkPolicy linkSave this configuration to a file named allow-except-untrusted.yaml and apply it using the following command:\nkubectl apply -f allow-except-untrusted.yaml Step 3: Test the Configuration linkTo ensure the policy is functioning as intended, you can perform tests from pods with different labels:\nFrom an Untrusted Pod: Try to access the nginx service from a pod labeled as untrusted:\nkubectl run -it --rm --namespace=nginx-example --image=busybox untrusted-pod --labels=\"app=untrusted\" -- wget -qO- http://nginx-deployment.nginx-example.svc.cluster.local:80 From a Trusted Pod: Try the same from a pod not labeled as untrusted:\nkubectl run -it --rm --namespace=nginx-example --image=busybox trusted-pod --labels=\"app=trusted\" -- wget -qO- http://nginx-deployment.nginx-example.svc.cluster.local:80 Expected Output link Untrusted Pod: The request should fail if the NetworkPolicy is working correctly. You may see a timeout or connection error. Trusted Pod: This request should succeed, displaying the default nginx start page or a successful HTTP response. Monitoring and Adjustments link Monitor Logs: Keep an eye on the logs of your nginx pods to see the access attempts and ensure that untrusted requests are being blocked. Adjust Policies: As requirements change, you might need to update the labels or the scope of the NetworkPolicy to fine-tune the traffic rules. By using the NotIn operator with matchExpressions in a NetworkPolicy, you can effectively control pod traffic by excluding specific sources. This approach helps you to safeguard your applications from unwanted access while maintaining necessary connectivity within your cluster.\n"
            }
        );
    index.add(
            {
                id:  62 ,
                href: "\/docs\/containersecurity\/docker-registry-security-configurations\/",
                title: "Docker Registry security configurations ",
                description: "What will you learn?\nInteractIing with insecure registry with curl Fetching images using curl and analyzing image layers Attacking protected Docker registry Backdooring images and leveraging auto-deployment mechanisms to attack Docker host\nIntracting with Insecure Registry link [node1] (local) root@192.168.0.18 ~ $ docker run -d \\ -p 5000:5000 \\ --name registry \\ -v /registry/data:/var/lib/registry \\ --restart always \\ registry:2 Unable to find image 'registry:2' locally 2: Pulling from library/registry ca7dd9ec2225: Pull complete c41ae7ad2b39: Pull complete 1ed0fc8a6161: Pull complete 21df229223d2: Pull complete 626897ccab21: Pull complete Digest: sha256:ce14a6258f37702ff3cd92232a6f5b81ace542d9f1631966999e9f7c1ee6ddba Status: Downloaded newer image for registry:2 729cabb707e247e548ff84aa096c03e922e39e78bbe3c65753478305575576a6 check\n",
                content: "What will you learn?\nInteractIing with insecure registry with curl Fetching images using curl and analyzing image layers Attacking protected Docker registry Backdooring images and leveraging auto-deployment mechanisms to attack Docker host\nIntracting with Insecure Registry link [node1] (local) root@192.168.0.18 ~ $ docker run -d \\ -p 5000:5000 \\ --name registry \\ -v /registry/data:/var/lib/registry \\ --restart always \\ registry:2 Unable to find image 'registry:2' locally 2: Pulling from library/registry ca7dd9ec2225: Pull complete c41ae7ad2b39: Pull complete 1ed0fc8a6161: Pull complete 21df229223d2: Pull complete 626897ccab21: Pull complete Digest: sha256:ce14a6258f37702ff3cd92232a6f5b81ace542d9f1631966999e9f7c1ee6ddba Status: Downloaded newer image for registry:2 729cabb707e247e548ff84aa096c03e922e39e78bbe3c65753478305575576a6 check\n[node1] (local) root@192.168.0.18 ~ $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 729cabb707e2 registry:2 \"/entrypoint.sh /etc…\" 11 seconds ago Up 10 seconds 0.0.0.0:5000-\u003e5000/tcp registry pull image from docker hub and push to local registry\n[node1] (local) root@192.168.0.18 ~ $ docker pull alpine:3.6 3.6: Pulling from library/alpine 5a3ea8efae5d: Pull complete Digest: sha256:66790a2b79e1ea3e1dabac43990c54aca5d1ddf268d9a5a0285e4167c8b24475 Status: Downloaded newer image for alpine:3.6 docker.io/library/alpine:3.6 push to local registry\n[node1] (local) root@192.168.0.18 ~ $ docker tag alpine:3.6 localhost:5000/alpine:3.6 [node1] (local) root@192.168.0.18 ~ $ docker push localhost:5000/alpine:3.6 The push refers to repository [localhost:5000/alpine] 721384ec99e5: Pushed 3.6: digest: sha256:36c3a913e62f77a82582eb7ce30d255f805c3d1e11d58e1f805e14d33c2bc5a5 size: 528 remove image from local docker host\n[node1] (local) root@192.168.0.18 ~ $ docker image remove localhost:5000/alpine:3.6 Untagged: localhost:5000/alpine:3.6 Untagged: localhost:5000/alpine@sha256:36c3a913e62f77a82582eb7ce30d255f805c3d1e11d58e1f805e14d33c2bc5a5 pull new image from local registry\n[node1] (local) root@192.168.0.18 ~ $ docker pull localhost:5000/alpine:3.6 3.6: Pulling from alpine Digest: sha256:36c3a913e62f77a82582eb7ce30d255f805c3d1e11d58e1f805e14d33c2bc5a5 Status: Downloaded newer image for localhost:5000/alpine:3.6 localhost:5000/alpine:3.6 [node1] (local) root@192.168.0.18 ~ curl -s http://localhost:5000/v2/_catalog {\"repositories\":[\"alpine\"]} ubuntu $ nmap -p 5000 localhost Starting Nmap 7.80 ( https://nmap.org ) at 2023-01-07 23:45 UTC Nmap scan report for localhost (127.0.0.1) Host is up (0.000064s latency). PORT STATE SERVICE 5000/tcp open upnp Nmap done: 1 IP address (1 host up) scanned in 0.03 seconds Fetching images using curl and analyzing image layers link ubuntu $ curl -s http://localhost:5000/v2/alpine/tags/list {\"name\":\"alpine\",\"tags\":[\"3.6\"]} /_catalog endpoint returns a list of repositories available in the registry.\nubuntu $ curl -s http://localhost:5000/v2/alpine/manifests/3.6 ```bash { \"schemaVersion\": 1, \"name\": \"alpine\", \"tag\": \"3.6\", \"architecture\": \"amd64\", \"fsLayers\": [ { \"blobSum\": \"sha256:a3ed95caeb02ffe68cdd9fd84406680ae93d633cb16422d00e8a7c22955b46d4\" }, { \"blobSum\": \"sha256:5a3ea8efae5d0abb93d2a04be0a4870087042b8ecab8001f613cdc2a9440616a\" } ], \"history\": [ { \"v1Compatibility\": \"{\\\"architecture\\\":\\\"amd64\\\",\\\"config\\\":{\\\"Hostname\\\":\\\"\\\",\\\"Domainname\\\":\\\"\\\",\\\"User\\\":\\\"\\\",\\\"AttachStdin\\\":false,\\\"AttachStdout\\\":false,\\\"AttachStderr\\\":false,\\\"Tty\\\":false,\\\"OpenStdin\\\":false,\\\"StdinOnce\\\":false,\\\"Env\\\":[\\\"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\\\"],\\\"Cmd\\\":[\\\"/bin/sh\\\"],\\\"ArgsEscaped\\\":true,\\\"Image\\\":\\\"sha256:143f9315f5a85306192ccffd37fbfa65db21f67aaa938c2538bd50f52123a12f\\\",\\\"Volumes\\\":null,\\\"WorkingDir\\\":\\\"\\\",\\\"Entrypoint\\\":null,\\\"OnBuild\\\":null,\\\"Labels\\\":null},\\\"container\\\":\\\"fd086f4b9352674c6a1ae4d02051f95a4e0a55cda943c5780483938dedfb2d8f\\\",\\\"container_config\\\":{\\\"Hostname\\\":\\\"fd086f4b9352\\\",\\\"Domainname\\\":\\\"\\\",\\\"User\\\":\\\"\\\",\\\"AttachStdin\\\":false,\\\"AttachStdout\\\":false,\\\"AttachStderr\\\":false,\\\"Tty\\\":false,\\\"OpenStdin\\\":false,\\\"StdinOnce\\\":false,\\\"Env\\\":[\\\"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\\\"],\\\"Cmd\\\":[\\\"/bin/sh\\\",\\\"-c\\\",\\\"#(nop) \\\",\\\"CMD [\\\\\\\"/bin/sh\\\\\\\"]\\\"],\\\"ArgsEscaped\\\":true,\\\"Image\\\":\\\"sha256:143f9315f5a85306192ccffd37fbfa65db21f67aaa938c2538bd50f52123a12f\\\",\\\"Volumes\\\":null,\\\"WorkingDir\\\":\\\"\\\",\\\"Entrypoint\\\":null,\\\"OnBuild\\\":null,\\\"Labels\\\":{}},\\\"created\\\":\\\"2019-03-07T22:20:00.563496859Z\\\",\\\"docker_version\\\":\\\"18.06.1-ce\\\",\\\"id\\\":\\\"baaf9c1caf4fb211f173d053029997dcfade0644ac354c8a068e4ebf23fcf1c5\\\",\\\"os\\\":\\\"linux\\\",\\\"parent\\\":\\\"5d8f720b0ab2b92a29a7e338aa90cad32dac2bf6518c7aae5844aab896ee36ec\\\",\\\"throwaway\\\":true}\" }, { \"v1Compatibility\": \"{\\\"id\\\":\\\"5d8f720b0ab2b92a29a7e338aa90cad32dac2bf6518c7aae5844aab896ee36ec\\\",\\\"created\\\":\\\"2019-03-07T22:20:00.434038891Z\\\",\\\"container_config\\\":{\\\"Cmd\\\":[\\\"/bin/sh -c #(nop) ADD file:9714761bb81de664e431dec41f12db20f0438047615df2ecd9fdc88933d6c20f in / \\\"]}}\" } ], \"signatures\": [ { \"header\": { \"jwk\": { \"crv\": \"P-256\", \"kid\": \"AHL3:52R5:PMFF:XHCJ:VYKX:OOEL:IUGD:JPPY:CLW4:HBE3:PSWY:CT6H\", \"kty\": \"EC\", \"x\": \"nsfDpo11GTUjCyx98IT4s4VJqns97kipPMB_nU-3JCs\", \"y\": \"eaFL1-YY16GBI31WV-FgjRp6C-koWvsUqjJRFknMjDM\" }, \"alg\": \"ES256\" }, \"signature\": \"48-BseaiWn17IyGHwsEGnxCUxnkAyI8fmMIFP3Ry2mDF5o23dQiDMPcbH62ik2mNAxmWA5-yKrBtjTuIn5FXAw\", \"protected\": \"eyJmb3JtYXRMZW5ndGgiOjIxMzAsImZvcm1hdFRhaWwiOiJDbjAiLCJ0aW1lIjoiMjAyMy0wMS0wOFQwMDowMTozMFoifQ\" } ] } #!/bin/bash # Download all the fsLayers from the remote registry using curl command # Usage: ./download.bash http://registry:5000 image [tag] URL=\"$1\" IMAGE=\"$2\" TAG=\"${3:-latest}\" BLOBS=( $(curl \"$URL/v2/$IMAGE/manifests/$TAG\" -s | python -m json.tool | grep blobSum | cut -d '\"' -f 4) ) for ((idx = 0 ; idx \u003c ${#BLOBS[@]}; idx++)); do BLOB=${BLOBS[$idx]} SUMIDX=$(($idx + 1)) DIR=\"$PWD/$IMAGE/$SUMIDX\" rm -rf \"$DIR\" ; mkdir -p \"$DIR/fs\" curl -s \"$URL/v2/$IMAGE/blobs/$BLOB\" -o \"$DIR/layer.tar\" tar xf \"$DIR/layer.tar\" -C \"$DIR/fs\" done "
            }
        );
    index.add(
            {
                id:  63 ,
                href: "\/docs\/docker\/dockerfile-healthcheck\/",
                title: "Dockerfile HEALTHCHECK",
                description: "cat Dockerfile\nFROM nginx build docker container link docker build -t sangam14/healthcheck-dockerfile -f dockerfile.healthcheck . [+] Building 1.4s (6/6) FINISHED =\u003e [internal] load build definition from dockerfile.healthcheck 0.0s =\u003e =\u003e transferring dockerfile: 244B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 0.0s =\u003e CACHED [1/2] FROM docker.io/library/alpine 0.0s =\u003e [2/2] RUN apk add curl 1.3s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:2486b7b700a94a3e91237b3b8720f2b36c6e5e6b90584638db8c328a78dd90f9 0.0s =\u003e =\u003e naming to docker.io/sangam14/healthcheck-dockerfile 0.0s ➜ Dockerfile git:(main) ✗ expose docker port on 80 port link ➜ Dockerfile git:(main) ✗ docker container run --rm -d -p 80:80 --name health sangam14/healthcheck-dockerfile 408e0d86098c4136dd36c7abf51ce4c6eb495d5fd33056f2b9e9a1176434853e FROM nginx RUN apt-get update \u0026\u0026 apt-get install -y curl \u0026\u0026 rm -rf /var/lib/apt/lists/* HEALTHCHECK --interval=5s --timeout=3s \\ CMD curl -fs http://localhost/ || exit 1 build dockerfile link Dockerfile git:(main) ✗ docker build -t sangam14/healthcheck-dockerfile -f dockerfile.healthcheck . [+] Building 2.7s (6/6) FINISHED =\u003e [internal] load build definition from dockerfile.healthcheck 0.0s =\u003e =\u003e transferring dockerfile: 227B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/nginx:latest 0.0s =\u003e CACHED [1/2] FROM docker.io/library/nginx 0.0s =\u003e [2/2] RUN apt-get update \u0026\u0026 apt-get install -y curl \u0026\u0026 rm -rf /var/lib/apt/lists/* 2.6s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:c3b3dc3b23772975869bb5dc0dda8d877bcc16e6b408b31938f3deb309f92da7 0.0s =\u003e =\u003e naming to docker.io/sangam14/healthcheck-dockerfile 0.0s inspect healthcheck link docker inspect --format '{{json .State.Health}}' health {\"Status\":\"healthy\",\"FailingStreak\":0,\"Log\":[{\"Start\":\"2023-03-02T21:58:38.327900678Z\",\"End\":\"2023-03-02T21:58:38.409811095Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"},{\"Start\":\"2023-03-02T21:58:43.417592375Z\",\"End\":\"2023-03-02T21:58:43.510278458Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"},{\"Start\":\"2023-03-02T21:58:48.514938961Z\",\"End\":\"2023-03-02T21:58:48.601586961Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"},{\"Start\":\"2023-03-02T21:58:53.606320671Z\",\"End\":\"2023-03-02T21:58:53.693584213Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"},{\"Start\":\"2023-03-02T21:58:58.697104757Z\",\"End\":\"2023-03-02T21:58:58.780027924Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"}]} ★ --interval: This specifies the period between each health check (the default is 30s). ★ --timeout: If no success response is received within this period, the health check is considered failed (the default is 30s). ★ --start-period: The duration to wait before running the first health check. This is used to give a startup time for the container (the default is 0s). ★ --retries : The container will be considered unhealthy if the health check failed consecutively for the given number of retries (the default is 3).\n",
                content: "cat Dockerfile\nFROM nginx build docker container link docker build -t sangam14/healthcheck-dockerfile -f dockerfile.healthcheck . [+] Building 1.4s (6/6) FINISHED =\u003e [internal] load build definition from dockerfile.healthcheck 0.0s =\u003e =\u003e transferring dockerfile: 244B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 0.0s =\u003e CACHED [1/2] FROM docker.io/library/alpine 0.0s =\u003e [2/2] RUN apk add curl 1.3s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:2486b7b700a94a3e91237b3b8720f2b36c6e5e6b90584638db8c328a78dd90f9 0.0s =\u003e =\u003e naming to docker.io/sangam14/healthcheck-dockerfile 0.0s ➜ Dockerfile git:(main) ✗ expose docker port on 80 port link ➜ Dockerfile git:(main) ✗ docker container run --rm -d -p 80:80 --name health sangam14/healthcheck-dockerfile 408e0d86098c4136dd36c7abf51ce4c6eb495d5fd33056f2b9e9a1176434853e FROM nginx RUN apt-get update \u0026\u0026 apt-get install -y curl \u0026\u0026 rm -rf /var/lib/apt/lists/* HEALTHCHECK --interval=5s --timeout=3s \\ CMD curl -fs http://localhost/ || exit 1 build dockerfile link Dockerfile git:(main) ✗ docker build -t sangam14/healthcheck-dockerfile -f dockerfile.healthcheck . [+] Building 2.7s (6/6) FINISHED =\u003e [internal] load build definition from dockerfile.healthcheck 0.0s =\u003e =\u003e transferring dockerfile: 227B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/nginx:latest 0.0s =\u003e CACHED [1/2] FROM docker.io/library/nginx 0.0s =\u003e [2/2] RUN apt-get update \u0026\u0026 apt-get install -y curl \u0026\u0026 rm -rf /var/lib/apt/lists/* 2.6s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:c3b3dc3b23772975869bb5dc0dda8d877bcc16e6b408b31938f3deb309f92da7 0.0s =\u003e =\u003e naming to docker.io/sangam14/healthcheck-dockerfile 0.0s inspect healthcheck link docker inspect --format '{{json .State.Health}}' health {\"Status\":\"healthy\",\"FailingStreak\":0,\"Log\":[{\"Start\":\"2023-03-02T21:58:38.327900678Z\",\"End\":\"2023-03-02T21:58:38.409811095Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"},{\"Start\":\"2023-03-02T21:58:43.417592375Z\",\"End\":\"2023-03-02T21:58:43.510278458Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"},{\"Start\":\"2023-03-02T21:58:48.514938961Z\",\"End\":\"2023-03-02T21:58:48.601586961Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"},{\"Start\":\"2023-03-02T21:58:53.606320671Z\",\"End\":\"2023-03-02T21:58:53.693584213Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"},{\"Start\":\"2023-03-02T21:58:58.697104757Z\",\"End\":\"2023-03-02T21:58:58.780027924Z\",\"ExitCode\":0,\"Output\":\"\u003c!DOCTYPE html\u003e\\n\\n\\nWelcome to nginx!\\n\\n\\n\\nWelcome to nginx!\\nIf you see this page, the nginx web server is successfully installed and\\nworking. Further configuration is required.\n\\n\\nFor online documentation and support please refer to\\nnginx.org.\\nCommercial support is available at\\nnginx.com.\n\\n\\nThank you for using nginx.\n\\n\\n\\n\"}]} ★ --interval: This specifies the period between each health check (the default is 30s). ★ --timeout: If no success response is received within this period, the health check is considered failed (the default is 30s). ★ --start-period: The duration to wait before running the first health check. This is used to give a startup time for the container (the default is 0s). ★ --retries : The container will be considered unhealthy if the health check failed consecutively for the given number of retries (the default is 3).\n"
            }
        );
    index.add(
            {
                id:  64 ,
                href: "\/docs\/kubernetes\/use-core-dns\/",
                title: "Use Core DNS",
                description: "networking",
                content: "sangam@sangam:$ kubectl create service clusterip my-service –tcp=8080:8080 service/my-service created sangam@sangam:$ kubectl get service NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE kubernetes ClusterIP 10.96.0.1 443/TCP 45h my-service ClusterIP 10.106.213.25 8080/TCP 5s sangam@sangam:~$ kubectl run busybox –image=busybox -it – /bin/sh If you don’t see a command prompt, try pressing enter. / # / # / # nslookup 10.106.213.25 Server:\t10.96.0.10 Address:\t10.96.0.10:53\n25.213.106.10.in-addr.arpa\tname = my-service.default.svc.cluster.local\n/ # exit\n"
            }
        );
    index.add(
            {
                id:  65 ,
                href: "\/docs\/docker\/dockerfile-env\/",
                title: "Dockerfile ENV",
                description: "cat dockerfile\nFROM alpine ENV appDescription This app is a sample of using ENV instructions ENV appName=env-demo ENV note1=\"The First Note First\" note2=The\\ Second\\ Note\\ Second \\ note3=\"The Third Note Third\" ENV changeMe=\"Old Value\" CMD [\"sh\"] build dockerfile link ➜ Dockerfile git:(main) ✗ docker build -t sangam14/env-dockerfile -f dockerfile.env . [+] Building 0.1s (5/5) FINISHED =\u003e [internal] load build definition from dockerfile.env 0.0s =\u003e =\u003e transferring dockerfile: 279B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 0.0s =\u003e CACHED [1/1] FROM docker.io/library/alpine 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:6f9741e9b952495e61c515945c4acd85d85aef1e631b7d37c348c26e9f5d216d 0.0s =\u003e =\u003e naming to docker.io/sangam14/env-dockerfile 0.0s inspect Env Config link docker image inspect --format '{{json .Config}}' sangam14/env-dockerfile | jq '.Env' [ \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", \"appDescription=This app is a sample of using ENV instructions\", \"appName=env-demo\", \"note1=The First Note First\", \"note2=The Second Note Second\", \"note3=The Third Note Third\", \"changeMe=Old Value\" ] change envirmonment variable link docker run --rm --env changeMe=\"New Value\" --env adhoc=\"run time\" sangam14/env-dockerfile env PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=12804862fac4 changeMe=New Value adhoc=run time appDescription=This app is a sample of using ENV instructions appName=env-demo note1=The First Note First note2=The Second Note Second note3=The Third Note Third HOME=/root ",
                content: "cat dockerfile\nFROM alpine ENV appDescription This app is a sample of using ENV instructions ENV appName=env-demo ENV note1=\"The First Note First\" note2=The\\ Second\\ Note\\ Second \\ note3=\"The Third Note Third\" ENV changeMe=\"Old Value\" CMD [\"sh\"] build dockerfile link ➜ Dockerfile git:(main) ✗ docker build -t sangam14/env-dockerfile -f dockerfile.env . [+] Building 0.1s (5/5) FINISHED =\u003e [internal] load build definition from dockerfile.env 0.0s =\u003e =\u003e transferring dockerfile: 279B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/alpine:latest 0.0s =\u003e CACHED [1/1] FROM docker.io/library/alpine 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:6f9741e9b952495e61c515945c4acd85d85aef1e631b7d37c348c26e9f5d216d 0.0s =\u003e =\u003e naming to docker.io/sangam14/env-dockerfile 0.0s inspect Env Config link docker image inspect --format '{{json .Config}}' sangam14/env-dockerfile | jq '.Env' [ \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\", \"appDescription=This app is a sample of using ENV instructions\", \"appName=env-demo\", \"note1=The First Note First\", \"note2=The Second Note Second\", \"note3=The Third Note Third\", \"changeMe=Old Value\" ] change envirmonment variable link docker run --rm --env changeMe=\"New Value\" --env adhoc=\"run time\" sangam14/env-dockerfile env PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=12804862fac4 changeMe=New Value adhoc=run time appDescription=This app is a sample of using ENV instructions appName=env-demo note1=The First Note First note2=The Second Note Second note3=The Third Note Third HOME=/root "
            }
        );
    index.add(
            {
                id:  66 ,
                href: "\/docs\/containersecurity\/dockerscan\/",
                title: "DockerScan",
                description: "DockerScan linkDocker Scan Support actions for docker registory scanning , image analysis and image meta information exaction to look for password , URL/ IP etc in the envirmonment variavle and any kind of sudo call by user\ncreate a directory for this $ sudo mkdir dockersec-2 $ cd dockersec-2 check pyhon version which mustt be greater then 3.5 and must have pip installed\n$ python3 --version $ sudo apt install python3-pip $ which pip3 `` Install Dockerscan with pip3 $ sudo /user/bin/pip3 install dockerscan\n",
                content: "DockerScan linkDocker Scan Support actions for docker registory scanning , image analysis and image meta information exaction to look for password , URL/ IP etc in the envirmonment variavle and any kind of sudo call by user\ncreate a directory for this $ sudo mkdir dockersec-2 $ cd dockersec-2 check pyhon version which mustt be greater then 3.5 and must have pip installed\n$ python3 --version $ sudo apt install python3-pip $ which pip3 `` Install Dockerscan with pip3 $ sudo /user/bin/pip3 install dockerscan\npull the ngnix docker image from dockerhub $ sudo docker pull ngnix\nsave the docker image using docker save $ sudo docker save ngnix -o ng-orig $ ls\nscan the image sudo dockerscan image info ng-orig\nas we can see the information reveals the CMD runs , ENV variable , exposed ports etc "
            }
        );
    index.add(
            {
                id:  67 ,
                href: "\/docs\/containersecurity\/dive\/",
                title: " Dive ",
                description: "Dive link Ubuntu /Debian wget https://github.com/wagoodman/dive/releases/download/v0.9.2/dive_0.9.2_linux_amd64.deb sudo apt install ./dive_0.9.2_linux_amd64.deb RHEL/CemtOS curl -OL https://github.com/wagoodman/dive/releases/download/v0.9.2/dive_0.9.2_linux_amd64.rpm rpm -i dive_0.9.2_linux_amd64.rpm Arch Linux ay -S dive Mac OS X\nbrew install dive How to use Dive linkTo analyze a Docker image simply run dive with an image tag/id/digest:\n$ dive or if you want to build your image then jump straight into analyzing it:\n",
                content: "Dive link Ubuntu /Debian wget https://github.com/wagoodman/dive/releases/download/v0.9.2/dive_0.9.2_linux_amd64.deb sudo apt install ./dive_0.9.2_linux_amd64.deb RHEL/CemtOS curl -OL https://github.com/wagoodman/dive/releases/download/v0.9.2/dive_0.9.2_linux_amd64.rpm rpm -i dive_0.9.2_linux_amd64.rpm Arch Linux ay -S dive Mac OS X\nbrew install dive How to use Dive linkTo analyze a Docker image simply run dive with an image tag/id/digest:\n$ dive or if you want to build your image then jump straight into analyzing it:\n$ dive build -t example ngnix image\nanother tool that make this all more easy\nhttps://github.com/prakhar1989/dive-in\nrecommanded tool slim.ai linkRemove friction by securing your software supply chain with optimized containers specific to your application needs, while automatically reducing vulnerabilities in the process.\nhttps://slim.ai/\nportal.slim.ai\n"
            }
        );
    index.add(
            {
                id:  68 ,
                href: "\/docs\/docker\/dockerfile-onbuild\/",
                title: "Dockerfile ONBUILD",
                description: "The ONBUILD instruction linkThe ONBUILD instruction is a trigger. It sets instructions that will be executed when another image is built from the image being build.\nThis is useful for building images which will be used as a base to build other images.\nONBUILD COPY . /src You can’t chain ONBUILD instructions with ONBUILD. ONBUILD can’t be used to trigger FROM instructions.\nFROM nginx:1.16-alpine WORKDIR /usr/share/nginx/html ONBUILD COPY index.html . build dockerfile link docker build -t sangam14/onbuild-dockerfile -f dockerfile.onbuild . [+] Building 5.8s (7/7) FINISHED =\u003e [internal] load build definition from dockerfile.onbuild 0.0s =\u003e =\u003e transferring dockerfile: 129B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/nginx:1.16-alpine 3.3s =\u003e [auth] library/nginx:pull token for registry-1.docker.io 0.0s =\u003e [1/2] FROM docker.io/library/nginx:1.16-alpine@sha256:5057451e461dda671da5e951019ddbff9d96a751fc7d548053523ca1f848c1ad 2.4s =\u003e =\u003e resolve docker.io/library/nginx:1.16-alpine@sha256:5057451e461dda671da5e951019ddbff9d96a751fc7d548053523ca1f848c1ad 0.0s =\u003e =\u003e sha256:f07e4bcf42b862c240f4c00f2f7ed362d7d93ca15151de547beda593f3b669e5 2.72MB / 2.72MB 0.8s =\u003e =\u003e sha256:078902f02c3a797288251014301298bd748886eaf5fc107e128cc1b4933ec57d 6.25MB / 6.25MB 2.1s =\u003e =\u003e sha256:5057451e461dda671da5e951019ddbff9d96a751fc7d548053523ca1f848c1ad 1.41kB / 1.41kB 0.0s =\u003e =\u003e sha256:75a7ebf15c39feb30c0444c1ab8d585fe490c35dca30c337e06b73c55fb0e30f 739B / 739B 0.0s =\u003e =\u003e sha256:c3144a54094d9628d01573952dfc7b580a76f2a3570f72b8900df676a697c1bb 6.98kB / 6.98kB 0.0s =\u003e =\u003e extracting sha256:f07e4bcf42b862c240f4c00f2f7ed362d7d93ca15151de547beda593f3b669e5 0.1s =\u003e =\u003e extracting sha256:078902f02c3a797288251014301298bd748886eaf5fc107e128cc1b4933ec57d 0.3s =\u003e [2/2] WORKDIR /usr/share/nginx/html 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:8fc6b719b70ed34467487519cca45523b18eb6f394187d50b08f5157b495efe4 0.0s =\u003e =\u003e naming to docker.io/sangam14/onbuild-dockerfile 0.0s create another dockerfile link From sangam14/onbuild-dockerfile COPY index.html . here you will see default ngnix index page link docker run -p 80:80 sangam14/onbuild-dockerfile build docker file link docker build -t sangam14/onbuild1-dockerfile -f dockerfile.onbuild1 . [+] Building 0.1s (8/8) FINISHED =\u003e [internal] load build definition from dockerfile.onbuild1 0.0s =\u003e =\u003e transferring dockerfile: 107B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/sangam14/onbuild-dockerfile:latest 0.0s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 32B 0.0s =\u003e [1/2] FROM docker.io/sangam14/onbuild-dockerfile 0.0s =\u003e [2/2] COPY index.html . 0.0s =\u003e [3/2] COPY index.html . 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:c2291a76ea7cf76b5449ad476d47880b3c5b1bf0119cf7d1fe54111f88db2157 0.0s =\u003e =\u003e naming to docker.io/sangam14/onbuild1-dockerfile above container copied index.html form local\n",
                content: "The ONBUILD instruction linkThe ONBUILD instruction is a trigger. It sets instructions that will be executed when another image is built from the image being build.\nThis is useful for building images which will be used as a base to build other images.\nONBUILD COPY . /src You can’t chain ONBUILD instructions with ONBUILD. ONBUILD can’t be used to trigger FROM instructions.\nFROM nginx:1.16-alpine WORKDIR /usr/share/nginx/html ONBUILD COPY index.html . build dockerfile link docker build -t sangam14/onbuild-dockerfile -f dockerfile.onbuild . [+] Building 5.8s (7/7) FINISHED =\u003e [internal] load build definition from dockerfile.onbuild 0.0s =\u003e =\u003e transferring dockerfile: 129B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/nginx:1.16-alpine 3.3s =\u003e [auth] library/nginx:pull token for registry-1.docker.io 0.0s =\u003e [1/2] FROM docker.io/library/nginx:1.16-alpine@sha256:5057451e461dda671da5e951019ddbff9d96a751fc7d548053523ca1f848c1ad 2.4s =\u003e =\u003e resolve docker.io/library/nginx:1.16-alpine@sha256:5057451e461dda671da5e951019ddbff9d96a751fc7d548053523ca1f848c1ad 0.0s =\u003e =\u003e sha256:f07e4bcf42b862c240f4c00f2f7ed362d7d93ca15151de547beda593f3b669e5 2.72MB / 2.72MB 0.8s =\u003e =\u003e sha256:078902f02c3a797288251014301298bd748886eaf5fc107e128cc1b4933ec57d 6.25MB / 6.25MB 2.1s =\u003e =\u003e sha256:5057451e461dda671da5e951019ddbff9d96a751fc7d548053523ca1f848c1ad 1.41kB / 1.41kB 0.0s =\u003e =\u003e sha256:75a7ebf15c39feb30c0444c1ab8d585fe490c35dca30c337e06b73c55fb0e30f 739B / 739B 0.0s =\u003e =\u003e sha256:c3144a54094d9628d01573952dfc7b580a76f2a3570f72b8900df676a697c1bb 6.98kB / 6.98kB 0.0s =\u003e =\u003e extracting sha256:f07e4bcf42b862c240f4c00f2f7ed362d7d93ca15151de547beda593f3b669e5 0.1s =\u003e =\u003e extracting sha256:078902f02c3a797288251014301298bd748886eaf5fc107e128cc1b4933ec57d 0.3s =\u003e [2/2] WORKDIR /usr/share/nginx/html 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:8fc6b719b70ed34467487519cca45523b18eb6f394187d50b08f5157b495efe4 0.0s =\u003e =\u003e naming to docker.io/sangam14/onbuild-dockerfile 0.0s create another dockerfile link From sangam14/onbuild-dockerfile COPY index.html . here you will see default ngnix index page link docker run -p 80:80 sangam14/onbuild-dockerfile build docker file link docker build -t sangam14/onbuild1-dockerfile -f dockerfile.onbuild1 . [+] Building 0.1s (8/8) FINISHED =\u003e [internal] load build definition from dockerfile.onbuild1 0.0s =\u003e =\u003e transferring dockerfile: 107B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/sangam14/onbuild-dockerfile:latest 0.0s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 32B 0.0s =\u003e [1/2] FROM docker.io/sangam14/onbuild-dockerfile 0.0s =\u003e [2/2] COPY index.html . 0.0s =\u003e [3/2] COPY index.html . 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:c2291a76ea7cf76b5449ad476d47880b3c5b1bf0119cf7d1fe54111f88db2157 0.0s =\u003e =\u003e naming to docker.io/sangam14/onbuild1-dockerfile above container copied index.html form local\ndocker run -p 80:80 sangam14/onbuild1-dockerfile "
            }
        );
    index.add(
            {
                id:  69 ,
                href: "\/docs\/containersecurity\/docker-events\/",
                title: "Docker events",
                description: "Docker events linkDocker events describe the activities taken by your Docker daemon. Most interactions with objects such as containers, images, volumes, and networks record an event, creating a log that you can use to inspect past changes.\nThere are many different kinds of event that identify specific changes in your environment:\nCreating and removing containers Container health check statuses Commands executed inside containers with docker exec Pulling and pushing images Creating, destroying, mounting, and unmounting volumes Enabling and disabling Docker daemon plugins $ docker run --rm hello-world Several events should now appear in the terminal window that’s running the docker events command:\n",
                content: "Docker events linkDocker events describe the activities taken by your Docker daemon. Most interactions with objects such as containers, images, volumes, and networks record an event, creating a log that you can use to inspect past changes.\nThere are many different kinds of event that identify specific changes in your environment:\nCreating and removing containers Container health check statuses Commands executed inside containers with docker exec Pulling and pushing images Creating, destroying, mounting, and unmounting volumes Enabling and disabling Docker daemon plugins $ docker run --rm hello-world Several events should now appear in the terminal window that’s running the docker events command:\n$ docker events 2022-05-31T15:20:00.267970018+01:00 image pull hello-world:latest (name=hello-world) 2022-05-31T15:20:00.347054862+01:00 container create 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378 (image=hello-world, name=nifty_morse) 2022-05-31T15:20:00.347805277+01:00 container attach 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378 (image=hello-world, name=nifty_morse) 2022-05-31T15:20:00.621070053+01:00 container start 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378 (image=hello-world, name=nifty_morse) Each event displays on its own line. The event timestamp is displayed first, followed by the type of object affected (such as image or container) and then the action that was taken (like create, attach, and start). The remainder of the message contains useful metadata about the object. The example above reveals that the hello-world:latest image was pulled and a container created from it.\nFormatting Output\nThe raw event list is often unwieldy. You can reformat the output using the –format flag which accepts a Go template string:\n$ docker events --format '{{ .Time }} {{ .Action }} {{ .Type}} {{ .ID }}' Running this example will produce output that looks like this:\n1654006800 pull image hello-world:latest 1654006800 create container 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378 1654006800 attach container 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378 1654006800 start container 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378 You can get events represented as JSON objects by using {{ json . }} as your template string:\n$ docker events --format '{{ json . }}' | jq { \"status\": \"create\", \"id\": \"4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378\", \"from\": \"hello-world\", \"Type\": \"container\", \"Action\": \"create\", \"Actor\": { \"ID\": \"4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378\", \"Attributes\": { \"image\": \"hello-world\", \"name\": \"nifty_morse\" } }, \"scope\": \"local\", \"time\": 1654006800, \"timeNano\": 1654006800347054800 } Filtering Events link docker events --filter type=container //Get all events that relate to containers. docker events --filter event=create // Get container creation events. docker events --filter container=demo-container –// Get all the events saved for the container called demo-container (you can reference the container’s ID or name). Besides container, you can filter by all supported object type names such as image, network, and volume.\nMultiple filters are supported when you repeat the –filter flag. Distinct filters are interpreted as logical AND conditions; multiple uses of the same filter become OR clauses. Here’s an example which surfaces the create event for both the app-container and api-container containers:\n$ docker events \\ --filter container=app-container --filter container=api-container --filter event=create Accessing Historical Events linkdocker events defaults to only showing events stored since the command’s been running. You can include historical events by adding the –since flag. This accepts a human-readable time expression or an absolute timestamp:\n$ docker events --since 1h $ docker events --since '2022-06-01T16:00:00' Events recorded after the given time will immediately be shown in your terminal. New events will continue to show up in real-time as they’re recorded.\nYou can exclude events after a particular time with the –until flag. It works similarly to –since. Using –until will disable real-time streaming of new events because they’d fall outside the requested timeframe.\nStreaming Docker Events From the Daemon REST API linkAnother way to access stored events is through the Docker daemon REST API. You can use the /events endpoint to stream events in real-time after you’ve enabled the API on your Docker host. Events will be returned in JSON format:\n$ curl http://127.0.0.1:2375/v1.41/events { \"Type\": \"container\", \"Action\": \"create\", \"Actor\": { \"ID\": \"4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378\", \"Attributes\": { \"image\": \"hello-world\", \"name\": \"nifty_morse\" } }, \"scope\": \"local\", \"time\": 1654006800, \"timeNano\": 1654006800347054800 } The API endpoint supports filter, since, and until parameters that have the same behaviors as their CLI counterparts. Here’s how to retrieve all container creation events recorded in the past hour:\n$ curl http://127.0.0.1:2375/v1.41/events?since=1h\u0026filters={'type':'container','action':'create'} Sending Events to an External Service linkDocker lacks a built-in way to send events to an external service. This could be useful if you want all your container creations to be logged in an existing monitoring or auditing platform.\nYou can set up your own solution by creating a system service that continually runs docker events. It should send each new line of output to your external system.\nFirst write a Bash script that implements the functionality you need:\n#!/bin/bash docker events --format '{{ .Time }} {{ .Action }} {{ .Type }} {{ .ID }}' | while read event do curl \\ -X POST \\ -H \"Content-Type: application/json\" \\ -d '{\"event\": \"$event\"}' \\ https://example.com/events done Now create a new systemd service unit at /etc/systemd/system/docker-events.service:\n[Unit] Description=Custom Docker Event Monitoring Service [Service] Type=forking ExecStart=/usr/local/bin/docker-events.sh [Install] WantedBy=multi-user.target Finally reload systemd to load your service, then start and enable the unit:\n$ sudo systemctl daemon-reload $ sudo systemctl start docker-events $ sudo systemctl enable docker-events Docker events commands example linkListening for Docker events\n$ docker events Listening for events since a given date\n$ docker events --since '2015-01-28' $ docker events --since '3m' Listening for Docker events based on filter\n$ docker events --filter 'type=container' --format 'Type={{.Type}} Status={{.Status}} ID={{.ID}}' $ docker events --filter 'event=stop' $ docker events --filter 'image=ubuntu-1:14.04' $ docker events --filter 'container=7805c1d35632' $ docker events --filter 'container=7805c1d35632' --filter 'container=4386fb97867d' $ docker events --filter 'container=7805c1d35632' --filter 'event=stop' $ docker events --filter 'type=volume' $ docker events --filter 'type=network' $ docker events --filter 'type=plugin' (experimental) Listening for Docker events based on format\n$ docker events --format '{{json .}}' "
            }
        );
    index.add(
            {
                id:  70 ,
                href: "\/docs\/docker\/multi-container-cli\/",
                title: "Multi-Container CLI ",
                description: "We will create two containers (linux1, linux2) based on the same image (ubuntu) link docker run -it -d --rm --name linux1 ubuntu /bin/bash additional flags: -dstarts the container as “detached”. Use “docker attach” to attach to it later on. --rm cleans up the container after stopping. The container will be removed, basically the same as “docker rm container_identifier” after stopping the container. So everything is kept tidy. --name will give the container a dedicated name, which makes it easier to address the container later on.\n",
                content: "We will create two containers (linux1, linux2) based on the same image (ubuntu) link docker run -it -d --rm --name linux1 ubuntu /bin/bash additional flags: -dstarts the container as “detached”. Use “docker attach” to attach to it later on. --rm cleans up the container after stopping. The container will be removed, basically the same as “docker rm container_identifier” after stopping the container. So everything is kept tidy. --name will give the container a dedicated name, which makes it easier to address the container later on.\nCreates container “linux2” link docker run -it -d --rm --name linux2 ubuntu /bin/bash Attaches to container linux1 link \u003e docker attach linux1 Creates a new directory on container linux1 link \u003e ls \u003e mkdir mylinux1 Shows that “mylinux1” was created link \u003e ls Attaches to container linux2 link \u003e docker attach linux2 Shows that the directory of linux2 is different than linux1, although they are both from the same image “ubuntu” They are separated, they don’t share their file-system The bash process is isolated in the container\n\u003e ls \u003e exit Shows only one container which is running, the other one got removed\n\u003e docker ps -a "
            }
        );
    index.add(
            {
                id:  71 ,
                href: "\/docs\/docker\/docker-compose-basics\/",
                title: "Docker Compose Basics",
                description: "cat Dockerfile\nFROM php:7.2-apache COPY index.php /var/www/html add index.php file\n\u003c?php echo \"hello world \\n\\n\"; creat docker-compose.yaml\nversion: '3' services: phpapp: ports: - \"8080:80\" build: context: ./ dockerfile: Dockerfile to run docker compose\ndocker compose up --build output\n1-DC git:(main) ✗ docker compose up [+] Building 21.2s (10/10) FINISHED =\u003e [internal] booting buildkit 3.8s =\u003e =\u003e pulling image moby/buildkit:buildx-stable-1 2.8s =\u003e =\u003e creating container buildx_buildkit_great_brahmagupta0 1.1s =\u003e [internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 85B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/php:7.2-apache 4.3s =\u003e [auth] library/php:pull token for registry-1.docker.io 0.0s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 67B 0.0s =\u003e [1/2] FROM docker.io/library/php:7.2-apache@sha256:4dc0f0115acf8c2f0df69295ae822e49f5ad5fe849725847f15aa0e5802b55f8 8.3s =\u003e =\u003e resolve docker.io/library/php:7.2-apache@sha256:4dc0f0115acf8c2f0df69295ae822e49f5ad5fe849725847f15aa0e5802b55f8 0.0s =\u003e =\u003e sha256:9639d8c8cc76eb6501b4135a054c1a85bd7397db1010d043bcc03d32bf6d79b6 895B / 895B 0.5s =\u003e =\u003e sha256:119f7607f913c50661a95311027b7b944c7bf2ee9e7af5361a14b72ce4d36b34 247B / 247B 0.3s =\u003e =\u003e sha256:c5ff78edaefc7917757ec4e434738d5561d016bedd20ebdeeee362ec53c8d200 2.27kB / 2.27kB 0.6s =\u003e =\u003e sha256:1c04bb0b5fbe7c2927e6282625ccf4c5e0399e9da46f4a84bb8072dc98add6e5 214B / 214B 0.5s =\u003e =\u003e sha256:709f68bc1d50527b9d9de50c516cb337468feb59c6135b414dda628d902a1bc8 13.52MB / 13.52MB 3.2s =\u003e =\u003e sha256:9e92e56de9f5b0243dc28d80127f51f9f773d64ce4ae1ad58cfff06c2dcd4c29 494B / 494B 0.8s =\u003e =\u003e sha256:485201b000c7ca5a73c2f9d047a204442ea5871a8a1405809d623884d83afc05 12.65MB / 12.65MB 0.9s =\u003e =\u003e sha256:28135fd83ed1ac66e6f4288fabe4c84616cfe420e8e6808ba92d052771325ab4 517B / 517B 0.5s =\u003e =\u003e sha256:5543a36f8eed548f436944bf39a2e918115fc9b30b54416c1081566f25716010 475B / 475B 0.6s =\u003e =\u003e sha256:8d436d7bb0262f042a9554b5c54b25bc1d19cabbb9435747672c34d12f8dc1d0 18.58MB / 18.58MB 1.5s =\u003e =\u003e sha256:c17a0a78e91d3ac0ec4a0c0566f57580154ead8d8967258efe94989d86cd05bd 269B / 269B 1.4s =\u003e =\u003e sha256:30eb7a300f132babe7d5ed65f9e81a1fdd4542ecf70ac29a91bc290484dbc5e5 70.34MB / 70.34MB 3.2s =\u003e =\u003e sha256:c9648d7fcbb6d597cf33916d8fcd207fde8ec05d764b4480d4f3e884e142a902 25.86MB / 25.86MB 3.1s =\u003e =\u003e sha256:f88cecc04e76783f0006b9fed72be749e834825383e941e16de2565a0e4a8cc3 229B / 229B 0.5s =\u003e =\u003e extracting sha256:c9648d7fcbb6d597cf33916d8fcd207fde8ec05d764b4480d4f3e884e142a902 0.6s =\u003e =\u003e extracting sha256:f88cecc04e76783f0006b9fed72be749e834825383e941e16de2565a0e4a8cc3 0.0s =\u003e =\u003e extracting sha256:30eb7a300f132babe7d5ed65f9e81a1fdd4542ecf70ac29a91bc290484dbc5e5 1.2s =\u003e =\u003e extracting sha256:c17a0a78e91d3ac0ec4a0c0566f57580154ead8d8967258efe94989d86cd05bd 0.0s =\u003e =\u003e extracting sha256:8d436d7bb0262f042a9554b5c54b25bc1d19cabbb9435747672c34d12f8dc1d0 0.2s =\u003e =\u003e extracting sha256:5543a36f8eed548f436944bf39a2e918115fc9b30b54416c1081566f25716010 0.0s =\u003e =\u003e extracting sha256:28135fd83ed1ac66e6f4288fabe4c84616cfe420e8e6808ba92d052771325ab4 0.0s =\u003e =\u003e extracting sha256:485201b000c7ca5a73c2f9d047a204442ea5871a8a1405809d623884d83afc05 0.1s =\u003e =\u003e extracting sha256:9e92e56de9f5b0243dc28d80127f51f9f773d64ce4ae1ad58cfff06c2dcd4c29 0.0s =\u003e =\u003e extracting sha256:709f68bc1d50527b9d9de50c516cb337468feb59c6135b414dda628d902a1bc8 0.2s =\u003e =\u003e extracting sha256:c5ff78edaefc7917757ec4e434738d5561d016bedd20ebdeeee362ec53c8d200 0.0s =\u003e =\u003e extracting sha256:119f7607f913c50661a95311027b7b944c7bf2ee9e7af5361a14b72ce4d36b34 0.0s =\u003e =\u003e extracting sha256:1c04bb0b5fbe7c2927e6282625ccf4c5e0399e9da46f4a84bb8072dc98add6e5 0.0s =\u003e =\u003e extracting sha256:9639d8c8cc76eb6501b4135a054c1a85bd7397db1010d043bcc03d32bf6d79b6 0.0s =\u003e [2/2] COPY index.php /var/www/html 0.3s =\u003e exporting to docker image format 4.3s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e exporting manifest sha256:4389df930ccac33c104717e827e5a6dc3de4ef60632784ca9ea76806b1bf88b7 0.0s =\u003e =\u003e exporting config sha256:bcbc4a7a409f828a025ca857acb752536f4cece24a93121e6a920e0c4d60050f 0.0s =\u003e =\u003e sending tarball 4.2s =\u003e importing to docker 2.7s [+] Running 2/2 ⠿ Network 1-dc_default Created 0.1s ⠿ Container 1-dc-phpapp-1 Created 0.3s Attaching to 1-dc-phpapp-1 1-dc-phpapp-1 | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.18.0.2. Set the 'ServerName' directive globally to suppress this message 1-dc-phpapp-1 | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.18.0.2. Set the 'ServerName' directive globally to suppress this message 1-dc-phpapp-1 | [Fri Mar 03 00:44:20.034230 2023] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.38 (Debian) PHP/7.2.34 configured -- resuming normal operations 1-dc-phpapp-1 | [Fri Mar 03 00:44:20.034331 2023] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND' 1-dc-phpapp-1 | 172.18.0.1 - - [03/Mar/2023:00:44:54 +0000] \"GET / HTTP/1.1\" 200 244 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" 1-dc-phpapp-1 | 172.18.0.1 - - [03/Mar/2023:00:44:54 +0000] \"GET /favicon.ico HTTP/1.1\" 404 489 \"http://localhost:8080/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" 1-dc-phpapp-1 | 172.18.0.1 - - [03/Mar/2023:00:45:02 +0000] \"GET / HTTP/1.1\" 200 244 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" ¸ open browser link http://localhost:8080 ",
                content: "cat Dockerfile\nFROM php:7.2-apache COPY index.php /var/www/html add index.php file\n\u003c?php echo \"hello world \\n\\n\"; creat docker-compose.yaml\nversion: '3' services: phpapp: ports: - \"8080:80\" build: context: ./ dockerfile: Dockerfile to run docker compose\ndocker compose up --build output\n1-DC git:(main) ✗ docker compose up [+] Building 21.2s (10/10) FINISHED =\u003e [internal] booting buildkit 3.8s =\u003e =\u003e pulling image moby/buildkit:buildx-stable-1 2.8s =\u003e =\u003e creating container buildx_buildkit_great_brahmagupta0 1.1s =\u003e [internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 85B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/php:7.2-apache 4.3s =\u003e [auth] library/php:pull token for registry-1.docker.io 0.0s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 67B 0.0s =\u003e [1/2] FROM docker.io/library/php:7.2-apache@sha256:4dc0f0115acf8c2f0df69295ae822e49f5ad5fe849725847f15aa0e5802b55f8 8.3s =\u003e =\u003e resolve docker.io/library/php:7.2-apache@sha256:4dc0f0115acf8c2f0df69295ae822e49f5ad5fe849725847f15aa0e5802b55f8 0.0s =\u003e =\u003e sha256:9639d8c8cc76eb6501b4135a054c1a85bd7397db1010d043bcc03d32bf6d79b6 895B / 895B 0.5s =\u003e =\u003e sha256:119f7607f913c50661a95311027b7b944c7bf2ee9e7af5361a14b72ce4d36b34 247B / 247B 0.3s =\u003e =\u003e sha256:c5ff78edaefc7917757ec4e434738d5561d016bedd20ebdeeee362ec53c8d200 2.27kB / 2.27kB 0.6s =\u003e =\u003e sha256:1c04bb0b5fbe7c2927e6282625ccf4c5e0399e9da46f4a84bb8072dc98add6e5 214B / 214B 0.5s =\u003e =\u003e sha256:709f68bc1d50527b9d9de50c516cb337468feb59c6135b414dda628d902a1bc8 13.52MB / 13.52MB 3.2s =\u003e =\u003e sha256:9e92e56de9f5b0243dc28d80127f51f9f773d64ce4ae1ad58cfff06c2dcd4c29 494B / 494B 0.8s =\u003e =\u003e sha256:485201b000c7ca5a73c2f9d047a204442ea5871a8a1405809d623884d83afc05 12.65MB / 12.65MB 0.9s =\u003e =\u003e sha256:28135fd83ed1ac66e6f4288fabe4c84616cfe420e8e6808ba92d052771325ab4 517B / 517B 0.5s =\u003e =\u003e sha256:5543a36f8eed548f436944bf39a2e918115fc9b30b54416c1081566f25716010 475B / 475B 0.6s =\u003e =\u003e sha256:8d436d7bb0262f042a9554b5c54b25bc1d19cabbb9435747672c34d12f8dc1d0 18.58MB / 18.58MB 1.5s =\u003e =\u003e sha256:c17a0a78e91d3ac0ec4a0c0566f57580154ead8d8967258efe94989d86cd05bd 269B / 269B 1.4s =\u003e =\u003e sha256:30eb7a300f132babe7d5ed65f9e81a1fdd4542ecf70ac29a91bc290484dbc5e5 70.34MB / 70.34MB 3.2s =\u003e =\u003e sha256:c9648d7fcbb6d597cf33916d8fcd207fde8ec05d764b4480d4f3e884e142a902 25.86MB / 25.86MB 3.1s =\u003e =\u003e sha256:f88cecc04e76783f0006b9fed72be749e834825383e941e16de2565a0e4a8cc3 229B / 229B 0.5s =\u003e =\u003e extracting sha256:c9648d7fcbb6d597cf33916d8fcd207fde8ec05d764b4480d4f3e884e142a902 0.6s =\u003e =\u003e extracting sha256:f88cecc04e76783f0006b9fed72be749e834825383e941e16de2565a0e4a8cc3 0.0s =\u003e =\u003e extracting sha256:30eb7a300f132babe7d5ed65f9e81a1fdd4542ecf70ac29a91bc290484dbc5e5 1.2s =\u003e =\u003e extracting sha256:c17a0a78e91d3ac0ec4a0c0566f57580154ead8d8967258efe94989d86cd05bd 0.0s =\u003e =\u003e extracting sha256:8d436d7bb0262f042a9554b5c54b25bc1d19cabbb9435747672c34d12f8dc1d0 0.2s =\u003e =\u003e extracting sha256:5543a36f8eed548f436944bf39a2e918115fc9b30b54416c1081566f25716010 0.0s =\u003e =\u003e extracting sha256:28135fd83ed1ac66e6f4288fabe4c84616cfe420e8e6808ba92d052771325ab4 0.0s =\u003e =\u003e extracting sha256:485201b000c7ca5a73c2f9d047a204442ea5871a8a1405809d623884d83afc05 0.1s =\u003e =\u003e extracting sha256:9e92e56de9f5b0243dc28d80127f51f9f773d64ce4ae1ad58cfff06c2dcd4c29 0.0s =\u003e =\u003e extracting sha256:709f68bc1d50527b9d9de50c516cb337468feb59c6135b414dda628d902a1bc8 0.2s =\u003e =\u003e extracting sha256:c5ff78edaefc7917757ec4e434738d5561d016bedd20ebdeeee362ec53c8d200 0.0s =\u003e =\u003e extracting sha256:119f7607f913c50661a95311027b7b944c7bf2ee9e7af5361a14b72ce4d36b34 0.0s =\u003e =\u003e extracting sha256:1c04bb0b5fbe7c2927e6282625ccf4c5e0399e9da46f4a84bb8072dc98add6e5 0.0s =\u003e =\u003e extracting sha256:9639d8c8cc76eb6501b4135a054c1a85bd7397db1010d043bcc03d32bf6d79b6 0.0s =\u003e [2/2] COPY index.php /var/www/html 0.3s =\u003e exporting to docker image format 4.3s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e exporting manifest sha256:4389df930ccac33c104717e827e5a6dc3de4ef60632784ca9ea76806b1bf88b7 0.0s =\u003e =\u003e exporting config sha256:bcbc4a7a409f828a025ca857acb752536f4cece24a93121e6a920e0c4d60050f 0.0s =\u003e =\u003e sending tarball 4.2s =\u003e importing to docker 2.7s [+] Running 2/2 ⠿ Network 1-dc_default Created 0.1s ⠿ Container 1-dc-phpapp-1 Created 0.3s Attaching to 1-dc-phpapp-1 1-dc-phpapp-1 | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.18.0.2. Set the 'ServerName' directive globally to suppress this message 1-dc-phpapp-1 | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.18.0.2. Set the 'ServerName' directive globally to suppress this message 1-dc-phpapp-1 | [Fri Mar 03 00:44:20.034230 2023] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.38 (Debian) PHP/7.2.34 configured -- resuming normal operations 1-dc-phpapp-1 | [Fri Mar 03 00:44:20.034331 2023] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND' 1-dc-phpapp-1 | 172.18.0.1 - - [03/Mar/2023:00:44:54 +0000] \"GET / HTTP/1.1\" 200 244 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" 1-dc-phpapp-1 | 172.18.0.1 - - [03/Mar/2023:00:44:54 +0000] \"GET /favicon.ico HTTP/1.1\" 404 489 \"http://localhost:8080/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" 1-dc-phpapp-1 | 172.18.0.1 - - [03/Mar/2023:00:45:02 +0000] \"GET / HTTP/1.1\" 200 244 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" ¸ open browser link http://localhost:8080 "
            }
        );
    index.add(
            {
                id:  72 ,
                href: "\/docs\/containersecurity\/scanning-docker-for-vulnerabilities-with-thraetmappeper\/",
                title: "Scanning Docker for vulnerabilities with ThraetMappeper ",
                description: "Orignally published on CloudNativeFolks\nThreatMapper\nThreatMapper hunts for threats in your production platforms, and ranks these threats based on their risk-of-exploit. It uncovers vulnerable software components, exposed secrets and deviations from good security practice. ThreatMapper uses a combination of agent-based inspection and agent-less monitoring to provide the widest possible coverage to detect threats.\nThreatMapper Open Source Cloud Native Application Protection Platform(CNAPP) TypeScript 4.9k 606 ",
                content: "Orignally published on CloudNativeFolks\nThreatMapper\nThreatMapper hunts for threats in your production platforms, and ranks these threats based on their risk-of-exploit. It uncovers vulnerable software components, exposed secrets and deviations from good security practice. ThreatMapper uses a combination of agent-based inspection and agent-less monitoring to provide the widest possible coverage to detect threats.\nThreatMapper Open Source Cloud Native Application Protection Platform(CNAPP) TypeScript 4.9k 606 ThreatMapper carries on the good ‘shift left’ security practices that you already employ in your development pipelines. It continues to monitor running applications against emerging software vulnerabilities and monitors the host and cloud configuration against industry-expert benchmarks.\nThe ThreatMapper Management Console is a container-based application that can be deployed on a single docker host or in a Kubernetes cluster.\nWhat exactly this management console useful for you? link Topology-based learning of your live infrastructure\nIdentify Threats and Vulnerabilities and generate SBOM (software bill of material )\nThreatGraph visualization, you can then identify the issues that present the greatest risk to the security of your applications, and prioritize these for planned protection or remediation.\nManage the users who can access the console.\nConfigure Infrastructure API access and interrogate platform configurations.\nVisualize and drill down into Kubernetes clusters, virtual machines, containers and images, running processes, and network connections in near real-time.\nInvoke vulnerability scans on running containers and applications and review the results, ranked by the risk of exploit.\nInvoke compliance scans on infrastructure configuration (‘agentless’) and on infrastructure hosts (‘agent-based), - manually or automatically when they are added to a cluster.\nScan container registries for vulnerabilities, to review workloads before they are deployed.\nScan image builds during the CI/CD pipeline, supporting CircleCI, Jenkins, and GitLab.\nScan containers and host filesystems for unprotected secrets, including access tokens, keys and passwords.\nConfigure integrations with external notification, SIEM and ticketing systems, including Slack, PagerDuty, Jira, Splunk, ELK, Sumo Logic, and AWS S3. ThreatMapper supports multiple production deployments simultaneously so that you can visualize and scan workloads across a large production estate.\nin a short one-stop solution for your cloud-native security issues! and it’s 100% open source\nlogin to AWS account:- console.aws.amazon.com\nDeploy ThreatMapper Console using Docker Compose on Linux VM using AWS EC2 link Create Ubuntu Instance on AWS EC2\nselect instance type as per requirements\nClick on the launch instance\nhurry!\naccess AWS instance using CLI\nsudo apt install -y apt-transport-https ca-certificates curl software-properties-common Reading package lists... Done Building dependency tree... Done Reading state information... Done ca-certificates is already the newest version (20211016). ca-certificates set to manually installed. software-properties-common is already the newest version (0.99.22.3). software-properties-common set to manually installed. The following additional packages will be installed: libcurl4 The following NEW packages will be installed: apt-transport-https The following packages will be upgraded: curl libcurl4 2 upgraded, 1 newly installed, 0 to remove and 76 not upgraded. Need to get 485 kB of archives. After this operation, 169 kB of additional disk space will be used. Get:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 apt-transport-https all 2.4.8 [1506 B] Get:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 curl amd64 7.81.0-1ubuntu1.6 [194 kB] Get:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates/main amd64 libcurl4 amd64 7.81.0-1ubuntu1.6 [290 kB] Fetched 485 kB in 0s (11.0 MB/s) Selecting previously unselected package apt-transport-https. (Reading database ... 63926 files and directories currently installed.) Preparing to unpack .../apt-transport-https_2.4.8_all.deb ... Unpacking apt-transport-https (2.4.8) ... Preparing to unpack .../curl_7.81.0-1ubuntu1.6_amd64.deb ... Unpacking curl (7.81.0-1ubuntu1.6) over (7.81.0-1ubuntu1.4) ... Preparing to unpack .../libcurl4_7.81.0-1ubuntu1.6_amd64.deb ... Unpacking libcurl4:amd64 (7.81.0-1ubuntu1.6) over (7.81.0-1ubuntu1.4) ... Setting up apt-transport-https (2.4.8) ... Setting up libcurl4:amd64 (7.81.0-1ubuntu1.6) ... Setting up curl (7.81.0-1ubuntu1.6) ... Processing triggers for man-db (2.10.2-1) ... Processing triggers for libc-bin (2.35-0ubuntu3.1) ... Scanning processes... Scanning linux images... Running kernel seems to be up-to-date. Install docker link curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable\" apt-cache policy docker-ce sudo apt install -y docker-ce Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)). OK Repository: 'deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable' Description: Archive for codename: focal components: stable More info: https://download.docker.com/linux/ubuntu Adding repository. Press [ENTER] to continue or Ctrl-c to cancel. Found existing deb entry in /etc/apt/sources.list.d/archive_uri-https_download_docker_com_linux_ubuntu-jammy.list Adding deb entry to /etc/apt/sources.list.d/archive_uri-https_download_docker_com_linux_ubuntu-jammy.list Found existing deb-src entry in /etc/apt/sources.list.d/archive_uri-https_download_docker_com_linux_ubuntu-jammy.list Adding disabled deb-src entry to /etc/apt/sources.list.d/archive_uri-https_download_docker_com_linux_ubuntu-jammy.list Hit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy InRelease Hit:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-updates InRelease Hit:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu jammy-backports InRelease Hit:4 https://download.docker.com/linux/ubuntu focal InRelease Hit:5 http://security.ubuntu.com/ubuntu jammy-security InRelease Reading package lists... Done W: https://download.docker.com/linux/ubuntu/dists/focal/InRelease: Key is stored in legacy trusted.gpg keyring (/etc/apt/trusted.gpg), see the DEPRECATION section in apt-key(8) for details. docker-ce: Installed: 5:20.10.21~3-0~ubuntu-focal Candidate: 5:20.10.21~3-0~ubuntu-focal Version table: *** 5:20.10.21~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 100 /var/lib/dpkg/status 5:20.10.20~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.19~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.18~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.17~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.16~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.15~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.14~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.13~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.12~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.11~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.10~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.9~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.8~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.7~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.6~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.5~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.4~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.3~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.2~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.1~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:20.10.0~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:19.03.15~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:19.03.14~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:19.03.13~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:19.03.12~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:19.03.11~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:19.03.10~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages 5:19.03.9~3-0~ubuntu-focal 500 500 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages Reading package lists... Done Building dependency tree... Done Reading state information... Done verify whether docker is installed or not link docker Usage: docker [OPTIONS] COMMAND A self-sufficient runtime for containers Options: --config string Location of client config files (default \"/home/ubuntu/.docker\") -c, --context string Name of the context to use to connect to the daemon (overrides DOCKER_HOST env var and default context set with \"docker context use\") -D, --debug Enable debug mode -H, --host list Daemon socket(s) to connect to -l, --log-level string Set the logging level (\"debug\"|\"info\"|\"warn\"|\"error\"|\"fatal\") (default \"info\") --tls Use TLS; implied by --tlsverify --tlscacert string Trust certs signed only by this CA (default \"/home/ubuntu/.docker/ca.pem\") --tlscert string Path to TLS certificate file (default \"/home/ubuntu/.docker/cert.pem\") --tlskey string Path to TLS key file (default \"/home/ubuntu/.docker/key.pem\") --tlsverify Use TLS and verify the remote -v, --version Print version information and quit Management Commands: app* Docker App (Docker Inc., v0.9.1-beta3) builder Manage builds buildx* Docker Buildx (Docker Inc., v0.9.1-docker) config Manage Docker configs container Manage containers context Manage contexts image Manage images manifest Manage Docker image manifests and manifest lists network Manage networks node Manage Swarm nodes plugin Manage plugins scan* Docker Scan (Docker Inc., v0.21.0) secret Manage Docker secrets service Manage services stack Manage Docker stacks swarm Manage Swarm system Manage Docker trust Manage trust on Docker images volume Manage volumes Commands: attach Attach local standard input, output, and error streams to a running container build Build an image from a Dockerfile commit Create a new image from a container's changes cp Copy files/folders between a container and the local filesystem create Create a new container diff Inspect changes to files or directories on a container's filesystem events Get real time events from the server exec Run a command in a running container export Export a container's filesystem as a tar archive history Show the history of an image images List images import Import the contents from a tarball to create a filesystem image info Display system-wide information inspect Return low-level information on Docker objects kill Kill one or more running containers load Load an image from a tar archive or STDIN login Log in to a Docker registry logout Log out from a Docker registry logs Fetch the logs of a container pause Pause all processes within one or more containers port List port mappings or a specific mapping for the container ps List containers pull Pull an image or a repository from a registry push Push an image or a repository to a registry rename Rename a container restart Restart one or more containers rm Remove one or more containers rmi Remove one or more images run Run a command in a new container save Save one or more images to a tar archive (streamed to STDOUT by default) search Search the Docker Hub for images start Start one or more stopped containers stats Display a live stream of container(s) resource usage statistics stop Stop one or more running containers tag Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE top Display the running processes of a container unpause Unpause all processes within one or more containers update Update configuration of one or more containers version Show the Docker version information wait Block until one or more containers stop, then print their exit codes Run 'docker COMMAND --help' for more information on a command. install docker-compose link sudo sysctl -w vm.max_map_count=262144 sudo curl -L https://github.com/docker/compose/releases/latest/download/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose sudo mv /usr/local/bin/docker-compose /usr/bin/docker-compose sudo chmod +x /usr/bin/docker-compose docker-compose --version vm.max_map_count = 262144 docker-compose up link sudo docker-compose -f docker-compose.yml up --detach pulling all docker images required for the management console link [+] Running 132/133al-router Pulled 5.1s ⠧ deepfence-ui Pulling 55.8s ⠿ ee30d1e46960 Pull complete 18.1s ⠿ cbdf55152882 Pull complete 20.7s ⠿ 02145a3d08dc Pull complete 24.4s ⠿ 3b43024e0402 Pull complete 25.5s ⠿ 000a421a9381 Pull complete 25.8s ⠿ 273e2d14a316 Pull complete 26.1s ⠿ 35f2174af386 Pull complete 52.7s ⠿ 3bf6d37d02af Pull complete 53.2s ⠿ 2ebf2edf21e9 Pull complete 53.7s ⠿ 70ecf58c4679 Pull complete 54.1s ⠿ deepfence-package-scanner Pulled 8.8s ⠿ 51dd59142225 Pull complete 4.0s ⠿ afd427f95343 Pull complete 5.2s ⠿ ad4b784c8601 Pull complete 7.5s ⠿ deepfence-backend Pulled 48.2s ⠿ deepfence-console-agent Pulled 46.4s ⠿ e0c9ebf1f052 Pull complete 25.5s ⠿ 9341ad80650d Pull complete 26.0s ⠿ b6a94e577185 Pull complete 26.9s ⠿ f2f4f6c497c7 Pull complete 27.4s ⠿ 83dc6dff4d1f Pull complete 27.8s ⠿ 2c66b377cc17 Pull complete 28.1s ⠿ ae95bb3e76fc Pull complete 29.9s ⠿ 58edf371ef84 Pull complete 30.5s ⠿ b5b91601778a Pull complete 30.9s ⠿ e7ca0b813b35 Pull complete 31.4s ⠿ bac5f99ed5ff Pull complete 32.2s ⠿ 0b03b6c6e703 Pull complete 32.7s ⠿ 00ef62c6beae Pull complete 33.1s ⠿ 2317941b432c Pull complete 33.4s ⠿ c78d4ef87429 Pull complete 33.8s ⠿ 52d6b999791e Pull complete 37.0s ⠿ 3c66ae264813 Pull complete 40.4s ⠿ fa91d8140bb4 Pull complete 44.0s ⠿ 415ec3af8b5c Pull complete 45.0s ⠿ deepfence-diagnosis Pulled 9.3s ⠿ d8089fb41a4e Pull complete 7.2s ⠿ 761247dc597b Pull complete 7.9s ⠿ deepfence-vulnerability-mapper Pulled 9.0s ⠿ 9621f1afde84 Pull complete 4.8s ⠿ d2f87f45af97 Pull complete 5.8s ⠿ 0df38fc1dcc4 Pull complete 5.8s ⠿ 5ce3bac9b38d Pull complete 6.0s ⠿ b8a17e0751b8 Pull complete 7.7s ⠿ deepfence-redis Pulled 20.4s ⠿ 192e03523482 Pull complete 14.1s ⠿ 7151bccd2756 Pull complete 14.9s ⠿ e599fac432b2 Pull complete 16.0s ⠿ 720d86c10923 Pull complete 16.5s ⠿ 40911e48517b Pull complete 16.9s ⠿ 115eb662e680 Pull complete 17.3s ⠿ 31b9b283aa20 Pull complete 17.9s ⠿ b748b52207f7 Pull complete 18.3s ⠿ 5b0f449535b8 Pull complete 18.9s ⠿ deepfence-api Pulled 48.3s ⠿ 31b3f1ad4ce1 Pull complete 1.8s ⠿ f335cc1597f2 Pull complete 2.0s ⠿ 0375df124bb5 Pull complete 2.6s ⠿ 90a356bcda5b Pull complete 2.7s ⠿ c82e0170c13b Pull complete 2.9s ⠿ 38dc58c5f029 Pull complete 3.0s ⠿ 0189a7ca7a09 Pull complete 40.8s ⠿ 8d069dc99fe4 Pull complete 45.2s ⠿ 50e62824984f Pull complete 45.6s ⠿ c12613b81b5c Pull complete 45.8s ⠿ c8901960f9b5 Pull complete 45.9s ⠿ a5981c5eb3db Pull complete 46.3s ⠿ 860d4f2e0b1a Pull complete 46.8s ⠿ 8a3f7b35b548 Pull complete 47.0s ⠿ 37c02a7c1188 Pull complete 47.4s ⠿ deepfence-celery Pulled 48.2s ⠿ deepfence-postgres Pulled 28.2s ⠿ 7902437d3a12 Pull complete 10.9s ⠿ 709e2267bc98 Pull complete 11.5s ⠿ 10c5a0a9c34e Pull complete 21.4s ⠿ b46af7f38693 Pull complete 22.4s ⠿ 65aa0c237f80 Pull complete 23.3s ⠿ f6493ce74812 Pull complete 24.0s ⠿ eaac3b44f9d0 Pull complete 24.5s ⠿ 3b6db84bcdcc Pull complete 25.1s ⠿ 120ba5542ffd Pull complete 25.5s ⠿ 9fd0e93acee4 Pull complete 25.8s ⠿ 257465d6d91b Pull complete 26.1s ⠿ 568fad078a9c Pull complete 26.5s ⠿ deepfence-init-container Pulled 14.8s ⠿ 2ad0d7925a78 Pull complete 12.6s ⠿ 3e00d8e06113 Pull complete 13.2s ⠿ deepfence-es Pulled 41.1s ⠿ 4e9f2cdf4387 Pull complete 15.3s ⠿ 2e70516637d4 Pull complete 37.1s ⠿ ba468cc9ce22 Pull complete 37.6s ⠿ a2c864bf08ba Pull complete 38.1s ⠿ 7869dc55514f Pull complete 38.8s ⠿ 6320c0eaee7c Pull complete 39.5s [+] Running 133/133al-router Pulled 5.1s ⠿ deepfence-ui Pulled 55.9s ⠿ ee30d1e46960 Pull complete 18.1s ⠿ cbdf55152882 Pull complete 20.7s ⠿ 02145a3d08dc Pull complete 24.4s ⠿ 3b43024e0402 Pull complete 25.5s ⠿ 000a421a9381 Pull complete 25.8s ⠿ 273e2d14a316 Pull complete 26.1s ⠿ 35f2174af386 Pull complete 52.7s ⠿ 3bf6d37d02af Pull complete 53.2s ⠿ 2ebf2edf21e9 Pull complete 53.7s ⠿ 70ecf58c4679 Pull complete 54.1s ⠿ deepfence-package-scanner Pulled 8.8s ⠿ 51dd59142225 Pull complete 4.0s ⠿ afd427f95343 Pull complete 5.2s ⠿ ad4b784c8601 Pull complete 7.5s ⠿ deepfence-backend Pulled 48.2s ⠿ deepfence-console-agent Pulled 46.4s ⠿ e0c9ebf1f052 Pull complete 25.5s ⠿ 9341ad80650d Pull complete 26.0s ⠿ b6a94e577185 Pull complete 26.9s ⠿ f2f4f6c497c7 Pull complete 27.4s ⠿ 83dc6dff4d1f Pull complete 27.8s ⠿ 2c66b377cc17 Pull complete 28.1s ⠿ ae95bb3e76fc Pull complete 29.9s ⠿ 58edf371ef84 Pull complete 30.5s ⠿ b5b91601778a Pull complete 30.9s ⠿ e7ca0b813b35 Pull complete 31.4s ⠿ bac5f99ed5ff Pull complete 32.2s ⠿ 0b03b6c6e703 Pull complete 32.7s ⠿ 00ef62c6beae Pull complete 33.1s ⠿ 2317941b432c Pull complete 33.4s ⠿ c78d4ef87429 Pull complete 33.8s ⠿ 52d6b999791e Pull complete 37.0s ⠿ 3c66ae264813 Pull complete 40.4s ⠿ fa91d8140bb4 Pull complete 44.0s ⠿ 415ec3af8b5c Pull complete 45.0s ⠿ deepfence-diagnosis Pulled 9.3s ⠿ d8089fb41a4e Pull complete 7.2s ⠿ 761247dc597b Pull complete 7.9s ⠿ deepfence-vulnerability-mapper Pulled 9.0s ⠿ 9621f1afde84 Pull complete 4.8s ⠿ d2f87f45af97 Pull complete 5.8s ⠿ 0df38fc1dcc4 Pull complete 5.8s ⠿ 5ce3bac9b38d Pull complete 6.0s ⠿ b8a17e0751b8 Pull complete 7.7s ⠿ deepfence-redis Pulled 20.4s ⠿ 192e03523482 Pull complete 14.1s ⠿ 7151bccd2756 Pull complete 14.9s ⠿ e599fac432b2 Pull complete 16.0s ⠿ 720d86c10923 Pull complete 16.5s ⠿ 40911e48517b Pull complete 16.9s ⠿ 115eb662e680 Pull complete 17.3s ⠿ 31b9b283aa20 Pull complete 17.9s ⠿ b748b52207f7 Pull complete 18.3s ⠿ 5b0f449535b8 Pull complete 18.9s ⠿ deepfence-api Pulled 48.3s ⠿ 31b3f1ad4ce1 Pull complete 1.8s ⠿ f335cc1597f2 Pull complete 2.0s ⠿ 0375df124bb5 Pull complete 2.6s ⠿ 90a356bcda5b Pull complete 2.7s ⠿ c82e0170c13b Pull complete 2.9s ⠿ 38dc58c5f029 Pull complete 3.0s ⠿ 0189a7ca7a09 Pull complete 40.8s ⠿ 8d069dc99fe4 Pull complete 45.2s ⠿ 50e62824984f Pull complete 45.6s ⠿ c12613b81b5c Pull complete 45.8s ⠿ c8901960f9b5 Pull complete 45.9s ⠿ a5981c5eb3db Pull complete 46.3s ⠿ 860d4f2e0b1a Pull complete 46.8s ⠿ 8a3f7b35b548 Pull complete 47.0s ⠿ 37c02a7c1188 Pull complete 47.4s ⠿ deepfence-celery Pulled 48.2s ⠿ deepfence-postgres Pulled 28.2s ⠿ 7902437d3a12 Pull complete 10.9s ⠿ 709e2267bc98 Pull complete 11.5s ⠿ 10c5a0a9c34e Pull complete 21.4s ⠿ b46af7f38693 Pull complete 22.4s ⠿ 65aa0c237f80 Pull complete 23.3s ⠿ f6493ce74812 Pull complete 24.0s ⠿ eaac3b44f9d0 Pull complete 24.5s ⠿ 3b6db84bcdcc Pull complete 25.1s ⠿ 120ba5542ffd Pull complete 25.5s ⠿ 9fd0e93acee4 Pull complete 25.8s ⠿ 257465d6d91b Pull complete 26.1s ⠿ 568fad078a9c Pull complete 26.5s ⠿ deepfence-init-container Pulled 14.8s ⠿ 2ad0d7925a78 Pull complete 12.6s ⠿ 3e00d8e06113 Pull complete 13.2s ⠿ deepfence-es Pulled 41.1s ⠿ 4e9f2cdf4387 Pull complete 15.3s ⠿ 2e70516637d4 Pull complete 37.1s ⠿ ba468cc9ce22 Pull complete 37.6s ⠿ a2c864bf08ba Pull complete 38.1s ⠿ 7869dc55514f Pull complete 38.8s ⠿ 6320c0eaee7c Pull complete 39.5s ⠿ deepfence-internal-router Pulled 5.1s ⠿ deepfence-secret-scanner Pulled 43.2s ⠿ c963e9db8328 Pull complete 34.6s ⠿ 7f20bc208900 Pull complete 35.0s ⠿ a11f9e68c7c1 Pull complete 36.3s ⠿ bac7f7e29d55 Pull complete 36.5s ⠿ a34450f81e53 Pull complete 37.2s ⠿ 8dc83348f20e Pull complete 41.0s ⠿ 1789eac203f6 Pull complete 41.6s ⠿ deepfence-fetcher Pulled 44.4s ⠿ 59bf1c3509f3 Pull complete 22.1s ⠿ 7f019d2ddd3b Pull complete 23.2s ⠿ d365c5dd6d5a Pull complete 23.7s ⠿ 86b2e2904ff3 Pull complete 24.2s ⠿ 9e8d01c5b686 Pull complete 42.5s ⠿ deepfence-router Pulled 5.1s ⠿ df9b9388f04a Pull complete 1.8s ⠿ 7c1ae225ee09 Pull complete 1.9s ⠿ d67475b58d2b Pull complete 2.5s ⠿ 403f08e781eb Pull complete 2.6s ⠿ 452f212a53d1 Pull complete 2.8s ⠿ 437cebde658b Pull complete 2.8s ⠿ 7c9ad45672b2 Pull complete 2.9s ⠿ 7d72372a1383 Pull complete 3.1s ⠿ d6bb5a9a1f12 Pull complete 3.2s ⠿ 7cf149b1a854 Pull complete 3.3s ⠿ b6e2429d9e38 Pull complete 3.3s ⠿ 92dcd490ec00 Pull complete 3.4s ⠿ 617b7a99eac3 Pull complete 3.5s ⠿ 259e00ee3450 Pull complete 3.6s ⠿ 83bec234123b Pull complete 3.7s ⠿ 928a4d3b5efe Pull complete 3.8s ⠿ deepfence-topology Pulled 34.0s ⠿ a0d0a0d46f8b Pull complete 16.0s ⠿ 127cfa2b873d Pull complete 16.6s ⠿ 15a88de45267 Pull complete 30.3s ⠿ 35233bb75987 Pull complete 32.0s ⠿ 8133cfb2a953 Pull complete 32.4s [+] Running 19/19 ⠿ Network ubuntu_deepfence_net Created 0.3s ⠿ Volume \"ubuntu_deepfence_data\" Created 0.0s ⠿ Container deepfence-postgres Started 16.5s ⠿ Container deepfence-secret-scanner Started 18.4s ⠿ Container deepfence-vulnerability-mapper Started 17.3s ⠿ Container deepfence-diagnosis Started 17.5s ⠿ Container deepfence-package-scanner Started 17.7s ⠿ Container deepfence-console-agent Started 16.0s ⠿ Container deepfence-es-master Started 17.1s ⠿ Container df-init-container Started 16.0s ⠿ Container deepfence-topology Started 17.3s ⠿ Container deepfence-router Started 18.4s ⠿ Container deepfence-internal-router Started 17.5s ⠿ Container deepfence-redis Started 2.3s ⠿ Container deepfence-ui Started 2.8s ⠿ Container deepfence-fetcher Started 2.4s ⠿ Container deepfence-celery Started 3.5s ⠿ Container deepfence-api Started 3.4s ⠿ Container deepfence-backend Started 3.1s check all running docker containers link docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 4514ee6713ac deepfenceio/deepfence_api_ce:1.4.1 \"/app/code/dockerify…\" About a minute ago Up About a minute deepfence-api 1ba3ffed69da deepfenceio/deepfence_api_ce:1.4.1 \"/app/code/dockerify…\" About a minute ago Up About a minute deepfence-backend 8bab0ec9f33c deepfenceio/deepfence_api_ce:1.4.1 \"/app/code/dockerify…\" About a minute ago Up About a minute deepfence-celery 22656ac2f42e deepfenceio/deepfence_fetcher_ce:1.4.1 \"/usr/bin/start_fetc…\" About a minute ago Up About a minute 8006/tcp deepfence-fetcher 53e90c2fb2ee deepfenceio/deepfence_ui_ce:1.4.1 \"/home/deepfence/ent…\" About a minute ago Up About a minute deepfence-ui ef95a5d836af deepfenceio/deepfence_redis_ce:1.4.1 \"/usr/local/bin/star…\" About a minute ago Up About a minute 6379/tcp deepfence-redis 41861a1a902d deepfenceio/deepfence_elastic_ce:1.4.1 \"/usr/bin/startEs.sh…\" About a minute ago Up About a minute 127.0.0.1:9200-\u003e9200/tcp, 127.0.0.1:9300-\u003e9300/tcp deepfence-es-master d7f746d048f1 deepfenceio/deepfence_router_ce:1.4.1 \"docker-entrypoint.s…\" About a minute ago Up About a minute 0.0.0.0:80-\u003e80/tcp, :::80-\u003e80/tcp, 0.0.0.0:443-\u003e443/tcp, :::443-\u003e443/tcp deepfence-router c3e6524325b1 deepfenceio/deepfence_vulnerability_mapper_ce:1.4.1 \"/entrypoint.sh\" About a minute ago Up About a minute 8001/tcp deepfence-vulnerability-mapper 4331c9eeb50f deepfenceio/deepfence_router_ce:1.4.1 \"docker-entrypoint.s…\" About a minute ago Up About a minute 127.0.0.1:8443-\u003e443/tcp deepfence-internal-router 16fae4515f45 deepfenceio/deepfence_diagnosis_ce:1.4.1 \"/home/diagnosis\" About a minute ago Up About a minute deepfence-diagnosis 515a139b6c8f deepfenceio/deepfence_agent_ce:1.4.1 \"/usr/local/bin/star…\" About a minute ago Up About a minute deepfence-console-agent 10ac5757f982 deepfenceio/deepfence_postgres_ce:1.4.1 \"docker-entrypoint.s…\" About a minute ago Up About a minute 5432/tcp deepfence-postgres 50621d650d96 deepfenceio/deepfence_package_scanner_ce:1.4.1 \"/usr/local/bin/pack…\" About a minute ago Up About a minute 8002/tcp, 8005/tcp deepfence-package-scanner 0e96086bc3d0 deepfenceio/deepfence_discovery_ce:1.4.1 \"/home/deepfence/ent…\" About a minute ago Up About a minute 127.0.0.1:8004-\u003e8004/tcp deepfence-topology bda5019a336a deepfenceio/deepfence_secret_scanner_ce:1.4.1 \"/home/deepfence/usr…\" About a minute ago Up About a minute deepfence-secret-scanner access threatmapper console using AWS instance public IP\n54.152.156.120 (in your case check your EC2 instance public IP )\nnext part of this you will find here you can do the same deployment using Kubernetes or Helm\n"
            }
        );
    index.add(
            {
                id:  73 ,
                href: "\/docs\/docker\/compose-volume-mount\/",
                title: "Compose Volume Mount",
                description: "Lets build docker compose file link version: '3' services: phpapp: image: php:7.2-apache ports: - \"8080:80\" volumes: - \"./:/var/www/html\" above when we do docker compose up it will start apache with php 7.2 it will mount corrent directory to /var/www/html also it mount port 80 of the container to port 8080 on the host\ncreate index.php with following content link \u003c?php echo \"hello world \\n\\n\"; run with docker compose link 2-DC-Vol-Mount git:(main) ✗ docker compose up [+] Running 15/15 ⠿ phpapp Pulled 13.2s ⠿ c9648d7fcbb6 Pull complete 3.1s ⠿ f88cecc04e76 Pull complete 3.1s ⠿ 30eb7a300f13 Pull complete 5.1s ⠿ c17a0a78e91d Pull complete 5.1s ⠿ 8d436d7bb026 Pull complete 5.6s ⠿ 5543a36f8eed Pull complete 5.7s ⠿ 28135fd83ed1 Pull complete 5.7s ⠿ 485201b000c7 Pull complete 5.8s ⠿ 9e92e56de9f5 Pull complete 5.9s ⠿ 709f68bc1d50 Pull complete 8.3s ⠿ c5ff78edaefc Pull complete 8.3s ⠿ 119f7607f913 Pull complete 8.4s ⠿ 1c04bb0b5fbe Pull complete 8.4s ⠿ 9639d8c8cc76 Pull complete 8.4s [+] Running 2/1 ⠿ Network 2-dc-vol-mount_default Created 0.1s ⠿ Container 2-dc-vol-mount-phpapp-1 Created 0.1s Attaching to 2-dc-vol-mount-phpapp-1 open localhost 8080 linkhttp://localhost:8080\n",
                content: "Lets build docker compose file link version: '3' services: phpapp: image: php:7.2-apache ports: - \"8080:80\" volumes: - \"./:/var/www/html\" above when we do docker compose up it will start apache with php 7.2 it will mount corrent directory to /var/www/html also it mount port 80 of the container to port 8080 on the host\ncreate index.php with following content link \u003c?php echo \"hello world \\n\\n\"; run with docker compose link 2-DC-Vol-Mount git:(main) ✗ docker compose up [+] Running 15/15 ⠿ phpapp Pulled 13.2s ⠿ c9648d7fcbb6 Pull complete 3.1s ⠿ f88cecc04e76 Pull complete 3.1s ⠿ 30eb7a300f13 Pull complete 5.1s ⠿ c17a0a78e91d Pull complete 5.1s ⠿ 8d436d7bb026 Pull complete 5.6s ⠿ 5543a36f8eed Pull complete 5.7s ⠿ 28135fd83ed1 Pull complete 5.7s ⠿ 485201b000c7 Pull complete 5.8s ⠿ 9e92e56de9f5 Pull complete 5.9s ⠿ 709f68bc1d50 Pull complete 8.3s ⠿ c5ff78edaefc Pull complete 8.3s ⠿ 119f7607f913 Pull complete 8.4s ⠿ 1c04bb0b5fbe Pull complete 8.4s ⠿ 9639d8c8cc76 Pull complete 8.4s [+] Running 2/1 ⠿ Network 2-dc-vol-mount_default Created 0.1s ⠿ Container 2-dc-vol-mount-phpapp-1 Created 0.1s Attaching to 2-dc-vol-mount-phpapp-1 open localhost 8080 linkhttp://localhost:8080\n"
            }
        );
    index.add(
            {
                id:  74 ,
                href: "\/docs\/containersecurity\/sock-shop-docker-compose-and-weave\/",
                title: "Sock Shop Docker Compose and Weave",
                description: "Sock Shop Docker Compose \u0026 Weave\nPre-requisites Install Docker Install Weave Scope Install Weave Net\ngit clone https://github.com/microservices-demo/microservices-demo cd microservices-demo curl -sSL https://get.docker.com/ | sh apt-get install -yq python-pip build-essential python-dev pip install docker-compose curl -L git.io/weave -o /usr/local/bin/weave chmod a+x /usr/local/bin/weave Launch Weave Scope\nsudo curl -L git.io/scope -o /usr/local/bin/scope sudo chmod a+x /usr/local/bin/scope scope launch Weave launch\nweave launch docker-compose -f deploy/docker-compose-weave/docker-compose.yml up -d ",
                content: "Sock Shop Docker Compose \u0026 Weave\nPre-requisites Install Docker Install Weave Scope Install Weave Net\ngit clone https://github.com/microservices-demo/microservices-demo cd microservices-demo curl -sSL https://get.docker.com/ | sh apt-get install -yq python-pip build-essential python-dev pip install docker-compose curl -L git.io/weave -o /usr/local/bin/weave chmod a+x /usr/local/bin/weave Launch Weave Scope\nsudo curl -L git.io/scope -o /usr/local/bin/scope sudo chmod a+x /usr/local/bin/scope scope launch Weave launch\nweave launch docker-compose -f deploy/docker-compose-weave/docker-compose.yml up -d "
            }
        );
    index.add(
            {
                id:  75 ,
                href: "\/docs\/docker\/custom-dockerfile-with-compose\/",
                title: "Custom Dockerfile with Compose",
                description: "Build Own Dockerfile and Docker Compose with Custom configuration linkcrate docker compose file with following content\nversion: '3' services: phpapp: build: context: ./ dockerfile: Dockerfile image: phpapp:123 ports: - \"8080:80\" volumes: - \"./:/var/www/html\" container_name: my-php-app here using dockerfile to generate an image mount folder inside your directory automatically create index.php with following content link \u003c?php phpinfo(); build docker compose file link 3-DC-Custom git:(main) ✗ docker compose up [+] Running 0/1 ⠿ phpapp Warning 3.5s [+] Building 6.4s (7/7) FINISHED =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load build definition from Dockerfile.1 0.0s =\u003e =\u003e transferring dockerfile: 58B 0.0s =\u003e [internal] load metadata for docker.io/library/php:7.2-apache 4.7s =\u003e [auth] library/php:pull token for registry-1.docker.io 0.0s =\u003e CACHED [1/1] FROM docker.io/library/php:7.2-apache@sha256:4dc0f 0.0s =\u003e =\u003e resolve docker.io/library/php:7.2-apache@sha256:4dc0f0115acf 0.0s =\u003e exporting to docker image format 1.7s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e exporting manifest sha256:0ba34bb4f00dd5ff9830453180af98fe10 0.0s =\u003e =\u003e exporting config sha256:a1c8ee68f9b1abcb72605f5bf0eee69dbf23 0.0s =\u003e =\u003e sending tarball 1.6s =\u003e importing to docker 0.0s [+] Running 2/2 ⠿ Network 3-dc-custom_default Cre... 0.1s ⠿ Container my-php-app Created 0.1s Attaching to my-php-app check it out localhost 80 linkhttp://localhost:8080\n",
                content: "Build Own Dockerfile and Docker Compose with Custom configuration linkcrate docker compose file with following content\nversion: '3' services: phpapp: build: context: ./ dockerfile: Dockerfile image: phpapp:123 ports: - \"8080:80\" volumes: - \"./:/var/www/html\" container_name: my-php-app here using dockerfile to generate an image mount folder inside your directory automatically create index.php with following content link \u003c?php phpinfo(); build docker compose file link 3-DC-Custom git:(main) ✗ docker compose up [+] Running 0/1 ⠿ phpapp Warning 3.5s [+] Building 6.4s (7/7) FINISHED =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load build definition from Dockerfile.1 0.0s =\u003e =\u003e transferring dockerfile: 58B 0.0s =\u003e [internal] load metadata for docker.io/library/php:7.2-apache 4.7s =\u003e [auth] library/php:pull token for registry-1.docker.io 0.0s =\u003e CACHED [1/1] FROM docker.io/library/php:7.2-apache@sha256:4dc0f 0.0s =\u003e =\u003e resolve docker.io/library/php:7.2-apache@sha256:4dc0f0115acf 0.0s =\u003e exporting to docker image format 1.7s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e exporting manifest sha256:0ba34bb4f00dd5ff9830453180af98fe10 0.0s =\u003e =\u003e exporting config sha256:a1c8ee68f9b1abcb72605f5bf0eee69dbf23 0.0s =\u003e =\u003e sending tarball 1.6s =\u003e importing to docker 0.0s [+] Running 2/2 ⠿ Network 3-dc-custom_default Cre... 0.1s ⠿ Container my-php-app Created 0.1s Attaching to my-php-app check it out localhost 80 linkhttp://localhost:8080\nupdate your existing Dockerfile with following content\nFROM php:7.2-apache RUN apt-get -y update \\ \u0026\u0026 apt-get install -y libicu-dev \\ \u0026\u0026 docker-php-ext-configure intl \\ \u0026\u0026 docker-php-ext-install intl RUN docker-php-ext-install mysqli \u0026\u0026 docker-php-ext-enable mysqli update existing docker-compose.yml\nversion: '3' services: phpapp: build: context: ./ dockerfile: Dockerfile.2 image: phpapp:123 ports: - \"8080:80\" volumes: - \"./:/var/www/html\" container_name: my-php-app rebuild docker compose link 3-DC-Custom git:(main) ✗ docker compose up --build [+] Building 43.1s (9/9) FINISHED =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load build definition from Dockerfile.2 0.0s =\u003e =\u003e transferring dockerfile: 255B 0.0s =\u003e [internal] load metadata for docker.io/library/php:7.2-apache 2.3s =\u003e [auth] library/php:pull token for registry-1.docker.io 0.0s =\u003e CACHED [1/3] FROM docker.io/library/php:7.2-apache@sha256:4dc0f 0.0s =\u003e =\u003e resolve docker.io/library/php:7.2-apache@sha256:4dc0f0115acf 0.0s =\u003e [2/3] RUN apt-get -y update \u0026\u0026 apt-get install -y libicu-dev \u0026 28.9s =\u003e [3/3] RUN docker-php-ext-install mysqli \u0026\u0026 docker-php-ext-enabl 6.9s =\u003e exporting to docker image format 4.9s =\u003e =\u003e exporting layers 2.3s =\u003e =\u003e exporting manifest sha256:ee6a98e1847d8149754239ab5be0cad310 0.0s =\u003e =\u003e exporting config sha256:2800277bcab2cb605936b4f874bff2c8251d 0.0s =\u003e =\u003e sending tarball 2.6s =\u003e importing to docker 0.5s [+] Running 1/1 ⠿ Container my-php-app Recreated 0.1s Attaching to my-php-app my-php-app | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.22.0.2. Set the 'ServerName' directive globally to suppress this message my-php-app | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.22.0.2. Set the 'ServerName' directive globally to suppress this message my-php-app | [Fri Mar 03 11:55:09.580207 2023] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.38 (Debian) PHP/7.2.34 configured -- resuming normal operations my-php-app | [Fri Mar 03 11:55:09.580274 2023] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND' my-php-app | 172.22.0.1 - - [03/Mar/2023:11:55:14 +0000] \"GET /mysql HTTP/1.1\" 404 490 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" my-php-app | 172.22.0.1 - - [03/Mar/2023:11:55:19 +0000] \"GET / HTTP/1.1\" 200 23831 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" ¸^CGracefully stopping... (press Ctrl+C again to force) Aborting on container exit... [+] Running 1/1 ⠿ Container my-php-app Stopped 1.2s canceled "
            }
        );
    index.add(
            {
                id:  76 ,
                href: "\/docs\/docker\/php-apache-and-db-with-compose\/",
                title: "PHP, Apache, and DB with Compose",
                description: "we will see detach form logs upon start and user multiservices in one docker container\nversion: '3' services: phpapp: build: context: ./ dockerfile: Dockerfile image: phpapp:123 ports: - \"8080:80\" volumes: - \"./:/var/www/html\" container_name: myphpapp-app db: image: mysql:5.7 restart: always environment: MYSQL_ROOT_PASSWORD: my!!!root!!!pw container_name: myphpapp-db here you see two services phpapp and myphpapp-app and image called phpapp with 123 tag\nanother service called db form mysql this container restarts always which means it crashes ? the it restarts automatically !\n",
                content: "we will see detach form logs upon start and user multiservices in one docker container\nversion: '3' services: phpapp: build: context: ./ dockerfile: Dockerfile image: phpapp:123 ports: - \"8080:80\" volumes: - \"./:/var/www/html\" container_name: myphpapp-app db: image: mysql:5.7 restart: always environment: MYSQL_ROOT_PASSWORD: my!!!root!!!pw container_name: myphpapp-db here you see two services phpapp and myphpapp-app and image called phpapp with 123 tag\nanother service called db form mysql this container restarts always which means it crashes ? the it restarts automatically !\nupon start we set a password for the root user “my!!root!!pw” just fo demostrate\ncreate dockerfile with following content\nFROM php:7.2-apache RUN docker-php-ext-install mysqli \u0026\u0026 docker-php-ext-enable mysqli crete index.php with following content\n\u003c?php header(\"content-type: text\"); $host = \"db\"; //The hostname \"db\" from our docker-compose.yml file!!! $username = \"root\"; //We use the root user $pw = \"my!!!root!!!pw\"; //that's the password we set as environment variable $conn = new mysqli($host,$username,$pw); if ($conn-\u003econnect_errno \u003e 0) { echo $db-\u003econnect_error; } else { echo \"DB Connection successful\\n\\n\"; } build docker compose link docker-compose up --build [+] Building 22.7s (7/7) FINISHED =\u003e [internal] load build definition from dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 126B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/php:apache-buster 2.6s =\u003e [1/2] FROM docker.io/library/php:apache-buster@sha256:386b6018bd 8.1s =\u003e =\u003e resolve docker.io/library/php:apache-buster@sha256:386b6018bd 0.0s =\u003e =\u003e sha256:4ba26e0fdc7f78867d9be8a223260f2d592c7be7bd 893B / 893B 0.6s =\u003e =\u003e sha256:224f38e513c9d90e092a021139f4859652f2981083 246B / 246B 0.5s =\u003e =\u003e sha256:652ab663764a1e05149b0df37b8389096be761 2.46kB / 2.46kB 0.5s =\u003e =\u003e sha256:fd3bc60f67a0da00904c6206528bdfa08ff9 11.36MB / 11.36MB 3.0s =\u003e =\u003e sha256:a30f4659f909420c63fc05831b6b4847a9cbd15932 491B / 491B 0.6s =\u003e =\u003e sha256:5387bfe59045447db1c94ed8d5fc84eb3803 12.38MB / 12.38MB 1.9s =\u003e =\u003e sha256:02fed234e9e5648116b0206ab71f67d6de466202ca 513B / 513B 0.5s =\u003e =\u003e sha256:0e3638958ff4f83d56ad9a11fc474f5af5e9336f3d 474B / 474B 1.4s =\u003e =\u003e sha256:38ce3c4babbe62c529e9a7e6e4de5ac72168 18.58MB / 18.58MB 2.0s =\u003e =\u003e sha256:573449e685b037ec25e2637d4fe3e19e09429f5521 269B / 269B 0.6s =\u003e =\u003e sha256:de58dc66c01f3c4357b62fc24dc75f3b14a3 70.37MB / 70.37MB 3.8s =\u003e =\u003e sha256:ed22f951ea44cd39f81544a2f0bf196ad60d 25.92MB / 25.92MB 1.9s =\u003e =\u003e sha256:f0071d92462e7f83ca38e778e6dff5c113712119e2 226B / 226B 0.6s =\u003e =\u003e extracting sha256:ed22f951ea44cd39f81544a2f0bf196ad60d13c1428 0.6s =\u003e =\u003e extracting sha256:f0071d92462e7f83ca38e778e6dff5c113712119e27 0.0s =\u003e =\u003e extracting sha256:de58dc66c01f3c4357b62fc24dc75f3b14a32bf650f 1.2s =\u003e =\u003e extracting sha256:573449e685b037ec25e2637d4fe3e19e09429f55213 0.0s =\u003e =\u003e extracting sha256:38ce3c4babbe62c529e9a7e6e4de5ac72168768d161 0.3s =\u003e =\u003e extracting sha256:0e3638958ff4f83d56ad9a11fc474f5af5e9336f3d2 0.0s =\u003e =\u003e extracting sha256:02fed234e9e5648116b0206ab71f67d6de466202ca2 0.0s =\u003e =\u003e extracting sha256:5387bfe59045447db1c94ed8d5fc84eb3803be624d8 0.1s =\u003e =\u003e extracting sha256:a30f4659f909420c63fc05831b6b4847a9cbd159320 0.0s =\u003e =\u003e extracting sha256:fd3bc60f67a0da00904c6206528bdfa08ff9515ce14 0.2s =\u003e =\u003e extracting sha256:652ab663764a1e05149b0df37b8389096be76171a21 0.0s =\u003e =\u003e extracting sha256:224f38e513c9d90e092a021139f4859652f2981083e 0.0s =\u003e =\u003e extracting sha256:4ba26e0fdc7f78867d9be8a223260f2d592c7be7bdb 0.0s =\u003e [2/2] RUN docker-php-ext-install mysqli \u0026\u0026 docker-php-ext-enable 7.8s =\u003e exporting to docker image format 4.2s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e exporting manifest sha256:a328dcabf983b4d59f41482a80e08861ee4 0.0s =\u003e =\u003e exporting config sha256:b38bdd1cd3eabf8ea442587b892d0a0d86e6d 0.0s =\u003e =\u003e sending tarball 4.1s =\u003e importing to docker 2.5s [+] Running 2/2 ⠿ Container myphpapp-db Created 0.0s ⠿ Container myphpapp-app Recreated 0.3s Attaching to myphpapp-app, myphpapp-db myphpapp-db | 2023-03-03 19:30:17+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.32-1.el8 started. myphpapp-app | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.24.0.3. Set the 'ServerName' directive globally to suppress this message myphpapp-app | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.24.0.3. Set the 'ServerName' directive globally to suppress this message myphpapp-app | [Fri Mar 03 19:30:17.681041 2023] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.38 (Debian) PHP/8.2.3 configured -- resuming normal operations myphpapp-app | [Fri Mar 03 19:30:17.681312 2023] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND' myphpapp-db | 2023-03-03 19:30:17+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql' myphpapp-db | 2023-03-03 19:30:17+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.32-1.el8 started. myphpapp-db | '/var/lib/mysql/mysql.sock' -\u003e '/var/run/mysqld/mysqld.sock' myphpapp-db | 2023-03-03T19:30:18.754320Z 0 [Warning] [MY-011068] [Server] The syntax '--skip-host-cache' is deprecated and will be removed in a future release. Please use SET GLOBAL host_cache_size=0 instead. myphpapp-db | 2023-03-03T19:30:18.756720Z 0 [System] [MY-010116] [Server] /usr/sbin/mysqld (mysqld 8.0.32) starting as process 1 myphpapp-db | 2023-03-03T19:30:18.764513Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started. myphpapp-db | 2023-03-03T19:30:19.043718Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended. myphpapp-db | 2023-03-03T19:30:19.237016Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed. myphpapp-db | 2023-03-03T19:30:19.237069Z 0 [System] [MY-013602] [Server] Channel mysql_main configured to support TLS. Encrypted connections are now supported for this channel. myphpapp-db | 2023-03-03T19:30:19.238922Z 0 [Warning] [MY-011810] [Server] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory. myphpapp-db | 2023-03-03T19:30:19.258982Z 0 [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.0.32' socket: '/var/run/mysqld/mysqld.sock' port: 3306 MySQL Community Server - GPL. myphpapp-db | 2023-03-03T19:30:19.259341Z 0 [System] [MY-011323] [Server] X Plugin ready for connections. Bind-address: '::' port: 33060, socket: /var/run/mysqld/mysqlx.sock myphpapp-app | 172.24.0.1 - - [03/Mar/2023:19:30:35 +0000] \"GET / HTTP/1.1\" 200 235 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" open browser linkhttp://localhost:8080\nif you see out put as DB Connection successful\ncheers !\nlets adda a query to select the existing database on the mariaDB server extend your index.php\n\u003c?php header(\"content-type: text\"); $host = \"db\"; //The hostname \"db\" from our docker-compose.yml file $username = \"root\"; //We use the root user $pw = \"my!!!root!!!pw\"; //that's the password we set as environment variable $conn = new mysqli($host,$username,$pw); if ($conn-\u003econnect_errno \u003e 0) { echo $db-\u003econnect_error; } else { echo \"DB Connection successful\\n\\n\"; //we read out the content $result=mysqli_query($conn,\"SHOW DATABASES;\"); while( $row = mysqli_fetch_row( $result ) ){ echo $row[0].\"\\n\"; } } rebuild your docker compose after updating your php file\n4-DC-apache-database git:(main) ✗ docker-compose up --build [+] Building 4.0s (8/8) FINISHED =\u003e [internal] load build definition from dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 126B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/php:apache-buster 2.3s =\u003e [auth] library/php:pull token for registry-1.docker.io 0.0s =\u003e [1/2] FROM docker.io/library/php:apache-buster@sha256:386b6018bd3f73fb8f0bda3d26f76f402c36a68ed9d061b00bd7c080ea1fc951 0.0s =\u003e =\u003e resolve docker.io/library/php:apache-buster@sha256:386b6018bd3f73fb8f0bda3d26f76f402c36a68ed9d061b00bd7c080ea1fc951 0.0s =\u003e CACHED [2/2] RUN docker-php-ext-install mysqli \u0026\u0026 docker-php-ext-enable mysqli 0.0s =\u003e exporting to docker image format 1.6s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e exporting manifest sha256:a328dcabf983b4d59f41482a80e08861ee4226b2fe131b13a87bae3ff9b86e9c 0.0s =\u003e =\u003e exporting config sha256:b38bdd1cd3eabf8ea442587b892d0a0d86e6d54251e1724444208996488da8e6 0.0s =\u003e =\u003e sending tarball 1.6s =\u003e importing to docker 0.1s [+] Running 2/0 ⠿ Container myphpapp-app Created 0.0s ⠿ Container myphpapp-db Created 0.0s Attaching to myphpapp-app, myphpapp-db myphpapp-db | 2023-03-03 19:34:00+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.32-1.el8 started. myphpapp-app | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.24.0.3. Set the 'ServerName' directive globally to suppress this message myphpapp-app | AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 172.24.0.3. Set the 'ServerName' directive globally to suppress this message myphpapp-app | [Fri Mar 03 19:34:00.799408 2023] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.38 (Debian) PHP/8.2.3 configured -- resuming normal operations myphpapp-app | [Fri Mar 03 19:34:00.799469 2023] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND' myphpapp-db | 2023-03-03 19:34:00+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql' myphpapp-db | 2023-03-03 19:34:00+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.32-1.el8 started. myphpapp-db | '/var/lib/mysql/mysql.sock' -\u003e '/var/run/mysqld/mysqld.sock' myphpapp-db | 2023-03-03T19:34:01.423026Z 0 [Warning] [MY-011068] [Server] The syntax '--skip-host-cache' is deprecated and will be removed in a future release. Please use SET GLOBAL host_cache_size=0 instead. myphpapp-db | 2023-03-03T19:34:01.430139Z 0 [System] [MY-010116] [Server] /usr/sbin/mysqld (mysqld 8.0.32) starting as process 1 myphpapp-db | 2023-03-03T19:34:01.437649Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started. myphpapp-db | 2023-03-03T19:34:01.524024Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended. myphpapp-db | 2023-03-03T19:34:01.700495Z 0 [Warning] [MY-010068] [Server] CA certificate ca.pem is self signed. myphpapp-db | 2023-03-03T19:34:01.700522Z 0 [System] [MY-013602] [Server] Channel mysql_main configured to support TLS. Encrypted connections are now supported for this channel. myphpapp-db | 2023-03-03T19:34:01.701509Z 0 [Warning] [MY-011810] [Server] Insecure configuration for --pid-file: Location '/var/run/mysqld' in the path is accessible to all OS users. Consider choosing a different directory. myphpapp-db | 2023-03-03T19:34:01.711706Z 0 [System] [MY-011323] [Server] X Plugin ready for connections. Bind-address: '::' port: 33060, socket: /var/run/mysqld/mysqlx.sock myphpapp-db | 2023-03-03T19:34:01.711810Z 0 [System] [MY-010931] [Server] /usr/sbin/mysqld: ready for connections. Version: '8.0.32' socket: '/var/run/mysqld/mysqld.sock' port: 3306 MySQL Community Server - GPL. myphpapp-app | 172.24.0.1 - - [03/Mar/2023:19:34:12 +0000] \"GET / HTTP/1.1\" 200 283 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15\" open browser linkhttp://localhost:8080\n"
            }
        );
    index.add(
            {
                id:  77 ,
                href: "\/docs\/docker\/host-volume-mount\/",
                title: "Host Volume Mount",
                description: "we already used database with web app but docker containers are ephermal. this means they are losing data once removed or re-started so somewhere need to find data persistent\ncreate docker-compose.yml using following content\nversion: '3' services: db: image: mysql:latest restart: always container_name: myphpapp-db environment: MYSQL_ROOT_PASSWORD: somepass MYSQL_DATABASE: somedatabase dbclient: image: mysql:latest depends_on: - db command: mysql -uroot -psomepass -hdb MYSQL_DATABASE will create an empty database with the name “somedatabase” at first\n",
                content: "we already used database with web app but docker containers are ephermal. this means they are losing data once removed or re-started so somewhere need to find data persistent\ncreate docker-compose.yml using following content\nversion: '3' services: db: image: mysql:latest restart: always container_name: myphpapp-db environment: MYSQL_ROOT_PASSWORD: somepass MYSQL_DATABASE: somedatabase dbclient: image: mysql:latest depends_on: - db command: mysql -uroot -psomepass -hdb MYSQL_DATABASE will create an empty database with the name “somedatabase” at first\ndepends_on waits for the container to start on the other containers\nrun the command link 5-DC-Host-Vol-mount git:(main) ✗ docker compose up -d [+] Running 3/3 ⠿ Network 5-dc-host-vol-mount_default Created 0.1s ⠿ Container myphpapp-db St... 0.3s ⠿ Container 5-dc-host-vol-mount-dbclient-1 Started 0.5s check docker compose process link 5-DC-Host-Vol-mount git:(main) ✗ docker compose ps NAME IMAGE COMMAND SERVICE CREATED STATUS PORTS myphpapp-db mysql:latest \"docker-entrypoint.s…\" db About a minute ago Up About a minute 3306/tcp, 33060/tcp open mariadb shell link docker compose run --rm dbclient [+] Running 1/0 ⠿ Container myphpapp-db Running 0.0s mysql: [Warning] Using a password on the command line interface can be insecure. Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 8 Server version: 8.0.32 MySQL Community Server - GPL Copyright (c) 2000, 2023, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql\u003e enter following SQL queries link mysql\u003e USE somedatabase; Database changed mysql\u003e SHOW TABLES; Empty set (0.01 sec) lets create table link mysql\u003e CREATE TABLE mytable (id INT) ; Query OK, 0 rows affected (0.04 sec) mysql\u003e SHOW TABLES; +------------------------+ | Tables_in_somedatabase | +------------------------+ | mytable | +------------------------+ 1 row in set (0.01 sec) mysql\u003e exit stop and remove container link docker-compose stop [+] Running 2/2 ⠿ Container 5-dc-host-vol-mount-dbclient-1 Stopped 0.0s ⠿ Container myphpapp-db Stopped 1.8s 5-DC-Host-Vol-mount git:(main) ✗ docker-compose rm ? Going to remove 5-dc-host-vol-mount-dbclient-1, myphpapp-db Yes [+] Running 2/0 ⠿ Container myphpapp-db Removed 0.0s ⠿ Container 5-dc-host-vol-mount-dbclient-1 Removed 0.0s ➜ 5-DC-Host-Vol-mount git:(main) ✗ lets make data persistent even we remove container ? with volumesa nd a host mounded data directory link mkdir data lets update docker-compose.yml\nversion: '3' services: db: image: mysql:latest restart: always container_name: myphpapp-db environment: MYSQL_ROOT_PASSWORD: somepass MYSQL_DATABASE: somedatabase volumes: - ./data:/var/lib/mysql dbclient: image: mysql:latest depends_on: - db command: mysql -uroot -psomepass -hdb restart docker compose link docker-compose up -d [+] Running 2/2 ⠿ Container myphpapp-db Started 0.4s ⠿ Container 5-dc-host-vol-mount-dbclient-1 Started 0.7s recreate table link ➜ 5-DC-Host-Vol-mount git:(main) ✗ docker compose run --rm dbclient [+] Running 1/0 ⠿ Container myphpapp-db Running 0.0s mysql: [Warning] Using a password on the command line interface can be insecure. Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 8 Server version: 8.0.32 MySQL Community Server - GPL Copyright (c) 2000, 2023, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql\u003e USE somedatabase; Database changed mysql\u003e SHOW TABLES; Empty set (0.01 sec) CREATE TABLE mytable (id INT) ; Query OK, 0 rows affected (0.04 sec) mysql\u003e SHOW TABLES; +------------------------+ | Tables_in_somedatabase | +------------------------+ | mytable | +------------------------+ 1 row in set (0.00 sec) mysql\u003e exit stop and remove the container link 5-DC-Host-Vol-mount git:(main) ✗ docker compose stop [+] Running 2/2 ⠿ Container 5-dc-host-vol-mount-dbclient-1 Stopped 0.0s ⠿ Container myphpapp-db Stopped 2.0s ➜ 5-DC-Host-Vol-mount git:(main) ✗ docker compose rm ? Going to remove 5-dc-host-vol-mount-dbclient-1, myphpapp-db Yes [+] Running 2/0 ⠿ Container myphpapp-db Removed 0.0s ⠿ Container 5-dc-host-vol-mount-dbclient-1 Removed 0.0s ➜ 5-DC-Host-Vol-mount git:(main) ✗ lets start db container again link docker compose run --rm dbclient [+] Running 1/0 ⠿ Container myphpapp-db Running 0.0s mysql: [Warning] Using a password on the command line interface can be insecure. Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 8 Server version: 8.0.32 MySQL Community Server - GPL Copyright (c) 2000, 2023, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. mysql\u003e lets data is persistent or not link USE somedatabase; Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Database changed mysql\u003e SHOW TABLES; +------------------------+ | Tables_in_somedatabase | +------------------------+ | mytable | +------------------------+ 1 row in set (0.00 sec) mysql\u003e exit "
            }
        );
    index.add(
            {
                id:  78 ,
                href: "\/docs\/docker\/named-volume-mount\/",
                title: "Named Volume Mount",
                description: "create volume link 6-DC-name-volume git:(main) ✗ docker volume create --name my-vol my-vol create docker-compose.yml with following content link version: '3.7' services: db: image: mysql:latest restart: always container_name: myphpapp-db environment: MYSQL_ROOT_PASSWORD: somepass MYSQL_DATABASE: somedatabase volumes: - my-vol:/var/lib/mysql volumes: my-vol: name: my-vol run docker compose link docker compose up -d WARN[0000] volume \"my-vol\" already exists but was not created by Docker Compose. Use `external: true` to use an existing volume [+] Running 1/1 ⠿ Container myphpapp-db Started 0.3s ➜ 6-DC-name-volume git:(main) ✗ start new container with ubuntu link docker run -v my-vol:/mydata --rm -it ubuntu /bin/bash show the database data files\n",
                content: "create volume link 6-DC-name-volume git:(main) ✗ docker volume create --name my-vol my-vol create docker-compose.yml with following content link version: '3.7' services: db: image: mysql:latest restart: always container_name: myphpapp-db environment: MYSQL_ROOT_PASSWORD: somepass MYSQL_DATABASE: somedatabase volumes: - my-vol:/var/lib/mysql volumes: my-vol: name: my-vol run docker compose link docker compose up -d WARN[0000] volume \"my-vol\" already exists but was not created by Docker Compose. Use `external: true` to use an existing volume [+] Running 1/1 ⠿ Container myphpapp-db Started 0.3s ➜ 6-DC-name-volume git:(main) ✗ start new container with ubuntu link docker run -v my-vol:/mydata --rm -it ubuntu /bin/bash show the database data files\nroot@1666e5d6f315:/# cd mydata/ root@1666e5d6f315:/mydata# ls '#ib_16384_0.dblwr' binlog.000001 client-cert.pem mysql public_key.pem undo_001 '#ib_16384_1.dblwr' binlog.000002 client-key.pem mysql.ibd server-cert.pem undo_002 '#innodb_redo' binlog.index ib_buffer_pool mysql.sock server-key.pem '#innodb_temp' ca-key.pem ibdata1 performance_schema somedatabase auto.cnf ca.pem ibtmp1 private_key.pem sys root@1666e5d6f315:/mydata# root@1666e5d6f315:/mydata# exit exit share data between two containers? lets try ? link 6-DC-name-volume git:(main) ✗ docker volume create --name Datastore1 Datastore1 open a shell woth datastore1 in /mydatabase link docker run -v Datastore1:/mydatastore --rm -it ubuntu /bin/bash write a new text file link echo \"hello datastore1\" \u003e /mydatastore/hello.txt root@4b119677c00b:/# ls bin boot dev etc home lib media mnt mydatastore opt proc root run sbin srv sys tmp usr var root@4b119677c00b:/# cat mydatastore/hello.txt hello datastore1 root@4b119677c00b:/# add another line link root@4b119677c00b:/# echo \"\\n\\nhello datastore 2\" \u003e\u003e /mydatastore/hello.txt root@4b119677c00b:/# cat mydatastore/hello.txt hello datastore1 \\n\\nhello datastore 2 root@4b119677c00b:/# "
            }
        );
    index.add(
            {
                id:  79 ,
                href: "\/docs\/docker\/compose-build-command\/",
                title: "Compose Build Command",
                description: "Docker Compose Build Command link docker compose build [OPTIONS] [SERVICE...] If you change a service’s Dockerfile or the contents of its build directory, run docker compose build to rebuild it.\n--build-arg\tSet build-time variables for services.\n--no-cache\tDo not use cache when building the image --progress\tauto\tSet type of progress output (auto, tty, plain, quiet) .\n--pull\tAlways attempt to pull a newer version of the image..\n--push\tPush service images..\n--quiet , -q\tDon’t print anything to STDOUT.\n--ssh\tSet SSH authentications used when building .service images. (use ‘default’ for using your default SSH Agent)\n",
                content: "Docker Compose Build Command link docker compose build [OPTIONS] [SERVICE...] If you change a service’s Dockerfile or the contents of its build directory, run docker compose build to rebuild it.\n--build-arg\tSet build-time variables for services.\n--no-cache\tDo not use cache when building the image --progress\tauto\tSet type of progress output (auto, tty, plain, quiet) .\n--pull\tAlways attempt to pull a newer version of the image..\n--push\tPush service images..\n--quiet , -q\tDon’t print anything to STDOUT.\n--ssh\tSet SSH authentications used when building .service images. (use ‘default’ for using your default SSH Agent)\ncreate dockerfile with following content link # syntax=docker/dockerfile:1 FROM python:3.7-alpine WORKDIR /code ENV FLASK_APP=app.py ENV FLASK_RUN_HOST=0.0.0.0 RUN apk add --no-cache gcc musl-dev linux-headers COPY requirements.txt requirements.txt RUN pip install -r requirements.txt EXPOSE 5000 COPY . . CMD [\"flask\", \"run\"] create app.py with following content\nimport time import redis from flask import Flask app = Flask(__name__) cache = redis.Redis(host='redis', port=6379) def get_hit_count(): retries = 5 while True: try: return cache.incr('hits') except redis.exceptions.ConnectionError as exc: if retries == 0: raise exc retries -= 1 time.sleep(0.5) @app.route('/') def hello(): count = get_hit_count() return 'Hello World! I have been seen {} times.\\n'.format(count) create requirements.txt with following content link flask redis create docker-compose.yml with following content\nversion: \"3.9\" services: web: build: . ports: - \"8000:5000\" redis: image: \"redis:alpine\" docker compose build link 7-DC-CLI git:(main) ✗ docker compose build [+] Building 27.1s (15/15) FINISHED =\u003e [internal] booting buildkit 0.5s =\u003e =\u003e starting container buildx_buildkit_great_brahmagupta0 0.5s =\u003e [internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 319B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e resolve image config for docker.io/docker/dockerfile:1 3.8s =\u003e docker-image://docker.io/docker/dockerfile:1@sha256:39b85bbfa7536a5feceb7372a0817649ecb2724562a38360f4d6a77 3.1s =\u003e =\u003e resolve docker.io/docker/dockerfile:1@sha256:39b85bbfa7536a5feceb7372a0817649ecb2724562a38360f4d6a7782a4 0.0s =\u003e =\u003e sha256:9d0cd65540a143ce38aa0be7c5e9efeed30d3580d03667f107cd76354f2bee65 10.82MB / 10.82MB 3.0s =\u003e =\u003e extracting sha256:9d0cd65540a143ce38aa0be7c5e9efeed30d3580d03667f107cd76354f2bee65 0.1s =\u003e [internal] load metadata for docker.io/library/python:3.7-alpine 3.6s =\u003e [1/6] FROM docker.io/library/python:3.7-alpine@sha256:c9c2d6f97a00b211def3818830883495417e3b1fd34783ce6135c 3.9s =\u003e =\u003e resolve docker.io/library/python:3.7-alpine@sha256:c9c2d6f97a00b211def3818830883495417e3b1fd34783ce6135c 0.0s =\u003e =\u003e sha256:57a125a213d772ab0750422ad92f1cc7d1d97e0b09ad4ed766d9cd50db8e2b50 2.88MB / 2.88MB 1.9s =\u003e =\u003e sha256:2bd7dfc9c660f2a9be2e537fd8f7f3c289ea1ba335c957472bd9a51630c9b449 230B / 230B 0.6s =\u003e =\u003e sha256:6b1178b7c6752e0d2eb293ee14286ec1f75d0f868d9826bcaba24fe33affea99 11.01MB / 11.01MB 3.0s =\u003e =\u003e sha256:cdba2f6867522ee9d2e8dcc9b1ad3ec5bafe75da976a3e613ff26cbc98738b48 624.86kB / 624.86kB 3.5s =\u003e =\u003e sha256:af6eaf76a39c2d3e7e0b8a0420486e3df33c4027d696c076a99a3d0ac09026af 3.26MB / 3.26MB 0.6s =\u003e =\u003e extracting sha256:af6eaf76a39c2d3e7e0b8a0420486e3df33c4027d696c076a99a3d0ac09026af 0.1s =\u003e =\u003e extracting sha256:cdba2f6867522ee9d2e8dcc9b1ad3ec5bafe75da976a3e613ff26cbc98738b48 0.1s =\u003e =\u003e extracting sha256:6b1178b7c6752e0d2eb293ee14286ec1f75d0f868d9826bcaba24fe33affea99 0.2s =\u003e =\u003e extracting sha256:2bd7dfc9c660f2a9be2e537fd8f7f3c289ea1ba335c957472bd9a51630c9b449 0.0s =\u003e =\u003e extracting sha256:57a125a213d772ab0750422ad92f1cc7d1d97e0b09ad4ed766d9cd50db8e2b50 0.1s =\u003e [internal] load build context 0.0s =\u003e =\u003e transferring context: 1.08kB 0.0s =\u003e [2/6] WORKDIR /code 0.1s =\u003e [3/6] RUN apk add --no-cache gcc musl-dev linux-headers 3.1s =\u003e [4/6] COPY requirements.txt requirements.txt 0.0s =\u003e [5/6] RUN pip install -r requirements.txt 3.1s =\u003e [6/6] COPY . . 0.0s =\u003e exporting to docker image format 5.6s =\u003e =\u003e exporting layers 3.4s =\u003e =\u003e exporting manifest sha256:198e97700c3c0f4a28b481ceacda99d7dacf2c8f42c86f7f4ffd6e5094098322 0.0s =\u003e =\u003e exporting config sha256:dba54b65e3daa61d0ce759dc20145718068c33daf2eaf908c03e03934024df88 0.0s =\u003e =\u003e sending tarball 2.2s =\u003e importing to docker 1.4s ➜ 7-DC-CLI git:(main) ✗ "
            }
        );
    index.add(
            {
                id:  80 ,
                href: "\/docs\/docker\/compose-config-command\/",
                title: "Compose Config Command",
                description: "create dockerfile with following content link # syntax=docker/dockerfile:1 FROM python:3.7-alpine WORKDIR /code ENV FLASK_APP=app.py ENV FLASK_RUN_HOST=0.0.0.0 RUN apk add --no-cache gcc musl-dev linux-headers COPY requirements.txt requirements.txt RUN pip install -r requirements.txt EXPOSE 5000 COPY . . CMD [\"flask\", \"run\"] create app.py with following content link import time import redis from flask import Flask app = Flask(__name__) cache = redis.Redis(host='redis', port=6379) def get_hit_count(): retries = 5 while True: try: return cache.incr('hits') except redis.exceptions.ConnectionError as exc: if retries == 0: raise exc retries -= 1 time.sleep(0.5) @app.route('/') def hello(): count = get_hit_count() return 'Hello World! I have been seen {} times.\\n'.format(count) create requirements.txt fil with following content link flask redis create docker-compose.yml with following content link version: \"3.9\" services: web: build: . ports: - \"8000:5000\" redis: image: \"redis:alpine\" docker compose config link 7-DC-CLI git:(main) ✗ docker compose config name: 7-dc-cli services: redis: image: redis:alpine networks: default: null web: build: context: /Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/7-DC-CLI dockerfile: Dockerfile networks: default: null ports: - mode: ingress target: 5000 published: \"8000\" protocol: tcp networks: default: name: 7-dc-cli_default ",
                content: "create dockerfile with following content link # syntax=docker/dockerfile:1 FROM python:3.7-alpine WORKDIR /code ENV FLASK_APP=app.py ENV FLASK_RUN_HOST=0.0.0.0 RUN apk add --no-cache gcc musl-dev linux-headers COPY requirements.txt requirements.txt RUN pip install -r requirements.txt EXPOSE 5000 COPY . . CMD [\"flask\", \"run\"] create app.py with following content link import time import redis from flask import Flask app = Flask(__name__) cache = redis.Redis(host='redis', port=6379) def get_hit_count(): retries = 5 while True: try: return cache.incr('hits') except redis.exceptions.ConnectionError as exc: if retries == 0: raise exc retries -= 1 time.sleep(0.5) @app.route('/') def hello(): count = get_hit_count() return 'Hello World! I have been seen {} times.\\n'.format(count) create requirements.txt fil with following content link flask redis create docker-compose.yml with following content link version: \"3.9\" services: web: build: . ports: - \"8000:5000\" redis: image: \"redis:alpine\" docker compose config link 7-DC-CLI git:(main) ✗ docker compose config name: 7-dc-cli services: redis: image: redis:alpine networks: default: null web: build: context: /Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/7-DC-CLI dockerfile: Dockerfile networks: default: null ports: - mode: ingress target: 5000 published: \"8000\" protocol: tcp networks: default: name: 7-dc-cli_default "
            }
        );
    index.add(
            {
                id:  81 ,
                href: "\/docs\/docker\/compose-cp-command\/",
                title: "Compose CP Command",
                description: "Copy files/folders between a service container and the local filesystem link # Syntax to Copy from Container to Docker Host docker cp {options} CONTAINER:SRC_PATH DEST_PATH # Syntax to Copy from Docker Host to Container docker cp {options} SRC_PATH CONTAINER:DEST_PATH lets run ngnix container link version: '3' services: web: image: nginx:latest run docker compose up link docker compose -f docker-compose-ngnix.yml up check running container link ➜ dockerworkshop git:(main) ✗ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 008940fdbed8 nginx:latest \"/docker-entrypoint.…\" 29 seconds ago Up 28 seconds 80/tcp 7-dc-cli-web-1 create index.html link Docker-Compose git:(main) ✗ cd 7-DC-CLI ➜ 7-DC-CLI git:(main) ✗ ls Dockerfile app.py docker-compose-ngnix.yml docker-compose.yml index.html requirements.txt src copy index.html link $ docker-compose cp index.html web:/usr/share/nginx/html/ services: web: image: nginx volumes: - ./nginx.conf:/etc/nginx/nginx.conf ports: - \"80:80\" command: nginx-debug -g 'daemon off;' copy: - ./index.html:/usr/share/nginx/html/index.html services: web: image: nginx volumes: - ./nginx.conf:/etc/nginx/nginx.conf ports: - \"80:80\" command: nginx-debug -g 'daemon off;' copy: - ./index.html:/usr/share/nginx/html/index.html - ./style.css:/usr/share/nginx/html/style.css - ./images:/usr/share/nginx/html/images ",
                content: "Copy files/folders between a service container and the local filesystem link # Syntax to Copy from Container to Docker Host docker cp {options} CONTAINER:SRC_PATH DEST_PATH # Syntax to Copy from Docker Host to Container docker cp {options} SRC_PATH CONTAINER:DEST_PATH lets run ngnix container link version: '3' services: web: image: nginx:latest run docker compose up link docker compose -f docker-compose-ngnix.yml up check running container link ➜ dockerworkshop git:(main) ✗ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 008940fdbed8 nginx:latest \"/docker-entrypoint.…\" 29 seconds ago Up 28 seconds 80/tcp 7-dc-cli-web-1 create index.html link Docker-Compose git:(main) ✗ cd 7-DC-CLI ➜ 7-DC-CLI git:(main) ✗ ls Dockerfile app.py docker-compose-ngnix.yml docker-compose.yml index.html requirements.txt src copy index.html link $ docker-compose cp index.html web:/usr/share/nginx/html/ services: web: image: nginx volumes: - ./nginx.conf:/etc/nginx/nginx.conf ports: - \"80:80\" command: nginx-debug -g 'daemon off;' copy: - ./index.html:/usr/share/nginx/html/index.html services: web: image: nginx volumes: - ./nginx.conf:/etc/nginx/nginx.conf ports: - \"80:80\" command: nginx-debug -g 'daemon off;' copy: - ./index.html:/usr/share/nginx/html/index.html - ./style.css:/usr/share/nginx/html/style.css - ./images:/usr/share/nginx/html/images "
            }
        );
    index.add(
            {
                id:  82 ,
                href: "\/docs\/docker\/compose-create-command\/",
                title: "Compose Create Command",
                description: "create docker-compose.yml with following content link version: \"3.9\" services: web: build: . ports: - \"8000:5000\" redis: image: \"redis:alpine\" Creates containers for a service. link ➜ 7-DC-CLI git:(main) ✗ docker compose create [+] Running 7/7 ⠿ redis Pulled 6.1s ⠿ af6eaf76a39c Already exists 0.0s ⠿ 5015c79ed515 Pull complete 0.9s ⠿ 2ca28624189f Pull complete 1.0s ⠿ 4691452befb1 Pull complete 1.6s ⠿ 746fa87aff8c Pull complete 2.1s ⠿ b8496ad2d107 Pull complete 2.2s WARN[0006] Found orphan containers ([7-dc-cli-client-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up. [+] Running 2/2 ⠿ Container 7-dc-cli-redis-1 Created 0.1s ⠿ Container 7-dc-cli-web-1 Recreated 0.1s ➜ 7-DC-CLI git:(main) ✗ ",
                content: "create docker-compose.yml with following content link version: \"3.9\" services: web: build: . ports: - \"8000:5000\" redis: image: \"redis:alpine\" Creates containers for a service. link ➜ 7-DC-CLI git:(main) ✗ docker compose create [+] Running 7/7 ⠿ redis Pulled 6.1s ⠿ af6eaf76a39c Already exists 0.0s ⠿ 5015c79ed515 Pull complete 0.9s ⠿ 2ca28624189f Pull complete 1.0s ⠿ 4691452befb1 Pull complete 1.6s ⠿ 746fa87aff8c Pull complete 2.1s ⠿ b8496ad2d107 Pull complete 2.2s WARN[0006] Found orphan containers ([7-dc-cli-client-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up. [+] Running 2/2 ⠿ Container 7-dc-cli-redis-1 Created 0.1s ⠿ Container 7-dc-cli-web-1 Recreated 0.1s ➜ 7-DC-CLI git:(main) ✗ "
            }
        );
    index.add(
            {
                id:  83 ,
                href: "\/docs\/docker\/compose-down-command\/",
                title: "Compose Down Command ",
                description: "create docker-compose.yml with following content link version: \"3.9\" services: web: build: . ports: - \"8000:5000\" redis: image: \"redis:alpine\" Create docker compose up link docker compose up WARN[0000] Found orphan containers ([7-dc-cli-client-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up. Attaching to 7-dc-cli-redis-1, 7-dc-cli-web-1 7-dc-cli-redis-1 | 1:C 04 Mar 2023 14:23:46.156 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo 7-dc-cli-redis-1 | 1:C 04 Mar 2023 14:23:46.156 # Redis version=7.0.9, bits=64, commit=00000000, modified=0, pid=1, just started 7-dc-cli-redis-1 | 1:C 04 Mar 2023 14:23:46.156 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf 7-dc-cli-redis-1 | 1:M 04 Mar 2023 14:23:46.157 * monotonic clock: POSIX clock_gettime 7-dc-cli-redis-1 | 1:M 04 Mar 2023 14:23:46.158 * Running mode=standalone, port=6379. 7-dc-cli-redis-1 | 1:M 04 Mar 2023 14:23:46.158 # Server initialized 7-dc-cli-redis-1 | 1:M 04 Mar 2023 14:23:46.160 * Ready to accept connections 7-dc-cli-web-1 | * Serving Flask app 'app.py' 7-dc-cli-web-1 | * Debug mode: off 7-dc-cli-web-1 | WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead. 7-dc-cli-web-1 | * Running on all addresses (0.0.0.0) 7-dc-cli-web-1 | * Running on http://127.0.0.1:5000 7-dc-cli-web-1 | * Running on http://172.18.0.3:5000 7-dc-cli-web-1 | Press CTRL+C to quit Create docker compose Down link 7-DC-CLI git:(main) ✗ docker compose down [+] Running 3/3 ⠿ Container 7-dc-cli-redis-1 Removed 0.2s ⠿ Container 7-dc-cli-web-1 Removed 10.2s ⠿ Network 7-dc-cli_default Removed 0.1s ➜ 7-DC-CLI git:(main) ✗ ",
                content: "create docker-compose.yml with following content link version: \"3.9\" services: web: build: . ports: - \"8000:5000\" redis: image: \"redis:alpine\" Create docker compose up link docker compose up WARN[0000] Found orphan containers ([7-dc-cli-client-1]) for this project. If you removed or renamed this service in your compose file, you can run this command with the --remove-orphans flag to clean it up. Attaching to 7-dc-cli-redis-1, 7-dc-cli-web-1 7-dc-cli-redis-1 | 1:C 04 Mar 2023 14:23:46.156 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo 7-dc-cli-redis-1 | 1:C 04 Mar 2023 14:23:46.156 # Redis version=7.0.9, bits=64, commit=00000000, modified=0, pid=1, just started 7-dc-cli-redis-1 | 1:C 04 Mar 2023 14:23:46.156 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf 7-dc-cli-redis-1 | 1:M 04 Mar 2023 14:23:46.157 * monotonic clock: POSIX clock_gettime 7-dc-cli-redis-1 | 1:M 04 Mar 2023 14:23:46.158 * Running mode=standalone, port=6379. 7-dc-cli-redis-1 | 1:M 04 Mar 2023 14:23:46.158 # Server initialized 7-dc-cli-redis-1 | 1:M 04 Mar 2023 14:23:46.160 * Ready to accept connections 7-dc-cli-web-1 | * Serving Flask app 'app.py' 7-dc-cli-web-1 | * Debug mode: off 7-dc-cli-web-1 | WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead. 7-dc-cli-web-1 | * Running on all addresses (0.0.0.0) 7-dc-cli-web-1 | * Running on http://127.0.0.1:5000 7-dc-cli-web-1 | * Running on http://172.18.0.3:5000 7-dc-cli-web-1 | Press CTRL+C to quit Create docker compose Down link 7-DC-CLI git:(main) ✗ docker compose down [+] Running 3/3 ⠿ Container 7-dc-cli-redis-1 Removed 0.2s ⠿ Container 7-dc-cli-web-1 Removed 10.2s ⠿ Network 7-dc-cli_default Removed 0.1s ➜ 7-DC-CLI git:(main) ✗ "
            }
        );
    index.add(
            {
                id:  84 ,
                href: "\/docs\/docker\/compose-events-command\/",
                title: "Compose Events Command ",
                description: "here is sample voting app link cat docker-compose.yml # version is now using \"compose spec\" # v2 and v3 are now combined! # docker-compose v1.27+ required services: vote: build: ./vote # use python rather than gunicorn for local dev command: python app.py depends_on: redis: condition: service_healthy healthcheck: test: [\"CMD\", \"curl\", \"-f\", \"http://localhost\"] interval: 15s timeout: 5s retries: 3 start_period: 10s volumes: - ./vote:/app ports: - \"5000:80\" networks: - front-tier - back-tier result: build: ./result # use nodemon rather than node for local dev entrypoint: nodemon server.js depends_on: db: condition: service_healthy volumes: - ./result:/app ports: - \"5001:80\" - \"5858:5858\" networks: - front-tier - back-tier worker: build: context: ./worker depends_on: redis: condition: service_healthy db: condition: service_healthy networks: - back-tier redis: image: redis:alpine volumes: - \"./healthchecks:/healthchecks\" healthcheck: test: /healthchecks/redis.sh interval: \"5s\" networks: - back-tier db: image: postgres:15-alpine environment: POSTGRES_USER: \"postgres\" POSTGRES_PASSWORD: \"postgres\" volumes: - \"db-data:/var/lib/postgresql/data\" - \"./healthchecks:/healthchecks\" healthcheck: test: /healthchecks/postgres.sh interval: \"5s\" networks: - back-tier # this service runs once to seed the database with votes # it won't run unless you specify the \"seed\" profile # docker compose --profile seed up -d seed: build: ./seed-data profiles: [\"seed\"] depends_on: vote: condition: service_healthy networks: - front-tier restart: \"no\" volumes: db-data: networks: front-tier: back-tier: Docker Compose up link example-voting-app git:(main) docker compose up [+] Running 9/9 ⠿ db Pulled 9.7s ⠿ af6eaf76a39c Already exists 0.0s ⠿ 71286d2ce0cc Pull complete 1.7s ⠿ b82afe47906a Pull complete 1.8s ⠿ 75d514bb4aa7 Pull complete 5.6s ⠿ 217da6f41d9e Pull complete 5.7s ⠿ 39a3f4823126 Pull complete 5.7s ⠿ ed6571a6afcc Pull complete 5.8s ⠿ 8ae7d38f54c4 Pull complete 5.8s [+] Building 36.2s (42/42) FINISHED =\u003e [example-voting-app-result internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 54B 0.0s =\u003e [example-voting-app-result internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 517B 0.0s =\u003e [example-voting-app-result internal] load metadata for docker.io/library/node:18-slim 5.1s =\u003e [example-voting-app-vote internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [example-voting-app-vote internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 740B 0.0s =\u003e [example-voting-app-vote internal] load metadata for docker.io/library/python:3.9-slim 5.2s =\u003e [example-voting-app-worker internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [example-voting-app-worker internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 1.45kB 0.0s =\u003e [example-voting-app-worker internal] load metadata for mcr.microsoft.com/dotnet/runtime:7.0 1.4s =\u003e [example-voting-app-worker internal] load metadata for mcr.microsoft.com/dotnet/sdk:7.0 1.3s =\u003e [example-voting-app-worker build 1/7] FROM mcr.microsoft.com/dotnet/sdk:7.0@sha256:bd1ccc2332fc03c6df1659ed125f67f02666f9f188947a80cec4e7afd3c7f98d 18.5s =\u003e =\u003e resolve mcr.microsoft.com/dotnet/sdk:7.0@sha256:bd1ccc2332fc03c6df1659ed125f67f02666f9f188947a80cec4e7afd3c7f98d 0.0s =\u003e =\u003e sha256:8907849f91e57df0899482d802a3fc140b67a6d5febaa503837ed2233d662283 13.55MB / 13.55MB 4.5s =\u003e =\u003e sha256:afd8a1df3eb1e6747064359ca9bc37db5330672279e0be935849f256d4b3f0b1 155.94MB / 155.94MB 12.4s =\u003e =\u003e sha256:e4f0af37a4eb47b3e26810a4721ebdf36d9342d580d8c6027bd99a7596acc98c 25.39MB / 25.39MB 1.9s =\u003e =\u003e sha256:d1a2ad48fbf7e8af456454a11f1e058cdb9ba171ef35dace5d13b495b053cc84 9.80MB / 9.80MB 1.1s =\u003e =\u003e extracting sha256:d1a2ad48fbf7e8af456454a11f1e058cdb9ba171ef35dace5d13b495b053cc84 0.1s =\u003e =\u003e extracting sha256:e4f0af37a4eb47b3e26810a4721ebdf36d9342d580d8c6027bd99a7596acc98c 0.5s =\u003e =\u003e extracting sha256:afd8a1df3eb1e6747064359ca9bc37db5330672279e0be935849f256d4b3f0b1 4.0s =\u003e =\u003e extracting sha256:8907849f91e57df0899482d802a3fc140b67a6d5febaa503837ed2233d662283 0.4s =\u003e [example-voting-app-worker internal] load build context 0.0s =\u003e =\u003e transferring context: 7.48kB 0.0s =\u003e [example-voting-app-worker stage-1 1/3] FROM mcr.microsoft.com/dotnet/runtime:7.0@sha256:1ed4d59643e6b8b41b64ffa00b524ebca9de287bd3efa9955f9fa706f1dd0471 3.6s =\u003e =\u003e resolve mcr.microsoft.com/dotnet/runtime:7.0@sha256:1ed4d59643e6b8b41b64ffa00b524ebca9de287bd3efa9955f9fa706f1dd0471 0.0s =\u003e =\u003e sha256:a34d8d2343cd4d1705a15b9494ef9b39d01832d43c3a09fe129458c8bfdabeee 155B / 155B 0.2s =\u003e =\u003e sha256:b7dfc290d72d9065e3276dcd05c3323942f8947a71dd5e7b4304f7a68d25c9c9 30.71MB / 30.71MB 3.1s =\u003e =\u003e sha256:235af35749f09d6549b76fb376b3929ec21198feee4e72ffb396514dd11b374e 14.92MB / 14.92MB 1.8s =\u003e =\u003e sha256:66dbba0fb1b568cc3ffd53409ba2f9f82995ab7f80e379338f3f36e4dcd223be 30.06MB / 30.06MB 2.2s =\u003e =\u003e extracting sha256:66dbba0fb1b568cc3ffd53409ba2f9f82995ab7f80e379338f3f36e4dcd223be 0.6s =\u003e =\u003e extracting sha256:235af35749f09d6549b76fb376b3929ec21198feee4e72ffb396514dd11b374e 0.2s =\u003e =\u003e extracting sha256:b7dfc290d72d9065e3276dcd05c3323942f8947a71dd5e7b4304f7a68d25c9c9 0.5s =\u003e =\u003e extracting sha256:a34d8d2343cd4d1705a15b9494ef9b39d01832d43c3a09fe129458c8bfdabeee 0.0s =\u003e [example-voting-app-result 1/7] FROM docker.io/library/node:18-slim@sha256:36f3403a001b82d525afd2bdb7fcec0980543277dd86e9657964cce3438ae4b7 4.1s =\u003e =\u003e resolve docker.io/library/node:18-slim@sha256:36f3403a001b82d525afd2bdb7fcec0980543277dd86e9657964cce3438ae4b7 0.0s =\u003e =\u003e sha256:8e5162ad1efe24f915933435516b8cb1510cc80704bdf87c868e995f4f871cd9 451B / 451B 0.4s =\u003e =\u003e sha256:1ad5fb92392ab64732e756b44967f7ecead775eb06ce3f9cd43d1a22bd9c9458 2.77MB / 2.77MB 1.8s =\u003e =\u003e sha256:cc36a0fa43f85245c8d9977661c82a89cfc226fc26e5861670cf62c0933f62c4 46.14MB / 46.14MB 2.9s =\u003e =\u003e sha256:d1d4cdb9c955626876afec2a95c6f7487481e067acc0a8be1867f678003266df 4.19kB / 4.19kB 0.6s =\u003e =\u003e extracting sha256:d1d4cdb9c955626876afec2a95c6f7487481e067acc0a8be1867f678003266df 0.0s =\u003e =\u003e extracting sha256:cc36a0fa43f85245c8d9977661c82a89cfc226fc26e5861670cf62c0933f62c4 1.0s =\u003e =\u003e extracting sha256:1ad5fb92392ab64732e756b44967f7ecead775eb06ce3f9cd43d1a22bd9c9458 0.1s =\u003e =\u003e extracting sha256:8e5162ad1efe24f915933435516b8cb1510cc80704bdf87c868e995f4f871cd9 0.0s =\u003e [example-voting-app-result internal] load build context 0.0s =\u003e =\u003e transferring context: 302.01kB 0.0s =\u003e [example-voting-app-worker stage-1 2/3] WORKDIR /app 0.2s =\u003e [example-voting-app-vote 1/6] FROM docker.io/library/python:3.9-slim@sha256:2ed9cf48cf86eb638a9ceb555737161fbb20fa0474494269150b4d6c2653227b 2.7s =\u003e =\u003e resolve docker.io/library/python:3.9-slim@sha256:2ed9cf48cf86eb638a9ceb555737161fbb20fa0474494269150b4d6c2653227b 0.0s =\u003e =\u003e sha256:98b352a9715d74c4172491762aded5e741a28ce83df0fd99321a1031b1d5b6c8 3.17MB / 3.17MB 0.6s =\u003e =\u003e sha256:14b89f7d65aecdc5e63ab5759d5135ec777524bcdbc4adb5200fac65c825655d 233B / 233B 0.3s =\u003e =\u003e sha256:ac439b0377b530ec2bd538701b6611c91588fdf491f0566458373c314866cfb8 11.22MB / 11.22MB 0.9s =\u003e =\u003e sha256:1f3ba05aa6dc6bcf7f4f57d5eaec80fd3edffbffde2e9727df29d63c978f0b99 1.06MB / 1.06MB 1.4s =\u003e =\u003e extracting sha256:1f3ba05aa6dc6bcf7f4f57d5eaec80fd3edffbffde2e9727df29d63c978f0b99 0.0s =\u003e =\u003e extracting sha256:ac439b0377b530ec2bd538701b6611c91588fdf491f0566458373c314866cfb8 0.2s =\u003e =\u003e extracting sha256:14b89f7d65aecdc5e63ab5759d5135ec777524bcdbc4adb5200fac65c825655d 0.0s =\u003e =\u003e extracting sha256:98b352a9715d74c4172491762aded5e741a28ce83df0fd99321a1031b1d5b6c8 0.1s =\u003e [example-voting-app-vote internal] load build context 0.0s =\u003e =\u003e transferring context: 6.11kB 0.0s =\u003e [example-voting-app-vote 2/6] RUN apt-get update \u0026\u0026 apt-get install -y --no-install-recommends curl \u0026\u0026 rm -rf /var/lib/apt/lists/* 4.2s =\u003e [example-voting-app-result 2/7] RUN apt-get update \u0026\u0026 apt-get install -y --no-install-recommends curl tini \u0026\u0026 rm -rf /var/lib/apt/lists/* 3.4s =\u003e [example-voting-app-vote 3/6] WORKDIR /app 0.0s =\u003e [example-voting-app-vote 4/6] COPY requirements.txt /app/requirements.txt 0.0s =\u003e [example-voting-app-vote 5/6] RUN pip install -r requirements.txt 3.0s =\u003e [example-voting-app-result 3/7] WORKDIR /app 0.0s =\u003e [example-voting-app-result 4/7] RUN npm install -g nodemon 1.9s =\u003e [example-voting-app-result 5/7] COPY package*.json ./ 0.0s =\u003e [example-voting-app-result 6/7] RUN npm ci \u0026\u0026 npm cache clean --force \u0026\u0026 mv /app/node_modules /node_modules 2.1s =\u003e [example-voting-app-vote 6/6] COPY . . 0.0s =\u003e [example-voting-app-vote] exporting to docker image format 3.8s =\u003e =\u003e exporting layers 0.5s =\u003e =\u003e exporting manifest sha256:8e6e3010a750bd01eebd409fa77a5e98f99f4aecefe6de2b8eb43096e7de9bcb 0.0s =\u003e =\u003e exporting config sha256:5c1cf62b540c59ce0a99930302aae92523c6db3e77d0e8737d4d4260908880ee 0.0s =\u003e =\u003e sending tarball 3.2s =\u003e importing to docker 2.4s =\u003e [example-voting-app-result 7/7] COPY . . 0.0s =\u003e [example-voting-app-result] exporting to docker image format 3.9s =\u003e =\u003e exporting layers 0.3s =\u003e =\u003e exporting manifest sha256:91ac5a4bcc08913d88936fca0f6f36a58a69cb0e2de202691b3fe6c545d21e7c 0.0s =\u003e =\u003e exporting config sha256:223b94fc00aee779a4ee25ce9d1c69cab293aedd539b843faba7c1a47e894b29 0.0s =\u003e =\u003e sending tarball 3.6s =\u003e importing to docker 2.4s =\u003e [example-voting-app-worker build 2/7] RUN echo \"I am running on linux/arm64, building for linux/arm64\" 0.1s =\u003e [example-voting-app-worker build 3/7] WORKDIR /source 0.0s =\u003e [example-voting-app-worker build 4/7] COPY *.csproj . 0.0s =\u003e [example-voting-app-worker build 5/7] RUN case linux/arm64 in \"linux/amd64\") ARCH=x64 ;; \"linux/arm64\") ARCH=arm64 ;; \"linux/arm64/v8\") ARCH=a 12.3s =\u003e [example-voting-app-worker build 6/7] COPY . . 0.0s =\u003e [example-voting-app-worker build 7/7] RUN case linux/arm64 in \"linux/amd64\") ARCH=x64 ;; \"linux/arm64\") ARCH=arm64 ;; \"linux/arm64/v8\") ARCH=a 1.7s =\u003e [example-voting-app-worker stage-1 3/3] COPY --from=build /app . 0.0s =\u003e [example-voting-app-worker] exporting to docker image format 1.8s =\u003e =\u003e exporting layers 0.1s =\u003e =\u003e exporting manifest sha256:93ec3cbb0ef4e82b397475cf25ca330aef2b4b2badaa7ad86541b00e48305e63 0.0s =\u003e =\u003e exporting config sha256:8f82fda1dae8bc1c7c040c0c3045239fd48547d34ee3d5d458683cef7b107188 0.0s =\u003e =\u003e sending tarball 1.7s =\u003e importing to docker 0.7s [+] Running 8/5 ⠿ Network example-voting-app_back-tier Created 0.1s ⠿ Network example-voting-app_front-tier Created 0.1s ⠿ Volume \"example-voting-app_db-data\" Created 0.0s ⠿ Container example-voting-app-redis-1 Created 0.2s ⠿ Container example-voting-app-db-1 Created 0.2s ⠿ Container example-voting-app-vote-1 Created 0.0s ⠿ Container example-voting-app-worker-1 Created 0.0s ⠿ Container example-voting-app-result-1 Created 0.0s Attaching to example-voting-app-db-1, example-voting-app-redis-1, example-voting-app-result-1, example-voting-app-vote-1, example-voting-app-worker-1 example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.311 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.313 # Redis version=7.0.9, bits=64, commit=00000000, modified=0, pid=1, just started example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.313 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.313 * monotonic clock: POSIX clock_gettime example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.314 * Running mode=standalone, port=6379. example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.315 # Server initialized example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.318 * Ready to accept connections example-voting-app-db-1 | The files belonging to this database system will be owned by user \"postgres\". example-voting-app-db-1 | This user must also own the server process. example-voting-app-db-1 | example-voting-app-db-1 | The database cluster will be initialized with locale \"en_US.utf8\". example-voting-app-db-1 | The default database encoding has accordingly been set to \"UTF8\". example-voting-app-db-1 | The default text search configuration will be set to \"english\". example-voting-app-db-1 | example-voting-app-db-1 | Data page checksums are disabled. example-voting-app-db-1 | example-voting-app-db-1 | fixing permissions on existing directory /var/lib/postgresql/data ... ok example-voting-app-db-1 | creating subdirectories ... ok example-voting-app-db-1 | selecting dynamic shared memory implementation ... posix example-voting-app-db-1 | selecting default max_connections ... 100 example-voting-app-db-1 | selecting default shared_buffers ... 128MB example-voting-app-db-1 | selecting default time zone ... UTC example-voting-app-db-1 | creating configuration files ... ok example-voting-app-db-1 | running bootstrap script ... ok example-voting-app-db-1 | sh: locale: not found example-voting-app-db-1 | 2023-03-04 14:41:27.703 UTC [30] WARNING: no usable system locales were found example-voting-app-db-1 | performing post-bootstrap initialization ... ok example-voting-app-db-1 | initdb: warning: enabling \"trust\" authentication for local connections example-voting-app-db-1 | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb. example-voting-app-db-1 | syncing data to disk ... ok example-voting-app-db-1 | example-voting-app-db-1 | example-voting-app-db-1 | Success. You can now start the database server using: example-voting-app-db-1 | example-voting-app-db-1 | pg_ctl -D /var/lib/postgresql/data -l logfile start example-voting-app-db-1 | example-voting-app-db-1 | waiting for server to start....2023-03-04 14:41:28.118 UTC [36] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 14:41:28.120 UTC [36] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 14:41:28.124 UTC [39] LOG: database system was shut down at 2023-03-04 14:41:28 UTC example-voting-app-db-1 | 2023-03-04 14:41:28.127 UTC [36] LOG: database system is ready to accept connections example-voting-app-db-1 | done example-voting-app-db-1 | server started example-voting-app-db-1 | example-voting-app-db-1 | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/* example-voting-app-db-1 | example-voting-app-db-1 | waiting for server to shut down....2023-03-04 14:41:28.218 UTC [36] LOG: received fast shutdown request example-voting-app-db-1 | 2023-03-04 14:41:28.220 UTC [36] LOG: aborting any active transactions example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [36] LOG: background worker \"logical replication launcher\" (PID 42) exited with exit code 1 example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [37] LOG: shutting down example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [37] LOG: checkpoint starting: shutdown immediate example-voting-app-db-1 | 2023-03-04 14:41:28.227 UTC [37] LOG: checkpoint complete: wrote 3 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.002 s, sync=0.001 s, total=0.005 s; sync files=2, longest=0.001 s, average=0.001 s; distance=0 kB, estimate=0 kB example-voting-app-db-1 | 2023-03-04 14:41:28.233 UTC [36] LOG: database system is shut down example-voting-app-db-1 | done example-voting-app-db-1 | server stopped example-voting-app-db-1 | example-voting-app-db-1 | PostgreSQL init process complete; ready for start up. example-voting-app-db-1 | example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: listening on IPv4 address \"0.0.0.0\", port 5432 example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: listening on IPv6 address \"::\", port 5432 example-voting-app-db-1 | 2023-03-04 14:41:28.344 UTC [1] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 14:41:28.347 UTC [50] LOG: database system was shut down at 2023-03-04 14:41:28 UTC example-voting-app-db-1 | 2023-03-04 14:41:28.351 UTC [1] LOG: database system is ready to accept connections Error response from daemon: Ports are not available: exposing port TCP 0.0.0.0:5000 -\u003e 0.0.0.0:0: listen tcp 0.0.0.0:5000: bind: address already in use ➜ example-voting-app git:(main) check docker compose events link docker compose events 2023-03-04 20:12:13.002384 container exec_create: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (name=example-voting-app-redis-1, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=a242ce36c4b7595edfe03a0f3f01d71b201f003ab0e04cf04f26ee17e2d5e668, image=redis:alpine, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks) 2023-03-04 20:12:13.003007 container exec_start: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/Target=/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, execID=a242ce36c4b7595edfe03a0f3f01d71b201f003ab0e04cf04f26ee17e2d5e668, image=redis:alpine, name=example-voting-app-redis-1) 2023-03-04 20:12:13.022680 container exec_create: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, image=postgres:15-alpine, desktop.docker.io/binds/0/Target=/healthchecks, execID=df7c12ef54c8029a23eb9febcb677c8f8c0984cf5c3da7c5634d268b1b3804b3, name=example-voting-app-db-1) 2023-03-04 20:12:13.023200 container exec_start: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (name=example-voting-app-db-1, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=df7c12ef54c8029a23eb9febcb677c8f8c0984cf5c3da7c5634d268b1b3804b3, image=postgres:15-alpine, desktop.docker.io/binds/0/Target=/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile) 2023-03-04 20:12:13.078489 container exec_die c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Target=/healthchecks, image=redis:alpine, execID=a242ce36c4b7595edfe03a0f3f01d71b201f003ab0e04cf04f26ee17e2d5e668, exitCode=0, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, name=example-voting-app-redis-1) 2023-03-04 20:12:13.097001 container exec_die 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (image=postgres:15-alpine, desktop.docker.io/binds/0/SourceKind=hostFile, exitCode=0, name=example-voting-app-db-1, desktop.docker.io/binds/0/Target=/healthchecks, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=df7c12ef54c8029a23eb9febcb677c8f8c0984cf5c3da7c5634d268b1b3804b3) 2023-03-04 20:12:18.082975 container exec_create: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (image=redis:alpine, name=example-voting-app-redis-1, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, execID=4293df2a37da48526e1c21e417c25d34e8947171a66a44bb9741036f09903032) 2023-03-04 20:12:18.083432 container exec_start: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=4293df2a37da48526e1c21e417c25d34e8947171a66a44bb9741036f09903032, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, image=redis:alpine, name=example-voting-app-redis-1) 2023-03-04 20:12:18.099740 container exec_create: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (name=example-voting-app-db-1, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, image=postgres:15-alpine, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, execID=725b7d5bf401d7c3944d8432b78835ebd86742b696ce30f6166da8b8d3802f63) 2023-03-04 20:12:18.100090 container exec_start: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, execID=725b7d5bf401d7c3944d8432b78835ebd86742b696ce30f6166da8b8d3802f63, image=postgres:15-alpine, name=example-voting-app-db-1) 2023-03-04 20:12:18.169539 container exec_die c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, image=redis:alpine, name=example-voting-app-redis-1, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, execID=4293df2a37da48526e1c21e417c25d34e8947171a66a44bb9741036f09903032, exitCode=0) 2023-03-04 20:12:18.185722 container exec_die 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/SourceKind=hostFile, image=postgres:15-alpine, desktop.docker.io/binds/0/Target=/healthchecks, exitCode=0, name=example-voting-app-db-1, execID=725b7d5bf401d7c3944d8432b78835ebd86742b696ce30f6166da8b8d3802f63, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks) 2023-03-04 20:12:23.173394 container exec_create: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Target=/healthchecks, image=redis:alpine, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, execID=7225d11881403d700013274bbcd9ab8c0dcf8e1ec55ecf8eefc63af51cb10ebe, name=example-voting-app-redis-1) 2023-03-04 20:12:23.173847 container exec_start: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=7225d11881403d700013274bbcd9ab8c0dcf8e1ec55ecf8eefc63af51cb10ebe, image=redis:alpine, name=example-voting-app-redis-1) 2023-03-04 20:12:23.188391 container exec_create: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/Target=/healthchecks, name=example-voting-app-db-1, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=8c18f808739a1a14c190db460030da0bb1b4a68a153f202f55a2c840f96bf630, image=postgres:15-alpine) 2023-03-04 20:12:23.188516 container exec_start: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=8c18f808739a1a14c190db460030da0bb1b4a68a153f202f55a2c840f96bf630, image=postgres:15-alpine, name=example-voting-app-db-1, desktop.docker.io/binds/0/Target=/healthchecks) 2023-03-04 20:12:23.241796 container exec_die c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/SourceKind=hostFile, execID=7225d11881403d700013274bbcd9ab8c0dcf8e1ec55ecf8eefc63af51cb10ebe, exitCode=0, name=example-voting-app-redis-1, desktop.docker.io/binds/0/Target=/healthchecks, image=redis:alpine, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks) 2023-03-04 20:12:23.263784 container exec_die 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, exitCode=0, name=example-voting-app-db-1, execID=8c18f808739a1a14c190db460030da0bb1b4a68a153f202f55a2c840f96bf630, image=postgres:15-alpine) use –json flag link docker compose events --json {\"action\":\"exec_create: /bin/sh -c /healthchecks/redis.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"8f907207527e01ca85a0d73227b35a6da73ed8402de4336e1acb312c46e9473e\",\"image\":\"redis:alpine\",\"name\":\"example-voting-app-redis-1\"},\"id\":\"c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406\",\"service\":\"redis\",\"time\":\"2023-03-04T20:30:14.926031584+05:30\",\"type\":\"container\"} {\"action\":\"exec_start: /bin/sh -c /healthchecks/redis.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"8f907207527e01ca85a0d73227b35a6da73ed8402de4336e1acb312c46e9473e\",\"image\":\"redis:alpine\",\"name\":\"example-voting-app-redis-1\"},\"id\":\"c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406\",\"service\":\"redis\",\"time\":\"2023-03-04T20:30:14.926920001+05:30\",\"type\":\"container\"} {\"action\":\"exec_create: /bin/sh -c /healthchecks/postgres.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"006d0a097e9819360bf647cc7f2f5c75723588a546b14359267b4b3a0b169310\",\"image\":\"postgres:15-alpine\",\"name\":\"example-voting-app-db-1\"},\"id\":\"0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6\",\"service\":\"db\",\"time\":\"2023-03-04T20:30:14.940481834+05:30\",\"type\":\"container\"} {\"action\":\"exec_start: /bin/sh -c /healthchecks/postgres.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"006d0a097e9819360bf647cc7f2f5c75723588a546b14359267b4b3a0b169310\",\"image\":\"postgres:15-alpine\",\"name\":\"example-voting-app-db-1\"},\"id\":\"0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6\",\"service\":\"db\",\"time\":\"2023-03-04T20:30:14.941143834+05:30\",\"type\":\"container\"} {\"action\":\"exec_die\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"8f907207527e01ca85a0d73227b35a6da73ed8402de4336e1acb312c46e9473e\",\"exitCode\":\"0\",\"image\":\"redis:alpine\",\"name\":\"example-voting-app-redis-1\"},\"id\":\"c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406\",\"service\":\"redis\",\"time\":\"2023-03-04T20:30:15.009103251+05:30\",\"type\":\"container\"} {\"action\":\"exec_die\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"006d0a097e9819360bf647cc7f2f5c75723588a546b14359267b4b3a0b169310\",\"exitCode\":\"0\",\"image\":\"postgres:15-alpine\",\"name\":\"example-voting-app-db-1\"},\"id\":\"0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6\",\"service\":\"db\",\"time\":\"2023-03-04T20:30:15.026884834+05:30\",\"type\":\"container\"} {\"action\":\"exec_create: /bin/sh -c /healthchecks/redis.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docke ",
                content: "here is sample voting app link cat docker-compose.yml # version is now using \"compose spec\" # v2 and v3 are now combined! # docker-compose v1.27+ required services: vote: build: ./vote # use python rather than gunicorn for local dev command: python app.py depends_on: redis: condition: service_healthy healthcheck: test: [\"CMD\", \"curl\", \"-f\", \"http://localhost\"] interval: 15s timeout: 5s retries: 3 start_period: 10s volumes: - ./vote:/app ports: - \"5000:80\" networks: - front-tier - back-tier result: build: ./result # use nodemon rather than node for local dev entrypoint: nodemon server.js depends_on: db: condition: service_healthy volumes: - ./result:/app ports: - \"5001:80\" - \"5858:5858\" networks: - front-tier - back-tier worker: build: context: ./worker depends_on: redis: condition: service_healthy db: condition: service_healthy networks: - back-tier redis: image: redis:alpine volumes: - \"./healthchecks:/healthchecks\" healthcheck: test: /healthchecks/redis.sh interval: \"5s\" networks: - back-tier db: image: postgres:15-alpine environment: POSTGRES_USER: \"postgres\" POSTGRES_PASSWORD: \"postgres\" volumes: - \"db-data:/var/lib/postgresql/data\" - \"./healthchecks:/healthchecks\" healthcheck: test: /healthchecks/postgres.sh interval: \"5s\" networks: - back-tier # this service runs once to seed the database with votes # it won't run unless you specify the \"seed\" profile # docker compose --profile seed up -d seed: build: ./seed-data profiles: [\"seed\"] depends_on: vote: condition: service_healthy networks: - front-tier restart: \"no\" volumes: db-data: networks: front-tier: back-tier: Docker Compose up link example-voting-app git:(main) docker compose up [+] Running 9/9 ⠿ db Pulled 9.7s ⠿ af6eaf76a39c Already exists 0.0s ⠿ 71286d2ce0cc Pull complete 1.7s ⠿ b82afe47906a Pull complete 1.8s ⠿ 75d514bb4aa7 Pull complete 5.6s ⠿ 217da6f41d9e Pull complete 5.7s ⠿ 39a3f4823126 Pull complete 5.7s ⠿ ed6571a6afcc Pull complete 5.8s ⠿ 8ae7d38f54c4 Pull complete 5.8s [+] Building 36.2s (42/42) FINISHED =\u003e [example-voting-app-result internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 54B 0.0s =\u003e [example-voting-app-result internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 517B 0.0s =\u003e [example-voting-app-result internal] load metadata for docker.io/library/node:18-slim 5.1s =\u003e [example-voting-app-vote internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [example-voting-app-vote internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 740B 0.0s =\u003e [example-voting-app-vote internal] load metadata for docker.io/library/python:3.9-slim 5.2s =\u003e [example-voting-app-worker internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [example-voting-app-worker internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 1.45kB 0.0s =\u003e [example-voting-app-worker internal] load metadata for mcr.microsoft.com/dotnet/runtime:7.0 1.4s =\u003e [example-voting-app-worker internal] load metadata for mcr.microsoft.com/dotnet/sdk:7.0 1.3s =\u003e [example-voting-app-worker build 1/7] FROM mcr.microsoft.com/dotnet/sdk:7.0@sha256:bd1ccc2332fc03c6df1659ed125f67f02666f9f188947a80cec4e7afd3c7f98d 18.5s =\u003e =\u003e resolve mcr.microsoft.com/dotnet/sdk:7.0@sha256:bd1ccc2332fc03c6df1659ed125f67f02666f9f188947a80cec4e7afd3c7f98d 0.0s =\u003e =\u003e sha256:8907849f91e57df0899482d802a3fc140b67a6d5febaa503837ed2233d662283 13.55MB / 13.55MB 4.5s =\u003e =\u003e sha256:afd8a1df3eb1e6747064359ca9bc37db5330672279e0be935849f256d4b3f0b1 155.94MB / 155.94MB 12.4s =\u003e =\u003e sha256:e4f0af37a4eb47b3e26810a4721ebdf36d9342d580d8c6027bd99a7596acc98c 25.39MB / 25.39MB 1.9s =\u003e =\u003e sha256:d1a2ad48fbf7e8af456454a11f1e058cdb9ba171ef35dace5d13b495b053cc84 9.80MB / 9.80MB 1.1s =\u003e =\u003e extracting sha256:d1a2ad48fbf7e8af456454a11f1e058cdb9ba171ef35dace5d13b495b053cc84 0.1s =\u003e =\u003e extracting sha256:e4f0af37a4eb47b3e26810a4721ebdf36d9342d580d8c6027bd99a7596acc98c 0.5s =\u003e =\u003e extracting sha256:afd8a1df3eb1e6747064359ca9bc37db5330672279e0be935849f256d4b3f0b1 4.0s =\u003e =\u003e extracting sha256:8907849f91e57df0899482d802a3fc140b67a6d5febaa503837ed2233d662283 0.4s =\u003e [example-voting-app-worker internal] load build context 0.0s =\u003e =\u003e transferring context: 7.48kB 0.0s =\u003e [example-voting-app-worker stage-1 1/3] FROM mcr.microsoft.com/dotnet/runtime:7.0@sha256:1ed4d59643e6b8b41b64ffa00b524ebca9de287bd3efa9955f9fa706f1dd0471 3.6s =\u003e =\u003e resolve mcr.microsoft.com/dotnet/runtime:7.0@sha256:1ed4d59643e6b8b41b64ffa00b524ebca9de287bd3efa9955f9fa706f1dd0471 0.0s =\u003e =\u003e sha256:a34d8d2343cd4d1705a15b9494ef9b39d01832d43c3a09fe129458c8bfdabeee 155B / 155B 0.2s =\u003e =\u003e sha256:b7dfc290d72d9065e3276dcd05c3323942f8947a71dd5e7b4304f7a68d25c9c9 30.71MB / 30.71MB 3.1s =\u003e =\u003e sha256:235af35749f09d6549b76fb376b3929ec21198feee4e72ffb396514dd11b374e 14.92MB / 14.92MB 1.8s =\u003e =\u003e sha256:66dbba0fb1b568cc3ffd53409ba2f9f82995ab7f80e379338f3f36e4dcd223be 30.06MB / 30.06MB 2.2s =\u003e =\u003e extracting sha256:66dbba0fb1b568cc3ffd53409ba2f9f82995ab7f80e379338f3f36e4dcd223be 0.6s =\u003e =\u003e extracting sha256:235af35749f09d6549b76fb376b3929ec21198feee4e72ffb396514dd11b374e 0.2s =\u003e =\u003e extracting sha256:b7dfc290d72d9065e3276dcd05c3323942f8947a71dd5e7b4304f7a68d25c9c9 0.5s =\u003e =\u003e extracting sha256:a34d8d2343cd4d1705a15b9494ef9b39d01832d43c3a09fe129458c8bfdabeee 0.0s =\u003e [example-voting-app-result 1/7] FROM docker.io/library/node:18-slim@sha256:36f3403a001b82d525afd2bdb7fcec0980543277dd86e9657964cce3438ae4b7 4.1s =\u003e =\u003e resolve docker.io/library/node:18-slim@sha256:36f3403a001b82d525afd2bdb7fcec0980543277dd86e9657964cce3438ae4b7 0.0s =\u003e =\u003e sha256:8e5162ad1efe24f915933435516b8cb1510cc80704bdf87c868e995f4f871cd9 451B / 451B 0.4s =\u003e =\u003e sha256:1ad5fb92392ab64732e756b44967f7ecead775eb06ce3f9cd43d1a22bd9c9458 2.77MB / 2.77MB 1.8s =\u003e =\u003e sha256:cc36a0fa43f85245c8d9977661c82a89cfc226fc26e5861670cf62c0933f62c4 46.14MB / 46.14MB 2.9s =\u003e =\u003e sha256:d1d4cdb9c955626876afec2a95c6f7487481e067acc0a8be1867f678003266df 4.19kB / 4.19kB 0.6s =\u003e =\u003e extracting sha256:d1d4cdb9c955626876afec2a95c6f7487481e067acc0a8be1867f678003266df 0.0s =\u003e =\u003e extracting sha256:cc36a0fa43f85245c8d9977661c82a89cfc226fc26e5861670cf62c0933f62c4 1.0s =\u003e =\u003e extracting sha256:1ad5fb92392ab64732e756b44967f7ecead775eb06ce3f9cd43d1a22bd9c9458 0.1s =\u003e =\u003e extracting sha256:8e5162ad1efe24f915933435516b8cb1510cc80704bdf87c868e995f4f871cd9 0.0s =\u003e [example-voting-app-result internal] load build context 0.0s =\u003e =\u003e transferring context: 302.01kB 0.0s =\u003e [example-voting-app-worker stage-1 2/3] WORKDIR /app 0.2s =\u003e [example-voting-app-vote 1/6] FROM docker.io/library/python:3.9-slim@sha256:2ed9cf48cf86eb638a9ceb555737161fbb20fa0474494269150b4d6c2653227b 2.7s =\u003e =\u003e resolve docker.io/library/python:3.9-slim@sha256:2ed9cf48cf86eb638a9ceb555737161fbb20fa0474494269150b4d6c2653227b 0.0s =\u003e =\u003e sha256:98b352a9715d74c4172491762aded5e741a28ce83df0fd99321a1031b1d5b6c8 3.17MB / 3.17MB 0.6s =\u003e =\u003e sha256:14b89f7d65aecdc5e63ab5759d5135ec777524bcdbc4adb5200fac65c825655d 233B / 233B 0.3s =\u003e =\u003e sha256:ac439b0377b530ec2bd538701b6611c91588fdf491f0566458373c314866cfb8 11.22MB / 11.22MB 0.9s =\u003e =\u003e sha256:1f3ba05aa6dc6bcf7f4f57d5eaec80fd3edffbffde2e9727df29d63c978f0b99 1.06MB / 1.06MB 1.4s =\u003e =\u003e extracting sha256:1f3ba05aa6dc6bcf7f4f57d5eaec80fd3edffbffde2e9727df29d63c978f0b99 0.0s =\u003e =\u003e extracting sha256:ac439b0377b530ec2bd538701b6611c91588fdf491f0566458373c314866cfb8 0.2s =\u003e =\u003e extracting sha256:14b89f7d65aecdc5e63ab5759d5135ec777524bcdbc4adb5200fac65c825655d 0.0s =\u003e =\u003e extracting sha256:98b352a9715d74c4172491762aded5e741a28ce83df0fd99321a1031b1d5b6c8 0.1s =\u003e [example-voting-app-vote internal] load build context 0.0s =\u003e =\u003e transferring context: 6.11kB 0.0s =\u003e [example-voting-app-vote 2/6] RUN apt-get update \u0026\u0026 apt-get install -y --no-install-recommends curl \u0026\u0026 rm -rf /var/lib/apt/lists/* 4.2s =\u003e [example-voting-app-result 2/7] RUN apt-get update \u0026\u0026 apt-get install -y --no-install-recommends curl tini \u0026\u0026 rm -rf /var/lib/apt/lists/* 3.4s =\u003e [example-voting-app-vote 3/6] WORKDIR /app 0.0s =\u003e [example-voting-app-vote 4/6] COPY requirements.txt /app/requirements.txt 0.0s =\u003e [example-voting-app-vote 5/6] RUN pip install -r requirements.txt 3.0s =\u003e [example-voting-app-result 3/7] WORKDIR /app 0.0s =\u003e [example-voting-app-result 4/7] RUN npm install -g nodemon 1.9s =\u003e [example-voting-app-result 5/7] COPY package*.json ./ 0.0s =\u003e [example-voting-app-result 6/7] RUN npm ci \u0026\u0026 npm cache clean --force \u0026\u0026 mv /app/node_modules /node_modules 2.1s =\u003e [example-voting-app-vote 6/6] COPY . . 0.0s =\u003e [example-voting-app-vote] exporting to docker image format 3.8s =\u003e =\u003e exporting layers 0.5s =\u003e =\u003e exporting manifest sha256:8e6e3010a750bd01eebd409fa77a5e98f99f4aecefe6de2b8eb43096e7de9bcb 0.0s =\u003e =\u003e exporting config sha256:5c1cf62b540c59ce0a99930302aae92523c6db3e77d0e8737d4d4260908880ee 0.0s =\u003e =\u003e sending tarball 3.2s =\u003e importing to docker 2.4s =\u003e [example-voting-app-result 7/7] COPY . . 0.0s =\u003e [example-voting-app-result] exporting to docker image format 3.9s =\u003e =\u003e exporting layers 0.3s =\u003e =\u003e exporting manifest sha256:91ac5a4bcc08913d88936fca0f6f36a58a69cb0e2de202691b3fe6c545d21e7c 0.0s =\u003e =\u003e exporting config sha256:223b94fc00aee779a4ee25ce9d1c69cab293aedd539b843faba7c1a47e894b29 0.0s =\u003e =\u003e sending tarball 3.6s =\u003e importing to docker 2.4s =\u003e [example-voting-app-worker build 2/7] RUN echo \"I am running on linux/arm64, building for linux/arm64\" 0.1s =\u003e [example-voting-app-worker build 3/7] WORKDIR /source 0.0s =\u003e [example-voting-app-worker build 4/7] COPY *.csproj . 0.0s =\u003e [example-voting-app-worker build 5/7] RUN case linux/arm64 in \"linux/amd64\") ARCH=x64 ;; \"linux/arm64\") ARCH=arm64 ;; \"linux/arm64/v8\") ARCH=a 12.3s =\u003e [example-voting-app-worker build 6/7] COPY . . 0.0s =\u003e [example-voting-app-worker build 7/7] RUN case linux/arm64 in \"linux/amd64\") ARCH=x64 ;; \"linux/arm64\") ARCH=arm64 ;; \"linux/arm64/v8\") ARCH=a 1.7s =\u003e [example-voting-app-worker stage-1 3/3] COPY --from=build /app . 0.0s =\u003e [example-voting-app-worker] exporting to docker image format 1.8s =\u003e =\u003e exporting layers 0.1s =\u003e =\u003e exporting manifest sha256:93ec3cbb0ef4e82b397475cf25ca330aef2b4b2badaa7ad86541b00e48305e63 0.0s =\u003e =\u003e exporting config sha256:8f82fda1dae8bc1c7c040c0c3045239fd48547d34ee3d5d458683cef7b107188 0.0s =\u003e =\u003e sending tarball 1.7s =\u003e importing to docker 0.7s [+] Running 8/5 ⠿ Network example-voting-app_back-tier Created 0.1s ⠿ Network example-voting-app_front-tier Created 0.1s ⠿ Volume \"example-voting-app_db-data\" Created 0.0s ⠿ Container example-voting-app-redis-1 Created 0.2s ⠿ Container example-voting-app-db-1 Created 0.2s ⠿ Container example-voting-app-vote-1 Created 0.0s ⠿ Container example-voting-app-worker-1 Created 0.0s ⠿ Container example-voting-app-result-1 Created 0.0s Attaching to example-voting-app-db-1, example-voting-app-redis-1, example-voting-app-result-1, example-voting-app-vote-1, example-voting-app-worker-1 example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.311 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.313 # Redis version=7.0.9, bits=64, commit=00000000, modified=0, pid=1, just started example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.313 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.313 * monotonic clock: POSIX clock_gettime example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.314 * Running mode=standalone, port=6379. example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.315 # Server initialized example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.318 * Ready to accept connections example-voting-app-db-1 | The files belonging to this database system will be owned by user \"postgres\". example-voting-app-db-1 | This user must also own the server process. example-voting-app-db-1 | example-voting-app-db-1 | The database cluster will be initialized with locale \"en_US.utf8\". example-voting-app-db-1 | The default database encoding has accordingly been set to \"UTF8\". example-voting-app-db-1 | The default text search configuration will be set to \"english\". example-voting-app-db-1 | example-voting-app-db-1 | Data page checksums are disabled. example-voting-app-db-1 | example-voting-app-db-1 | fixing permissions on existing directory /var/lib/postgresql/data ... ok example-voting-app-db-1 | creating subdirectories ... ok example-voting-app-db-1 | selecting dynamic shared memory implementation ... posix example-voting-app-db-1 | selecting default max_connections ... 100 example-voting-app-db-1 | selecting default shared_buffers ... 128MB example-voting-app-db-1 | selecting default time zone ... UTC example-voting-app-db-1 | creating configuration files ... ok example-voting-app-db-1 | running bootstrap script ... ok example-voting-app-db-1 | sh: locale: not found example-voting-app-db-1 | 2023-03-04 14:41:27.703 UTC [30] WARNING: no usable system locales were found example-voting-app-db-1 | performing post-bootstrap initialization ... ok example-voting-app-db-1 | initdb: warning: enabling \"trust\" authentication for local connections example-voting-app-db-1 | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb. example-voting-app-db-1 | syncing data to disk ... ok example-voting-app-db-1 | example-voting-app-db-1 | example-voting-app-db-1 | Success. You can now start the database server using: example-voting-app-db-1 | example-voting-app-db-1 | pg_ctl -D /var/lib/postgresql/data -l logfile start example-voting-app-db-1 | example-voting-app-db-1 | waiting for server to start....2023-03-04 14:41:28.118 UTC [36] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 14:41:28.120 UTC [36] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 14:41:28.124 UTC [39] LOG: database system was shut down at 2023-03-04 14:41:28 UTC example-voting-app-db-1 | 2023-03-04 14:41:28.127 UTC [36] LOG: database system is ready to accept connections example-voting-app-db-1 | done example-voting-app-db-1 | server started example-voting-app-db-1 | example-voting-app-db-1 | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/* example-voting-app-db-1 | example-voting-app-db-1 | waiting for server to shut down....2023-03-04 14:41:28.218 UTC [36] LOG: received fast shutdown request example-voting-app-db-1 | 2023-03-04 14:41:28.220 UTC [36] LOG: aborting any active transactions example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [36] LOG: background worker \"logical replication launcher\" (PID 42) exited with exit code 1 example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [37] LOG: shutting down example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [37] LOG: checkpoint starting: shutdown immediate example-voting-app-db-1 | 2023-03-04 14:41:28.227 UTC [37] LOG: checkpoint complete: wrote 3 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.002 s, sync=0.001 s, total=0.005 s; sync files=2, longest=0.001 s, average=0.001 s; distance=0 kB, estimate=0 kB example-voting-app-db-1 | 2023-03-04 14:41:28.233 UTC [36] LOG: database system is shut down example-voting-app-db-1 | done example-voting-app-db-1 | server stopped example-voting-app-db-1 | example-voting-app-db-1 | PostgreSQL init process complete; ready for start up. example-voting-app-db-1 | example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: listening on IPv4 address \"0.0.0.0\", port 5432 example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: listening on IPv6 address \"::\", port 5432 example-voting-app-db-1 | 2023-03-04 14:41:28.344 UTC [1] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 14:41:28.347 UTC [50] LOG: database system was shut down at 2023-03-04 14:41:28 UTC example-voting-app-db-1 | 2023-03-04 14:41:28.351 UTC [1] LOG: database system is ready to accept connections Error response from daemon: Ports are not available: exposing port TCP 0.0.0.0:5000 -\u003e 0.0.0.0:0: listen tcp 0.0.0.0:5000: bind: address already in use ➜ example-voting-app git:(main) check docker compose events link docker compose events 2023-03-04 20:12:13.002384 container exec_create: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (name=example-voting-app-redis-1, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=a242ce36c4b7595edfe03a0f3f01d71b201f003ab0e04cf04f26ee17e2d5e668, image=redis:alpine, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks) 2023-03-04 20:12:13.003007 container exec_start: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/Target=/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, execID=a242ce36c4b7595edfe03a0f3f01d71b201f003ab0e04cf04f26ee17e2d5e668, image=redis:alpine, name=example-voting-app-redis-1) 2023-03-04 20:12:13.022680 container exec_create: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, image=postgres:15-alpine, desktop.docker.io/binds/0/Target=/healthchecks, execID=df7c12ef54c8029a23eb9febcb677c8f8c0984cf5c3da7c5634d268b1b3804b3, name=example-voting-app-db-1) 2023-03-04 20:12:13.023200 container exec_start: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (name=example-voting-app-db-1, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=df7c12ef54c8029a23eb9febcb677c8f8c0984cf5c3da7c5634d268b1b3804b3, image=postgres:15-alpine, desktop.docker.io/binds/0/Target=/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile) 2023-03-04 20:12:13.078489 container exec_die c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Target=/healthchecks, image=redis:alpine, execID=a242ce36c4b7595edfe03a0f3f01d71b201f003ab0e04cf04f26ee17e2d5e668, exitCode=0, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, name=example-voting-app-redis-1) 2023-03-04 20:12:13.097001 container exec_die 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (image=postgres:15-alpine, desktop.docker.io/binds/0/SourceKind=hostFile, exitCode=0, name=example-voting-app-db-1, desktop.docker.io/binds/0/Target=/healthchecks, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=df7c12ef54c8029a23eb9febcb677c8f8c0984cf5c3da7c5634d268b1b3804b3) 2023-03-04 20:12:18.082975 container exec_create: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (image=redis:alpine, name=example-voting-app-redis-1, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, execID=4293df2a37da48526e1c21e417c25d34e8947171a66a44bb9741036f09903032) 2023-03-04 20:12:18.083432 container exec_start: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=4293df2a37da48526e1c21e417c25d34e8947171a66a44bb9741036f09903032, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, image=redis:alpine, name=example-voting-app-redis-1) 2023-03-04 20:12:18.099740 container exec_create: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (name=example-voting-app-db-1, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, image=postgres:15-alpine, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, execID=725b7d5bf401d7c3944d8432b78835ebd86742b696ce30f6166da8b8d3802f63) 2023-03-04 20:12:18.100090 container exec_start: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, execID=725b7d5bf401d7c3944d8432b78835ebd86742b696ce30f6166da8b8d3802f63, image=postgres:15-alpine, name=example-voting-app-db-1) 2023-03-04 20:12:18.169539 container exec_die c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, image=redis:alpine, name=example-voting-app-redis-1, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, execID=4293df2a37da48526e1c21e417c25d34e8947171a66a44bb9741036f09903032, exitCode=0) 2023-03-04 20:12:18.185722 container exec_die 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/SourceKind=hostFile, image=postgres:15-alpine, desktop.docker.io/binds/0/Target=/healthchecks, exitCode=0, name=example-voting-app-db-1, execID=725b7d5bf401d7c3944d8432b78835ebd86742b696ce30f6166da8b8d3802f63, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks) 2023-03-04 20:12:23.173394 container exec_create: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/Target=/healthchecks, image=redis:alpine, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, execID=7225d11881403d700013274bbcd9ab8c0dcf8e1ec55ecf8eefc63af51cb10ebe, name=example-voting-app-redis-1) 2023-03-04 20:12:23.173847 container exec_start: /bin/sh -c /healthchecks/redis.sh c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=7225d11881403d700013274bbcd9ab8c0dcf8e1ec55ecf8eefc63af51cb10ebe, image=redis:alpine, name=example-voting-app-redis-1) 2023-03-04 20:12:23.188391 container exec_create: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/Target=/healthchecks, name=example-voting-app-db-1, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=8c18f808739a1a14c190db460030da0bb1b4a68a153f202f55a2c840f96bf630, image=postgres:15-alpine) 2023-03-04 20:12:23.188516 container exec_start: /bin/sh -c /healthchecks/postgres.sh 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, execID=8c18f808739a1a14c190db460030da0bb1b4a68a153f202f55a2c840f96bf630, image=postgres:15-alpine, name=example-voting-app-db-1, desktop.docker.io/binds/0/Target=/healthchecks) 2023-03-04 20:12:23.241796 container exec_die c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406 (desktop.docker.io/binds/0/SourceKind=hostFile, execID=7225d11881403d700013274bbcd9ab8c0dcf8e1ec55ecf8eefc63af51cb10ebe, exitCode=0, name=example-voting-app-redis-1, desktop.docker.io/binds/0/Target=/healthchecks, image=redis:alpine, desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks) 2023-03-04 20:12:23.263784 container exec_die 0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6 (desktop.docker.io/binds/0/Source=/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks, desktop.docker.io/binds/0/SourceKind=hostFile, desktop.docker.io/binds/0/Target=/healthchecks, exitCode=0, name=example-voting-app-db-1, execID=8c18f808739a1a14c190db460030da0bb1b4a68a153f202f55a2c840f96bf630, image=postgres:15-alpine) use –json flag link docker compose events --json {\"action\":\"exec_create: /bin/sh -c /healthchecks/redis.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"8f907207527e01ca85a0d73227b35a6da73ed8402de4336e1acb312c46e9473e\",\"image\":\"redis:alpine\",\"name\":\"example-voting-app-redis-1\"},\"id\":\"c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406\",\"service\":\"redis\",\"time\":\"2023-03-04T20:30:14.926031584+05:30\",\"type\":\"container\"} {\"action\":\"exec_start: /bin/sh -c /healthchecks/redis.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"8f907207527e01ca85a0d73227b35a6da73ed8402de4336e1acb312c46e9473e\",\"image\":\"redis:alpine\",\"name\":\"example-voting-app-redis-1\"},\"id\":\"c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406\",\"service\":\"redis\",\"time\":\"2023-03-04T20:30:14.926920001+05:30\",\"type\":\"container\"} {\"action\":\"exec_create: /bin/sh -c /healthchecks/postgres.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"006d0a097e9819360bf647cc7f2f5c75723588a546b14359267b4b3a0b169310\",\"image\":\"postgres:15-alpine\",\"name\":\"example-voting-app-db-1\"},\"id\":\"0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6\",\"service\":\"db\",\"time\":\"2023-03-04T20:30:14.940481834+05:30\",\"type\":\"container\"} {\"action\":\"exec_start: /bin/sh -c /healthchecks/postgres.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"006d0a097e9819360bf647cc7f2f5c75723588a546b14359267b4b3a0b169310\",\"image\":\"postgres:15-alpine\",\"name\":\"example-voting-app-db-1\"},\"id\":\"0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6\",\"service\":\"db\",\"time\":\"2023-03-04T20:30:14.941143834+05:30\",\"type\":\"container\"} {\"action\":\"exec_die\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"8f907207527e01ca85a0d73227b35a6da73ed8402de4336e1acb312c46e9473e\",\"exitCode\":\"0\",\"image\":\"redis:alpine\",\"name\":\"example-voting-app-redis-1\"},\"id\":\"c0d6be412752520417ac2b5800fb4501e9c2553f900e078da9fd2a2fde56d406\",\"service\":\"redis\",\"time\":\"2023-03-04T20:30:15.009103251+05:30\",\"type\":\"container\"} {\"action\":\"exec_die\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/healthchecks\",\"desktop.docker.io/binds/0/SourceKind\":\"hostFile\",\"desktop.docker.io/binds/0/Target\":\"/healthchecks\",\"execID\":\"006d0a097e9819360bf647cc7f2f5c75723588a546b14359267b4b3a0b169310\",\"exitCode\":\"0\",\"image\":\"postgres:15-alpine\",\"name\":\"example-voting-app-db-1\"},\"id\":\"0ea61e77a190102e4facd7759235fd8c92870b1f594eaaf109a7e55888693dc6\",\"service\":\"db\",\"time\":\"2023-03-04T20:30:15.026884834+05:30\",\"type\":\"container\"} {\"action\":\"exec_create: /bin/sh -c /healthchecks/redis.sh\",\"attributes\":{\"desktop.docker.io/binds/0/Source\":\"/Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docke "
            }
        );
    index.add(
            {
                id:  85 ,
                href: "\/docs\/docker\/compose-exec-command\/",
                title: "Compose Exec Command ",
                description: "Docker Compose Exec into result service link docker compose exec result sh # ls Dockerfile docker-compose.test.yml package-lock.json package.json server.js tests views # cat docker-compose.test.yml version: '2' services: sut: build: ./tests/ depends_on: - vote - result - worker networks: - front-tier vote: build: ../vote/ ports: [\"80\"] depends_on: - redis - db networks: - front-tier - back-tier result: build: . ports: [\"80\"] depends_on: - redis - db networks: - front-tier - back-tier worker: build: ../worker/ depends_on: - redis - db networks: - back-tier redis: image: redis:alpine networks: - back-tier db: image: postgres:9.4 environment: POSTGRES_USER: \"postgres\" POSTGRES_PASSWORD: \"postgres\" volumes: - \"db-data:/var/lib/postgresql/data\" networks: - back-tier volumes: db-data: networks: front-tier: back-tier: # exit ➜ example-voting-app git:(main) ",
                content: "Docker Compose Exec into result service link docker compose exec result sh # ls Dockerfile docker-compose.test.yml package-lock.json package.json server.js tests views # cat docker-compose.test.yml version: '2' services: sut: build: ./tests/ depends_on: - vote - result - worker networks: - front-tier vote: build: ../vote/ ports: [\"80\"] depends_on: - redis - db networks: - front-tier - back-tier result: build: . ports: [\"80\"] depends_on: - redis - db networks: - front-tier - back-tier worker: build: ../worker/ depends_on: - redis - db networks: - back-tier redis: image: redis:alpine networks: - back-tier db: image: postgres:9.4 environment: POSTGRES_USER: \"postgres\" POSTGRES_PASSWORD: \"postgres\" volumes: - \"db-data:/var/lib/postgresql/data\" networks: - back-tier volumes: db-data: networks: front-tier: back-tier: # exit ➜ example-voting-app git:(main) "
            }
        );
    index.add(
            {
                id:  86 ,
                href: "\/docs\/docker\/compose-images-command\/",
                title: "Compose Images Command",
                description: " example-voting-app git:(main) docker compose images CONTAINER REPOSITORY TAG IMAGE ID SIZE example-voting-app-db-1 postgres 15-alpine 68d4a8d9d3d9 241MB example-voting-app-redis-1 redis alpine 1339d05b97a4 30.4MB example-voting-app-result-1 example-voting-app-result latest 223b94fc00ae 254MB example-voting-app-vote-1 example-voting-app-vote latest 5c1cf62b540c 135MB example-voting-app-worker-1 example-voting-app-worker latest 8f82fda1dae8 195MB ",
                content: " example-voting-app git:(main) docker compose images CONTAINER REPOSITORY TAG IMAGE ID SIZE example-voting-app-db-1 postgres 15-alpine 68d4a8d9d3d9 241MB example-voting-app-redis-1 redis alpine 1339d05b97a4 30.4MB example-voting-app-result-1 example-voting-app-result latest 223b94fc00ae 254MB example-voting-app-vote-1 example-voting-app-vote latest 5c1cf62b540c 135MB example-voting-app-worker-1 example-voting-app-worker latest 8f82fda1dae8 195MB "
            }
        );
    index.add(
            {
                id:  87 ,
                href: "\/docs\/docker\/compose-kill-command\/",
                title: "Compose Kill Command",
                description: "Forces running containers to stop by sending a SIGKILL signal. Optionally the signal can be passed : link example-voting-app git:(main) docker-compose kill -s SIGINT [+] Running 4/0 ⠿ Container example-voting-app-redis-1 Killed 0.0s ⠿ Container example-voting-app-worker-1 Killed 0.0s ⠿ Container example-voting-app-db-1 Killed 0.0s ⠿ Container example-voting-app-result-1 Killed 0.0s ",
                content: "Forces running containers to stop by sending a SIGKILL signal. Optionally the signal can be passed : link example-voting-app git:(main) docker-compose kill -s SIGINT [+] Running 4/0 ⠿ Container example-voting-app-redis-1 Killed 0.0s ⠿ Container example-voting-app-worker-1 Killed 0.0s ⠿ Container example-voting-app-db-1 Killed 0.0s ⠿ Container example-voting-app-result-1 Killed 0.0s "
            }
        );
    index.add(
            {
                id:  88 ,
                href: "\/docs\/docker\/compose-logs-command\/",
                title: "Compose Logs Command",
                description: "View output from containers link ➜ example-voting-app git:(main) docker-compose logs example-voting-app-worker-1 | Connected to db example-voting-app-result-1 | [nodemon] 2.0.21 example-voting-app-worker-1 | Found redis at 172.20.0.2 example-voting-app-worker-1 | Connecting to redis example-voting-app-result-1 | [nodemon] to restart at any time, enter `rs` example-voting-app-result-1 | [nodemon] watching path(s): *.* example-voting-app-result-1 | [nodemon] watching extensions: js,mjs,json example-voting-app-result-1 | [nodemon] starting `node server.js` example-voting-app-result-1 | Sat, 04 Mar 2023 18:00:16 GMT body-parser deprecated bodyParser: use individual json/urlencoded middlewares at server.js:73:9 example-voting-app-result-1 | Sat, 04 Mar 2023 18:00:16 GMT body-parser deprecated undefined extended: provide extended option at ../node_modules/body-parser/index.js:104:29 example-voting-app-result-1 | App running on port 80 example-voting-app-result-1 | Connected to db example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.311 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.313 # Redis version=7.0.9, bits=64, commit=00000000, modified=0, pid=1, just started example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.313 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.313 * monotonic clock: POSIX clock_gettime example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.314 * Running mode=standalone, port=6379. example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.315 # Server initialized example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.318 * Ready to accept connections example-voting-app-redis-1 | 1:signal-handler (1677952603) Received SIGINT scheduling shutdown... example-voting-app-redis-1 | 1:M 04 Mar 2023 17:56:43.159 # User requested shutdown... example-voting-app-redis-1 | 1:M 04 Mar 2023 17:56:43.159 * Saving the final RDB snapshot before exiting. example-voting-app-redis-1 | 1:M 04 Mar 2023 17:56:43.161 * DB saved on disk example-voting-app-redis-1 | 1:M 04 Mar 2023 17:56:43.161 # Redis is now ready to exit, bye bye... example-voting-app-redis-1 | 1:C 04 Mar 2023 18:00:10.915 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo example-voting-app-redis-1 | 1:C 04 Mar 2023 18:00:10.915 # Redis version=7.0.9, bits=64, commit=00000000, modified=0, pid=1, just started example-voting-app-redis-1 | 1:C 04 Mar 2023 18:00:10.915 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.915 * monotonic clock: POSIX clock_gettime example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.916 * Running mode=standalone, port=6379. example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.916 # Server initialized example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * Loading RDB produced by version 7.0.9 example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * RDB age 207 seconds example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * RDB memory usage when created 1.09 Mb example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * Done loading RDB, keys loaded: 0, keys expired: 0. example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * DB loaded from disk: 0.000 seconds example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * Ready to accept connections example-voting-app-db-1 | The files belonging to this database system will be owned by user \"postgres\". example-voting-app-db-1 | This user must also own the server process. example-voting-app-db-1 | example-voting-app-db-1 | The database cluster will be initialized with locale \"en_US.utf8\". example-voting-app-db-1 | The default database encoding has accordingly been set to \"UTF8\". example-voting-app-db-1 | The default text search configuration will be set to \"english\". example-voting-app-db-1 | example-voting-app-db-1 | Data page checksums are disabled. example-voting-app-db-1 | example-voting-app-db-1 | fixing permissions on existing directory /var/lib/postgresql/data ... ok example-voting-app-db-1 | creating subdirectories ... ok example-voting-app-db-1 | selecting dynamic shared memory implementation ... posix example-voting-app-db-1 | selecting default max_connections ... 100 example-voting-app-db-1 | selecting default shared_buffers ... 128MB example-voting-app-db-1 | selecting default time zone ... UTC example-voting-app-db-1 | creating configuration files ... ok example-voting-app-db-1 | running bootstrap script ... ok example-voting-app-db-1 | sh: locale: not found example-voting-app-db-1 | 2023-03-04 14:41:27.703 UTC [30] WARNING: no usable system locales were found example-voting-app-db-1 | performing post-bootstrap initialization ... ok example-voting-app-db-1 | syncing data to disk ... ok example-voting-app-db-1 | example-voting-app-db-1 | example-voting-app-db-1 | Success. You can now start the database server using: example-voting-app-db-1 | example-voting-app-db-1 | pg_ctl -D /var/lib/postgresql/data -l logfile start example-voting-app-db-1 | example-voting-app-db-1 | initdb: warning: enabling \"trust\" authentication for local connections example-voting-app-db-1 | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb. example-voting-app-db-1 | waiting for server to start....2023-03-04 14:41:28.118 UTC [36] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 14:41:28.120 UTC [36] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 14:41:28.124 UTC [39] LOG: database system was shut down at 2023-03-04 14:41:28 UTC example-voting-app-db-1 | 2023-03-04 14:41:28.127 UTC [36] LOG: database system is ready to accept connections example-voting-app-db-1 | done example-voting-app-db-1 | server started example-voting-app-db-1 | example-voting-app-db-1 | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/* example-voting-app-db-1 | example-voting-app-db-1 | waiting for server to shut down....2023-03-04 14:41:28.218 UTC [36] LOG: received fast shutdown request example-voting-app-db-1 | 2023-03-04 14:41:28.220 UTC [36] LOG: aborting any active transactions example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [36] LOG: background worker \"logical replication launcher\" (PID 42) exited with exit code 1 example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [37] LOG: shutting down example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [37] LOG: checkpoint starting: shutdown immediate example-voting-app-db-1 | 2023-03-04 14:41:28.227 UTC [37] LOG: checkpoint complete: wrote 3 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.002 s, sync=0.001 s, total=0.005 s; sync files=2, longest=0.001 s, average=0.001 s; distance=0 kB, estimate=0 kB example-voting-app-db-1 | 2023-03-04 14:41:28.233 UTC [36] LOG: database system is shut down example-voting-app-db-1 | done example-voting-app-db-1 | server stopped example-voting-app-db-1 | example-voting-app-db-1 | PostgreSQL init process complete; ready for start up. example-voting-app-db-1 | example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: listening on IPv4 address \"0.0.0.0\", port 5432 example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: listening on IPv6 address \"::\", port 5432 example-voting-app-db-1 | 2023-03-04 14:41:28.344 UTC [1] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 14:41:28.347 UTC [50] LOG: database system was shut down at 2023-03-04 14:41:28 UTC example-voting-app-db-1 | 2023-03-04 14:41:28.351 UTC [1] LOG: database system is ready to accept connections example-voting-app-db-1 | 2023-03-04 14:46:28.434 UTC [48] LOG: checkpoint starting: time example-voting-app-db-1 | 2023-03-04 14:46:36.189 UTC [48] LOG: checkpoint complete: wrote 79 buffers (0.5%); 0 WAL file(s) added, 0 removed, 0 recycled; write=7.707 s, sync=0.027 s, total=7.755 s; sync files=41, longest=0.012 s, average=0.001 s; distance=397 kB, estimate=397 kB example-voting-app-db-1 | 2023-03-04 17:56:43.105 UTC [1] LOG: received fast shutdown request example-voting-app-db-1 | 2023-03-04 17:56:43.107 UTC [1] LOG: aborting any active transactions example-voting-app-db-1 | 2023-03-04 17:56:43.111 UTC [67] FATAL: terminating connection due to administrator command example-voting-app-db-1 | 2023-03-04 17:56:43.117 UTC [66] FATAL: terminating connection due to administrator command example-voting-app-db-1 | 2023-03-04 17:56:43.122 UTC [1] LOG: background worker \"logical replication launcher\" (PID 53) exited with exit code 1 example-voting-app-db-1 | 2023-03-04 17:56:43.126 UTC [48] LOG: shutting down example-voting-app-db-1 | 2023-03-04 17:56:43.128 UTC [48] LOG: checkpoint starting: shutdown immediate example-voting-app-db-1 | 2023-03-04 17:56:43.138 UTC [48] LOG: checkpoint complete: wrote 0 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.003 s, sync=0.001 s, total=0.012 s; sync files=0, longest=0.000 s, average=0.000 s; distance=0 kB, estimate=357 kB example-voting-app-db-1 | 2023-03-04 17:56:43.185 UTC [1] LOG: database system is shut down example-voting-app-db-1 | example-voting-app-db-1 | PostgreSQL Database directory appears to contain a database; Skipping initialization example-voting-app-db-1 | example-voting-app-db-1 | 2023-03-04 18:00:10.972 UTC [1] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 18:00:10.972 UTC [1] LOG: listening on IPv4 address \"0.0.0.0\", port 5432 example-voting-app-db-1 | 2023-03-04 18:00:10.972 UTC [1] LOG: listening on IPv6 address \"::\", port 5432 example-voting-app-db-1 | 2023-03-04 18:00:10.973 UTC [1] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 18:00:10.977 UTC [24] LOG: database system was shut down at 2023-03-04 17:56:43 UTC example-voting-app-db-1 | 2023-03-04 18:00:10.982 UTC [1] LOG: database system is ready to accept connections ➜ example-voting-app git:(main) ",
                content: "View output from containers link ➜ example-voting-app git:(main) docker-compose logs example-voting-app-worker-1 | Connected to db example-voting-app-result-1 | [nodemon] 2.0.21 example-voting-app-worker-1 | Found redis at 172.20.0.2 example-voting-app-worker-1 | Connecting to redis example-voting-app-result-1 | [nodemon] to restart at any time, enter `rs` example-voting-app-result-1 | [nodemon] watching path(s): *.* example-voting-app-result-1 | [nodemon] watching extensions: js,mjs,json example-voting-app-result-1 | [nodemon] starting `node server.js` example-voting-app-result-1 | Sat, 04 Mar 2023 18:00:16 GMT body-parser deprecated bodyParser: use individual json/urlencoded middlewares at server.js:73:9 example-voting-app-result-1 | Sat, 04 Mar 2023 18:00:16 GMT body-parser deprecated undefined extended: provide extended option at ../node_modules/body-parser/index.js:104:29 example-voting-app-result-1 | App running on port 80 example-voting-app-result-1 | Connected to db example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.311 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.313 # Redis version=7.0.9, bits=64, commit=00000000, modified=0, pid=1, just started example-voting-app-redis-1 | 1:C 04 Mar 2023 14:41:27.313 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.313 * monotonic clock: POSIX clock_gettime example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.314 * Running mode=standalone, port=6379. example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.315 # Server initialized example-voting-app-redis-1 | 1:M 04 Mar 2023 14:41:27.318 * Ready to accept connections example-voting-app-redis-1 | 1:signal-handler (1677952603) Received SIGINT scheduling shutdown... example-voting-app-redis-1 | 1:M 04 Mar 2023 17:56:43.159 # User requested shutdown... example-voting-app-redis-1 | 1:M 04 Mar 2023 17:56:43.159 * Saving the final RDB snapshot before exiting. example-voting-app-redis-1 | 1:M 04 Mar 2023 17:56:43.161 * DB saved on disk example-voting-app-redis-1 | 1:M 04 Mar 2023 17:56:43.161 # Redis is now ready to exit, bye bye... example-voting-app-redis-1 | 1:C 04 Mar 2023 18:00:10.915 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo example-voting-app-redis-1 | 1:C 04 Mar 2023 18:00:10.915 # Redis version=7.0.9, bits=64, commit=00000000, modified=0, pid=1, just started example-voting-app-redis-1 | 1:C 04 Mar 2023 18:00:10.915 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.915 * monotonic clock: POSIX clock_gettime example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.916 * Running mode=standalone, port=6379. example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.916 # Server initialized example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * Loading RDB produced by version 7.0.9 example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * RDB age 207 seconds example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * RDB memory usage when created 1.09 Mb example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * Done loading RDB, keys loaded: 0, keys expired: 0. example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * DB loaded from disk: 0.000 seconds example-voting-app-redis-1 | 1:M 04 Mar 2023 18:00:10.918 * Ready to accept connections example-voting-app-db-1 | The files belonging to this database system will be owned by user \"postgres\". example-voting-app-db-1 | This user must also own the server process. example-voting-app-db-1 | example-voting-app-db-1 | The database cluster will be initialized with locale \"en_US.utf8\". example-voting-app-db-1 | The default database encoding has accordingly been set to \"UTF8\". example-voting-app-db-1 | The default text search configuration will be set to \"english\". example-voting-app-db-1 | example-voting-app-db-1 | Data page checksums are disabled. example-voting-app-db-1 | example-voting-app-db-1 | fixing permissions on existing directory /var/lib/postgresql/data ... ok example-voting-app-db-1 | creating subdirectories ... ok example-voting-app-db-1 | selecting dynamic shared memory implementation ... posix example-voting-app-db-1 | selecting default max_connections ... 100 example-voting-app-db-1 | selecting default shared_buffers ... 128MB example-voting-app-db-1 | selecting default time zone ... UTC example-voting-app-db-1 | creating configuration files ... ok example-voting-app-db-1 | running bootstrap script ... ok example-voting-app-db-1 | sh: locale: not found example-voting-app-db-1 | 2023-03-04 14:41:27.703 UTC [30] WARNING: no usable system locales were found example-voting-app-db-1 | performing post-bootstrap initialization ... ok example-voting-app-db-1 | syncing data to disk ... ok example-voting-app-db-1 | example-voting-app-db-1 | example-voting-app-db-1 | Success. You can now start the database server using: example-voting-app-db-1 | example-voting-app-db-1 | pg_ctl -D /var/lib/postgresql/data -l logfile start example-voting-app-db-1 | example-voting-app-db-1 | initdb: warning: enabling \"trust\" authentication for local connections example-voting-app-db-1 | initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb. example-voting-app-db-1 | waiting for server to start....2023-03-04 14:41:28.118 UTC [36] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 14:41:28.120 UTC [36] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 14:41:28.124 UTC [39] LOG: database system was shut down at 2023-03-04 14:41:28 UTC example-voting-app-db-1 | 2023-03-04 14:41:28.127 UTC [36] LOG: database system is ready to accept connections example-voting-app-db-1 | done example-voting-app-db-1 | server started example-voting-app-db-1 | example-voting-app-db-1 | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/* example-voting-app-db-1 | example-voting-app-db-1 | waiting for server to shut down....2023-03-04 14:41:28.218 UTC [36] LOG: received fast shutdown request example-voting-app-db-1 | 2023-03-04 14:41:28.220 UTC [36] LOG: aborting any active transactions example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [36] LOG: background worker \"logical replication launcher\" (PID 42) exited with exit code 1 example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [37] LOG: shutting down example-voting-app-db-1 | 2023-03-04 14:41:28.222 UTC [37] LOG: checkpoint starting: shutdown immediate example-voting-app-db-1 | 2023-03-04 14:41:28.227 UTC [37] LOG: checkpoint complete: wrote 3 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.002 s, sync=0.001 s, total=0.005 s; sync files=2, longest=0.001 s, average=0.001 s; distance=0 kB, estimate=0 kB example-voting-app-db-1 | 2023-03-04 14:41:28.233 UTC [36] LOG: database system is shut down example-voting-app-db-1 | done example-voting-app-db-1 | server stopped example-voting-app-db-1 | example-voting-app-db-1 | PostgreSQL init process complete; ready for start up. example-voting-app-db-1 | example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: listening on IPv4 address \"0.0.0.0\", port 5432 example-voting-app-db-1 | 2023-03-04 14:41:28.342 UTC [1] LOG: listening on IPv6 address \"::\", port 5432 example-voting-app-db-1 | 2023-03-04 14:41:28.344 UTC [1] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 14:41:28.347 UTC [50] LOG: database system was shut down at 2023-03-04 14:41:28 UTC example-voting-app-db-1 | 2023-03-04 14:41:28.351 UTC [1] LOG: database system is ready to accept connections example-voting-app-db-1 | 2023-03-04 14:46:28.434 UTC [48] LOG: checkpoint starting: time example-voting-app-db-1 | 2023-03-04 14:46:36.189 UTC [48] LOG: checkpoint complete: wrote 79 buffers (0.5%); 0 WAL file(s) added, 0 removed, 0 recycled; write=7.707 s, sync=0.027 s, total=7.755 s; sync files=41, longest=0.012 s, average=0.001 s; distance=397 kB, estimate=397 kB example-voting-app-db-1 | 2023-03-04 17:56:43.105 UTC [1] LOG: received fast shutdown request example-voting-app-db-1 | 2023-03-04 17:56:43.107 UTC [1] LOG: aborting any active transactions example-voting-app-db-1 | 2023-03-04 17:56:43.111 UTC [67] FATAL: terminating connection due to administrator command example-voting-app-db-1 | 2023-03-04 17:56:43.117 UTC [66] FATAL: terminating connection due to administrator command example-voting-app-db-1 | 2023-03-04 17:56:43.122 UTC [1] LOG: background worker \"logical replication launcher\" (PID 53) exited with exit code 1 example-voting-app-db-1 | 2023-03-04 17:56:43.126 UTC [48] LOG: shutting down example-voting-app-db-1 | 2023-03-04 17:56:43.128 UTC [48] LOG: checkpoint starting: shutdown immediate example-voting-app-db-1 | 2023-03-04 17:56:43.138 UTC [48] LOG: checkpoint complete: wrote 0 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.003 s, sync=0.001 s, total=0.012 s; sync files=0, longest=0.000 s, average=0.000 s; distance=0 kB, estimate=357 kB example-voting-app-db-1 | 2023-03-04 17:56:43.185 UTC [1] LOG: database system is shut down example-voting-app-db-1 | example-voting-app-db-1 | PostgreSQL Database directory appears to contain a database; Skipping initialization example-voting-app-db-1 | example-voting-app-db-1 | 2023-03-04 18:00:10.972 UTC [1] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit example-voting-app-db-1 | 2023-03-04 18:00:10.972 UTC [1] LOG: listening on IPv4 address \"0.0.0.0\", port 5432 example-voting-app-db-1 | 2023-03-04 18:00:10.972 UTC [1] LOG: listening on IPv6 address \"::\", port 5432 example-voting-app-db-1 | 2023-03-04 18:00:10.973 UTC [1] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" example-voting-app-db-1 | 2023-03-04 18:00:10.977 UTC [24] LOG: database system was shut down at 2023-03-04 17:56:43 UTC example-voting-app-db-1 | 2023-03-04 18:00:10.982 UTC [1] LOG: database system is ready to accept connections ➜ example-voting-app git:(main) "
            }
        );
    index.add(
            {
                id:  89 ,
                href: "\/docs\/docker\/compose-ls-command\/",
                title: "Compose ls Command",
                description: "List running compose projects link docker-compose ls NAME STATUS CONFIG FILES example-voting-app running(4) /Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/docker-compose.yml ➜ example-voting-app git:(main) ",
                content: "List running compose projects link docker-compose ls NAME STATUS CONFIG FILES example-voting-app running(4) /Users/sangambiradar/Documents/GitHub/dockerworkshop/workshop/Docker102/Docker-Compose/example-voting-app/docker-compose.yml ➜ example-voting-app git:(main) "
            }
        );
    index.add(
            {
                id:  90 ,
                href: "\/docs\/docker\/compose-pause-unpause-command\/",
                title: "Compose Pause unpause Command",
                description: " example-voting-app git:(main) docker compose pause [+] Running 4/0 ⠿ Container example-voting-app-db-1 Paused 0.0s ⠿ Container example-voting-app-redis-1 Paused 0.0s ⠿ Container example-voting-app-worker-1 Paused 0.0s ⠿ Container example-voting-app-result-1 Paused 0.0s ➜ example-voting-app git:(main) Pauses running containers of a service. They can be unpaused with docker compose unpause. link docker compose unpause [+] Running 4/0 ⠿ Container example-voting-app-worker-1 Unpaused 0.0s ⠿ Container example-voting-app-redis-1 Unpaused 0.0s ⠿ Container example-voting-app-result-1 Unpaused 0.0s ⠿ Container example-voting-app-db-1 Unpaused 0.0s ➜ example-voting-app git:(main) ",
                content: " example-voting-app git:(main) docker compose pause [+] Running 4/0 ⠿ Container example-voting-app-db-1 Paused 0.0s ⠿ Container example-voting-app-redis-1 Paused 0.0s ⠿ Container example-voting-app-worker-1 Paused 0.0s ⠿ Container example-voting-app-result-1 Paused 0.0s ➜ example-voting-app git:(main) Pauses running containers of a service. They can be unpaused with docker compose unpause. link docker compose unpause [+] Running 4/0 ⠿ Container example-voting-app-worker-1 Unpaused 0.0s ⠿ Container example-voting-app-redis-1 Unpaused 0.0s ⠿ Container example-voting-app-result-1 Unpaused 0.0s ⠿ Container example-voting-app-db-1 Unpaused 0.0s ➜ example-voting-app git:(main) "
            }
        );
    index.add(
            {
                id:  91 ,
                href: "\/docs\/docker\/compose-port-command\/",
                title: "Compose Port Command",
                description: "Print the public port for a port binding. link docker compose port result 80 0.0.0.0:5001 ➜ example-voting-app git:(main) ",
                content: "Print the public port for a port binding. link docker compose port result 80 0.0.0.0:5001 ➜ example-voting-app git:(main) "
            }
        );
    index.add(
            {
                id:  92 ,
                href: "\/docs\/docker\/compose-ps-command\/",
                title: "Compose Ps Command",
                description: "List containers link docker compose ps NAME IMAGE COMMAND SERVICE CREATED STATUS PORTS example-voting-app-db-1 postgres:15-alpine \"docker-entrypoint.s…\" db 4 hours ago Up About an hour (healthy) 5432/tcp example-voting-app-redis-1 redis:alpine \"docker-entrypoint.s…\" redis 4 hours ago Up About an hour (healthy) 6379/tcp example-voting-app-result-1 example-voting-app-result \"nodemon server.js\" result About an hour ago Up About an hour 0.0.0.0:5858-\u003e5858/tcp, 0.0.0.0:5001-\u003e80/tcp example-voting-app-worker-1 example-voting-app-worker \"dotnet Worker.dll\" worker About an hour ago Up About an hour ➜ example-voting-app git:(main) ",
                content: "List containers link docker compose ps NAME IMAGE COMMAND SERVICE CREATED STATUS PORTS example-voting-app-db-1 postgres:15-alpine \"docker-entrypoint.s…\" db 4 hours ago Up About an hour (healthy) 5432/tcp example-voting-app-redis-1 redis:alpine \"docker-entrypoint.s…\" redis 4 hours ago Up About an hour (healthy) 6379/tcp example-voting-app-result-1 example-voting-app-result \"nodemon server.js\" result About an hour ago Up About an hour 0.0.0.0:5858-\u003e5858/tcp, 0.0.0.0:5001-\u003e80/tcp example-voting-app-worker-1 example-voting-app-worker \"dotnet Worker.dll\" worker About an hour ago Up About an hour ➜ example-voting-app git:(main) "
            }
        );
    index.add(
            {
                id:  93 ,
                href: "\/docs\/docker\/compose-pull-command\/",
                title: "Compose Pull Command",
                description: "Pull service images link example-voting-app git:(main) docker compose pull [+] Running 5/5 ⠿ vote Skipped - No image to be pulled 0.0s ⠿ result Skipped - No image to be pulled 0.0s ⠿ worker Skipped - No image to be pulled 0.0s ⠿ redis Pulled 2.8s ⠿ db Pulled 2.8s ",
                content: "Pull service images link example-voting-app git:(main) docker compose pull [+] Running 5/5 ⠿ vote Skipped - No image to be pulled 0.0s ⠿ result Skipped - No image to be pulled 0.0s ⠿ worker Skipped - No image to be pulled 0.0s ⠿ redis Pulled 2.8s ⠿ db Pulled 2.8s "
            }
        );
    index.add(
            {
                id:  94 ,
                href: "\/docs\/docker\/compose-push-command\/",
                title: "Compose Push Command",
                description: "Push service images link services: service1: build: . image: localhost:5000/yourimage ## goes to local registry service2: build: . image: your-dockerid/yourimage ## goes to your repository on Docker Hub ",
                content: "Push service images link services: service1: build: . image: localhost:5000/yourimage ## goes to local registry service2: build: . image: your-dockerid/yourimage ## goes to your repository on Docker Hub "
            }
        );
    index.add(
            {
                id:  95 ,
                href: "\/docs\/docker\/compose-restart-command\/",
                title: "Compose Restart Command",
                description: "restart service images link docker compose restart [+] Running 5/5 ⠿ Container example-voting-app-db-1 Started 0.7s ⠿ Container example-voting-app-redis-1 Started 0.7s ⠿ Container example-voting-app-result-1 Started 0.6s ⠿ Container example-voting-app-vote-1 Started 0.5s ⠿ Container example-voting-app-worker-1 Started 0.4s ➜ example-voting-app git:(main) ",
                content: "restart service images link docker compose restart [+] Running 5/5 ⠿ Container example-voting-app-db-1 Started 0.7s ⠿ Container example-voting-app-redis-1 Started 0.7s ⠿ Container example-voting-app-result-1 Started 0.6s ⠿ Container example-voting-app-vote-1 Started 0.5s ⠿ Container example-voting-app-worker-1 Started 0.4s ➜ example-voting-app git:(main) "
            }
        );
    index.add(
            {
                id:  96 ,
                href: "\/docs\/docker\/compose-rm-command\/",
                title: "Compose Rm Command ",
                description: "Removes stopped service containers link ➜ example-voting-app git:(main) docker compose stop [+] Running 5/5 ⠿ Container example-voting-app-vote-1 Stopped 0.3s ⠿ Container example-voting-app-result-1 Stopped 0.3s ⠿ Container example-voting-app-worker-1 Stopped 0.1s ⠿ Container example-voting-app-db-1 Stopped 0.1s ⠿ Container example-voting-app-redis-1 Stopped 0.2s ➜ example-voting-app git:(main) docker compose rm ? Going to remove example-voting-app-vote-1, example-voting-app-result-1, example-voting-app-worker-1, example-voting-app-db-1, example-voting-app-redis-1 Yes [+] Running 5/0 ⠿ Container example-voting-app-redis-1 Removed 0.0s ⠿ Container example-voting-app-vote-1 Removed 0.0s ⠿ Container example-voting-app-result-1 Removed 0.0s ⠿ Container example-voting-app-db-1 Removed 0.0s ⠿ Container example-voting-app-worker-1 Removed 0.0s ➜ example-voting-app git:(main) ",
                content: "Removes stopped service containers link ➜ example-voting-app git:(main) docker compose stop [+] Running 5/5 ⠿ Container example-voting-app-vote-1 Stopped 0.3s ⠿ Container example-voting-app-result-1 Stopped 0.3s ⠿ Container example-voting-app-worker-1 Stopped 0.1s ⠿ Container example-voting-app-db-1 Stopped 0.1s ⠿ Container example-voting-app-redis-1 Stopped 0.2s ➜ example-voting-app git:(main) docker compose rm ? Going to remove example-voting-app-vote-1, example-voting-app-result-1, example-voting-app-worker-1, example-voting-app-db-1, example-voting-app-redis-1 Yes [+] Running 5/0 ⠿ Container example-voting-app-redis-1 Removed 0.0s ⠿ Container example-voting-app-vote-1 Removed 0.0s ⠿ Container example-voting-app-result-1 Removed 0.0s ⠿ Container example-voting-app-db-1 Removed 0.0s ⠿ Container example-voting-app-worker-1 Removed 0.0s ➜ example-voting-app git:(main) "
            }
        );
    index.add(
            {
                id:  97 ,
                href: "\/docs\/docker\/compose-run-command\/",
                title: "Compose Run Command",
                description: " ➜ example-voting-app git:(main) docker compose run db PostgreSQL Database directory appears to contain a database; Skipping initialization 2023-03-04 19:16:58.496 UTC [1] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit 2023-03-04 19:16:58.496 UTC [1] LOG: listening on IPv4 address \"0.0.0.0\", port 5432 2023-03-04 19:16:58.496 UTC [1] LOG: listening on IPv6 address \"::\", port 5432 2023-03-04 19:16:58.498 UTC [1] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" 2023-03-04 19:16:58.503 UTC [24] LOG: database system was shut down at 2023-03-04 19:15:07 UTC 2023-03-04 19:16:58.510 UTC [1] LOG: database system is ready to accept connections ^C2023-03-04 19:17:11.082 UTC [1] LOG: received fast shutdown request 2023-03-04 19:17:11.088 UTC [1] LOG: aborting any active transactions 2023-03-04 19:17:11.108 UTC [1] LOG: background worker \"logical replication launcher\" (PID 27) exited with exit code 1 2023-03-04 19:17:11.108 UTC [22] LOG: shutting down 2023-03-04 19:17:11.110 UTC [22] LOG: checkpoint starting: shutdown immediate 2023-03-04 19:17:11.117 UTC [22] LOG: checkpoint complete: wrote 3 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.003 s, sync=0.001 s, total=0.009 s; sync files=2, longest=0.001 s, average=0.001 s; distance=0 kB, estimate=0 kB 2023-03-04 19:17:11.127 UTC [1] LOG: database system is shut down ➜ example-voting-app git:(main) docker compose run worker [+] Running 2/2 ⠿ Container example-voting-app-db-1 Created 0.0s ⠿ Container example-voting-app-redis-1 Created 0.0s [+] Running 2/2 ⠿ Container example-voting-app-db-1 Started 0.5s ⠿ Container example-voting-app-redis-1 Started 0.5s Connected to db Found redis at 172.20.0.3 Connecting to redis ^C% ➜ example-voting-app git:(main) ",
                content: " ➜ example-voting-app git:(main) docker compose run db PostgreSQL Database directory appears to contain a database; Skipping initialization 2023-03-04 19:16:58.496 UTC [1] LOG: starting PostgreSQL 15.2 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 12.2.1_git20220924-r4) 12.2.1 20220924, 64-bit 2023-03-04 19:16:58.496 UTC [1] LOG: listening on IPv4 address \"0.0.0.0\", port 5432 2023-03-04 19:16:58.496 UTC [1] LOG: listening on IPv6 address \"::\", port 5432 2023-03-04 19:16:58.498 UTC [1] LOG: listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\" 2023-03-04 19:16:58.503 UTC [24] LOG: database system was shut down at 2023-03-04 19:15:07 UTC 2023-03-04 19:16:58.510 UTC [1] LOG: database system is ready to accept connections ^C2023-03-04 19:17:11.082 UTC [1] LOG: received fast shutdown request 2023-03-04 19:17:11.088 UTC [1] LOG: aborting any active transactions 2023-03-04 19:17:11.108 UTC [1] LOG: background worker \"logical replication launcher\" (PID 27) exited with exit code 1 2023-03-04 19:17:11.108 UTC [22] LOG: shutting down 2023-03-04 19:17:11.110 UTC [22] LOG: checkpoint starting: shutdown immediate 2023-03-04 19:17:11.117 UTC [22] LOG: checkpoint complete: wrote 3 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.003 s, sync=0.001 s, total=0.009 s; sync files=2, longest=0.001 s, average=0.001 s; distance=0 kB, estimate=0 kB 2023-03-04 19:17:11.127 UTC [1] LOG: database system is shut down ➜ example-voting-app git:(main) docker compose run worker [+] Running 2/2 ⠿ Container example-voting-app-db-1 Created 0.0s ⠿ Container example-voting-app-redis-1 Created 0.0s [+] Running 2/2 ⠿ Container example-voting-app-db-1 Started 0.5s ⠿ Container example-voting-app-redis-1 Started 0.5s Connected to db Found redis at 172.20.0.3 Connecting to redis ^C% ➜ example-voting-app git:(main) "
            }
        );
    index.add(
            {
                id:  98 ,
                href: "\/docs\/docker\/local-network-setup\/",
                title: "Local Network Setup",
                description: "Docker network create command syntax link docker network create --help view current networks link docker network ls clear Create a new overlay network, with all default options link docker network create -d overlay defaults-over Create a new overlay network with specific IP settings link docker network create -d overlay \\ --subnet=172.30.0.0/24 \\ --ip-range=172.30.0.0/28 \\ --gateway=172.30.0.254 \\ specifics-over view current networks again link docker network ls Initial validation link docker network inspect specifics-over --format '{{json .IPAM.Config}}' | jq clear\n",
                content: "Docker network create command syntax link docker network create --help view current networks link docker network ls clear Create a new overlay network, with all default options link docker network create -d overlay defaults-over Create a new overlay network with specific IP settings link docker network create -d overlay \\ --subnet=172.30.0.0/24 \\ --ip-range=172.30.0.0/28 \\ --gateway=172.30.0.254 \\ specifics-over view current networks again link docker network ls Initial validation link docker network inspect specifics-over --format '{{json .IPAM.Config}}' | jq clear\nCreate service tester1 link docker service create --detach --replicas 3 --name tester1 \\ --network specifics-over alpine tail -f /dev/null Create service tester2 link docker service create --detach --replicas 3 --name tester2 \\ --network specifics-over alpine tail -f /dev/null get the container names link docker container ls From a container in the tester1 service ping the tester2 service by name link docker container exec -it tester1.3. ping -c 3 tester2 "
            }
        );
    index.add(
            {
                id:  99 ,
                href: "\/docs\/docker\/remote-network-setup\/",
                title: "Remote Network Setup",
                description: "Docker network managment command link docker network --help clear Starting on ubuntu-node01: Install and setup the weave driver link sudo curl -L git.io/weave -o /usr/local/bin/weave sudo chmod a+x /usr/local/bin/weave export CHECKPOINT_DISABLE=1 weave launch eval $(weave env) clear\nNow on ubuntu-node02: Install and setup the weave driver link sudo curl -L git.io/weave -o /usr/local/bin/weave sudo chmod a+x /usr/local/bin/weave export CHECKPOINT_DISABLE=1 weave launch eval $(weave env) clear\n",
                content: "Docker network managment command link docker network --help clear Starting on ubuntu-node01: Install and setup the weave driver link sudo curl -L git.io/weave -o /usr/local/bin/weave sudo chmod a+x /usr/local/bin/weave export CHECKPOINT_DISABLE=1 weave launch eval $(weave env) clear\nNow on ubuntu-node02: Install and setup the weave driver link sudo curl -L git.io/weave -o /usr/local/bin/weave sudo chmod a+x /usr/local/bin/weave export CHECKPOINT_DISABLE=1 weave launch eval $(weave env) clear\nNow, back on ubuntu-node01:Bring node02 in as a peer on node01’s weave network link weave connect ubuntu-node02 Starting with ubuntu-node01:Run a container detached on node01 link docker container run -d --name app01 alpine tail -f /dev/null Now, launch a container on ubuntu-node02: Run a container detached on node02 link docker container run -d --name app02 alpine tail -f /dev/null Since we are on node02, we will check there first… linkFrom inside the app02 container running on node02, linklet’s ping the app01 container running on node01 link docker container exec -it app02 ping -c 4 app01 Similarly, from inside the app01 container running on node01, linklet’s ping the app02 container running on node02 link docker container exec -it app01 ping -c 4 app02 clear\n"
            }
        );
    index.add(
            {
                id:  100 ,
                href: "\/docs\/docker\/newtorking-in-docker-compose\/",
                title: "Newtorking in Docker Compose",
                description: "creating and using networks in docker-compose.yml link version: \"3.7\" services: app1: image: httpd:latest container_name: app1 ports: - 8080:80 networks: - app1_net networks: app1_net: run docker compose up link docker-compose up Open browser link http://localhost:8080 Observe the output\nOn a second terminal link docker ps Observe the networking part! link docker inspect app1 Stops the docker-compose link docker-compose rm ",
                content: "creating and using networks in docker-compose.yml link version: \"3.7\" services: app1: image: httpd:latest container_name: app1 ports: - 8080:80 networks: - app1_net networks: app1_net: run docker compose up link docker-compose up Open browser link http://localhost:8080 Observe the output\nOn a second terminal link docker ps Observe the networking part! link docker inspect app1 Stops the docker-compose link docker-compose rm "
            }
        );
    index.add(
            {
                id:  101 ,
                href: "\/docs\/docker\/compose-networking-with-nginx\/",
                title: "Compose Networking with Nginx",
                description: "create docker-compose.yml with following content :\nversion: \"3.7\" services: web: image: nginx:alpine volumes: - ./nginx.conf:/etc/nginx/nginx.conf ports: - 8080:80 networks: - app1_net - app2_net app1: image: httpd:latest networks: - app1_net app2: image: httpd:latest networks: - app2_net networks: app1_net: app2_net: the following nginx.conf configuration file in the same directory: link events {} http { server { listen 80; listen [::]:80; server_name example.com; location / { proxy_pass http://app1:80/; } location /app2 { proxy_pass http://app2:80/; } } } run docker compose link docker compose up Go to http://localhost:8080 and observer the command line link•\tIt will show you the nignx-container web_1 container (reverse_proxy) was requested •\tAnd forwarded the request to “app1” container •\tReload a few times to make this more obvious ",
                content: "create docker-compose.yml with following content :\nversion: \"3.7\" services: web: image: nginx:alpine volumes: - ./nginx.conf:/etc/nginx/nginx.conf ports: - 8080:80 networks: - app1_net - app2_net app1: image: httpd:latest networks: - app1_net app2: image: httpd:latest networks: - app2_net networks: app1_net: app2_net: the following nginx.conf configuration file in the same directory: link events {} http { server { listen 80; listen [::]:80; server_name example.com; location / { proxy_pass http://app1:80/; } location /app2 { proxy_pass http://app2:80/; } } } run docker compose link docker compose up Go to http://localhost:8080 and observer the command line link•\tIt will show you the nignx-container web_1 container (reverse_proxy) was requested •\tAnd forwarded the request to “app1” container •\tReload a few times to make this more obvious Go to http://localhost:8080/app2 and observe the command line link•\tIt will show you again that nginx-container web_1 container (reverse_proxy) was requested •\tAnd now forwards to “app2” container •\tReload a few times to make this more obvious "
            }
        );
    index.add(
            {
                id:  102 ,
                href: "\/docs\/docker\/docker-wordpress-example\/",
                title: "Docker Wordpress Example",
                description: "create wordpress docker compose link wordpress: image: wordpress links: - mariadb:mysql environment: - WORDPRESS_DB_PASSWORD=password - WORDPRESS_DB_USER=root ports: - \"public_ip:80:80\" volumes: - ./html:/var/www/html mariadb: image: mariadb environment: - MYSQL_ROOT_PASSWORD=password - MYSQL_DATABASE=wordpress volumes: - ./database:/var/lib/mysql run docker compose link docker compose up ",
                content: "create wordpress docker compose link wordpress: image: wordpress links: - mariadb:mysql environment: - WORDPRESS_DB_PASSWORD=password - WORDPRESS_DB_USER=root ports: - \"public_ip:80:80\" volumes: - ./html:/var/www/html mariadb: image: mariadb environment: - MYSQL_ROOT_PASSWORD=password - MYSQL_DATABASE=wordpress volumes: - ./database:/var/lib/mysql run docker compose link docker compose up "
            }
        );
    index.add(
            {
                id:  103 ,
                href: "\/docs\/docker\/multi-arch-container\/",
                title: "Multi-Arch Container",
                description: "build multi arch container images using buildx link",
                content: "build multi arch container images using buildx link"
            }
        );
    index.add(
            {
                id:  104 ,
                href: "\/docs\/docker\/compose-watch-command\/",
                title: "Compose Watch Command",
                description: "Docker Composer sync build watch link",
                content: "Docker Composer sync build watch link"
            }
        );
    index.add(
            {
                id:  105 ,
                href: "\/docs\/overview\/",
                title: "Overview",
                description: "Start Your Container Technology Journey here",
                content: ""
            }
        );
    index.add(
            {
                id:  106 ,
                href: "\/docs\/quickstart\/",
                title: "Quickstart",
                description: "A guide to getting up and running with Lotus Docs.",
                content: ""
            }
        );
    index.add(
            {
                id:  107 ,
                href: "\/docs\/containerd\/",
                title: "Learn ContainerD",
                description: "Guides to getting start ContainerD",
                content: ""
            }
        );
    index.add(
            {
                id:  108 ,
                href: "\/docs\/docker\/",
                title: "Learn Docker",
                description: "Guides to getting start Docker.",
                content: ""
            }
        );
    index.add(
            {
                id:  109 ,
                href: "\/docs\/containersecurity\/",
                title: "Container Security ",
                description: "Quickstart Docker ",
                content: "Table of Content link Title Link 1.What is container? lab 2.Container vs. Virtualization lab 3.Container Advantage and Disadvantages lab 4.Namespaces lab 5.Cgroups 6.Capabilities lab 7.Docker architecture and its components lab 8.Interacting with container ecosystem lab 9.Attack surface of the container ecosystem lab 10.Environment variables lab 11.Docker volumes lab 12.Docker Networking lab 13.Auditing Docker Security lab 14.Container Image Security lab 15.DockerFile Security Best Practices lab 16.SecretScanner - Finding secrets and passwords in container images and file systems lab 17.YaraHunter - Malware Scanner for Container Images lab 18.Security Linting of Dockerfiles lab 19.Static Analysis of container images/library for container lab 20.Docker host security configurations lab 21.Docker Daemon security configurations lab 22.Content Trust and Integrity checks lab 23.Docker Registry security configurations lab 24. DockerScan lab 25.Dive lab 26.Scanning Docker for vulnerabilities with ThraetMappeper lab 27.Docker events lab 28.Sock Shop Docker Compose \u0026 Weave lab What next\nKubernetes Workshop "
            }
        );
    index.add(
            {
                id:  110 ,
                href: "\/docs\/",
                title: "KubeDaily Labs",
                description: "Demestifying Container and Orchestration Ecosystem",
                content: ""
            }
        );
    index.add(
            {
                id:  111 ,
                href: "\/docs\/kubernetes\/",
                title: "Learn kubenetes",
                description: "Guides to getting start k8s.",
                content: ""
            }
        );
    index.add(
            {
                id:  112 ,
                href: "\/docs\/helm\/",
                title: "Learn Helm",
                description: "Guides to getting start Helm.",
                content: ""
            }
        );
    index.add(
            {
                id:  113 ,
                href: "\/docs\/kubernetes\/ingress-controller\/",
                title: "Ingress Controller",
                description: " kubernetes Service ",
                content: "enable ingress addon link k8s101 git:(main) ✗ minikube addons enable ingress 💡 ingress is an addon maintained by Kubernetes. For any concerns contact minikube on GitHub. You can view the list of minikube maintainers at: https://github.com/kubernetes/minikube/blob/master/OWNERS 💡 After the addon is enabled, please run \"minikube tunnel\" and your ingress resources would be available at \"127.0.0.1\" ▪ Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1 ▪ Using image k8s.gcr.io/ingress-nginx/controller:v1.2.1 ▪ Using image k8s.gcr.io/ingress-nginx/kube-webhook-certgen:v1.1.1 🔎 Verifying ingress addon... 🌟 The 'ingress' addon is enabled ➜ k8s101 git:(main) ✗ verify ngnix controller running link ➜ k8s101 git:(main) ✗ kubectl get pods -n ingress-nginx NAME READY STATUS RESTARTS AGE ingress-nginx-admission-create-fxzbs 0/1 Completed 0 4m7s ingress-nginx-admission-patch-jw98n 0/1 Completed 1 4m7s ingress-nginx-controller-5959f988fd-tv8x8 1/1 Running 0 4m7s verify all pods running link ➜ k8s101 git:(main) ✗ kubectl get pods -n kube-system NAME READY STATUS RESTARTS AGE coredns-565d847f94-bl9qz 1/1 Running 0 12h etcd-minikube 1/1 Running 0 12h kube-apiserver-minikube 1/1 Running 0 12h kube-controller-manager-minikube 1/1 Running 0 12h kube-proxy-qj7s7 1/1 Running 0 12h kube-scheduler-minikube 1/1 Running 0 12h storage-provisioner 1/1 Running 2 (12h ago) 12h Deploy Hello World App link ➜ k8s101 git:(main) ✗ kubectl create deployment web --image=gcr.io/google-samples/hello-app:1.0 deployment.apps/web created ➜ k8s101 git:(main) ✗ kubectl expose deployment web --type=NodePort --port=8080 service/web exposed ➜ k8s101 git:(main) ✗ kubectl get service web NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE web NodePort 10.100.132.142 8080:30646/TCP 41s ➜ k8s101 git:(main) ✗ minikube service web --url http://127.0.0.1:51575 ❗ Because you are using a Docker driver on darwin, the terminal needs to be open to run it. output\nHello, world! Version: 1.0.0 Hostname: web-84fb9498c7-zx2k4 Ingress that sends traffic to your Service via hello-world.info. link apiVersion: networking.k8s.io/v1 kind: Ingress metadata: name: example-ingress annotations: nginx.ingress.kubernetes.io/rewrite-target: /$1 spec: rules: - host: hello-world.info http: paths: - path: / pathType: Prefix backend: service: name: web port: number: 8080 ➜ k8s101 git:(main) ✗ kubectl apply -f example-ingress.yaml ingress.networking.k8s.io/example-ingress created verify IP addree link ➜ k8s101 git:(main) ✗ kubectl get ingress NAME CLASS HOSTS ADDRESS PORTS AGE example-ingress nginx hello-world.info 192.168.49.2 80 18m ➜ k8s101 git:(main) ✗ ➜ k8s101 git:(main) ✗ echo \"127.0.0.1 hello-world.info\" | sudo tee -a /etc/hosts 127.0.0.1 hello-world.info ➜ k8s101 git:(main) ✗ kubectl apply -f example-ingress.yaml ingress.networking.k8s.io/example-ingress unchanged add path link - path: /v2 pathType: Prefix backend: service: name: web2 port: number: 8080 ➜ k8s101 git:(main) ✗ kubectl apply -f example-ingress.yaml ingress.networking.k8s.io/example-ingress configured ➜ k8s101 git:(main) ✗ minikube tunnel ✅ Tunnel successfully started 📌 NOTE: Please do not close this terminal as this process must stay alive for the tunnel to be accessible ... ❗ The service/ingress example-ingress requires privileged ports to be exposed: [80 443] 🔑 sudo permission will be asked for it. 🏃 Starting tunnel for service example-ingress. check output link http://hello-world.info/ http://hello-world.info/v2 "
            }
        );
    index.add(
            {
                id:  114 ,
                href: "\/docs\/kubernetes\/pre-requisit-for-this-lab\/",
                title: "Pre-requisit for this lab",
                description: "  Multiple Way To creat Kubernetes cluster  ",
                content: "Install Minikube link https://minikube.sigs.k8s.io/docs/start/ // i'm using mac so my installation step will be diffeent from you folks curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-darwin-amd64 sudo install minikube-darwin-amd64 /usr/local/bin/minikube ceate cluster using minikube link ➜ k8sworkshop git:(main) ✗ minikube start 😄 minikube v1.28.0 on Darwin 13.2.1 (arm64) ✨ Using the docker driver based on existing profile 👍 Starting control plane node minikube in cluster minikube 🚜 Pulling base image ... 🔄 Restarting existing docker container for \"minikube\" ... 🐳 Preparing Kubernetes v1.25.3 on Docker 20.10.20 ... 🔎 Verifying Kubernetes components... ▪ Using image gcr.io/k8s-minikube/storage-provisioner:v5 🌟 Enabled addons: storage-provisioner, default-storageclass 🏄 Done! kubectl is now configured to use \"minikube\" cluster and \"default\" namespace by default check it out cluster information link ➜ k8sworkshop git:(main) ✗ kubectl cluster-info Kubernetes control plane is running at https://127.0.0.1:51289 CoreDNS is running at https://127.0.0.1:51289/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'. ➜ k8sworkshop git:(main) ✗ some basic commands to understand minikube link minikube start Access the Kubernetes dashboard running within the minikube cluster: link minikube dashboard Once started, you can interact with your cluster using kubectl, just like any other Kubernetes cluster. For instance, starting a server: link kubectl create deployment hello-minikube --image=kicbase/echo-server:1.0 Exposing a service as a NodePort link kubectl expose deployment hello-minikube --type=NodePort --port=8080 minikube makes it easy to open this exposed endpoint in your browser: link minikube service hello-minikube Upgrade your cluster: link minikube start --kubernetes-version=latest minikube start -p cluster2 Stop your local cluster: link minikube stop Delete your local cluster: link minikube delete Delete all local clusters and profiles link minikube delete --all "
            }
        );
    search.addEventListener('input', show_results, true);

    function show_results(){
        const maxResult =  5 ;
        const minlength =  0 ;
        var searchQuery = sanitizeHTML(this.value);
        var results = index.search(searchQuery, {limit: maxResult, enrich: true});

        
        const flatResults = new Map(); 
        for (const result of results.flatMap(r => r.result)) {
        if (flatResults.has(result.doc.href)) continue;
        flatResults.set(result.doc.href, result.doc);
        }

        suggestions.innerHTML = "";
        suggestions.classList.remove('d-none');

        
        if (searchQuery.length < minlength) {
            const minCharMessage = document.createElement('div')
            minCharMessage.innerHTML = `Please type at least <strong>${minlength}</strong> characters`
            minCharMessage.classList.add("suggestion__no-results");
            suggestions.appendChild(minCharMessage);
            return;
        } else {
            
            if (flatResults.size === 0 && searchQuery) {
                const noResultsMessage = document.createElement('div')
                noResultsMessage.innerHTML = "No results for" + ` "<strong>${searchQuery}</strong>"`
                noResultsMessage.classList.add("suggestion__no-results");
                suggestions.appendChild(noResultsMessage);
                return;
            }
        }

        
        for(const [href, doc] of flatResults) {
            const entry = document.createElement('div');
            suggestions.appendChild(entry);

            const a = document.createElement('a');
            a.href = href;
            entry.appendChild(a);

            const title = document.createElement('span');
            title.textContent = doc.title;
            title.classList.add("suggestion__title");
            a.appendChild(title);

            const description = document.createElement('span');
            description.textContent = doc.description;
            description.classList.add("suggestion__description");
            a.appendChild(description);

            suggestions.appendChild(entry);

            if(suggestions.childElementCount == maxResult) break;
        }
    }
    }());
</script>
        
    </body>
</html>