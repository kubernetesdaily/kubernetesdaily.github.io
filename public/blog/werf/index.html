<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
</head>
<body>

    
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="/">KubeDaily Blog - Learn Kubernetes Tools in depth</a>
            
        </div>
    </nav>

    
    <div class="container mt-5">
        

<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


<div class="reading-progress-container">
    <div class="reading-progress-bar" id="readingProgressBar"></div>
</div>

<article class="blog-post">
    
    <div class="post-header">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="mb-4">
                        
                        <div class="d-flex flex-wrap gap-2 mb-4">
                            
                            
                            
                        </div>

                        
                        <h1 class="post-title">Werf A solution for implementing efficient and consistent software</h1>
                        
                        
                        <div class="post-meta d-flex align-items-center flex-wrap">
                            <div class="d-flex align-items-center me-4 mb-2">
                                <i class="material-icons me-2">schedule</i>
                                <span>February 19, 2023</span>
                            </div>
                            <div class="d-flex align-items-center me-4 mb-2">
                                <i class="material-icons me-2">timer</i>
                                <span>8 min read</span>
                            </div>
                            
                            <div class="d-flex align-items-center mb-2">
                                <i class="material-icons me-2">person</i>
                                <span>Sangam Biradar</span>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    

    
    <div class="post-content">
        <div class="container">
            <div class="row justify-content-center">
                
                <div class="col-lg-2 d-none d-lg-block">
                    <div class="toc-container" id="tableOfContents">
                        <div class="toc-header">
                            <i class="material-icons">list</i>
                            <span>Table of Contents</span>
                        </div>
                        <div class="toc-body" id="tocList">
                            
                        </div>
                    </div>
                    
                    <div class="share-sidebar">
                        <div class="share-title">Share</div>
                        <div class="share-icons">
                            <a href="https://twitter.com/intent/tweet?url=%2f%2flocalhost%3a1313%2fblog%2fwerf%2f&text=Werf%20A%20solution%20for%20implementing%20efficient%20and%20consistent%20software" target="_blank" class="share-icon twitter" aria-label="Share on Twitter">
                                <i class="material-icons">share</i>
                            </a>
                            <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2f%2flocalhost%3a1313%2fblog%2fwerf%2f" target="_blank" class="share-icon linkedin" aria-label="Share on LinkedIn">
                                <i class="material-icons">link</i>
                            </a>
                            <a href="mailto:?subject=Werf%20A%20solution%20for%20implementing%20efficient%20and%20consistent%20software&body=%2f%2flocalhost%3a1313%2fblog%2fwerf%2f" class="share-icon email" aria-label="Share via Email">
                                <i class="material-icons">email</i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div class="col-lg-8">
                    <div class="content-wrapper">
                        

<center>
 <a href="https://github.com/werf/werf"><img src="https://github-link-card.s3.ap-northeast-1.amazonaws.com/werf/werf.png" width="460px"></a> </center>

<h4 id="install-werf">Install Werf <a href="#install-werf" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h4>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="0f93844" class="language-bash ">
  <code>➜  ~  curl -sSLO https://werf.io/install.sh &amp;&amp; chmod &#43;x install.sh
➜  ~ ./install.sh --version 1.2 --channel stable
[INPUT REQUIRED] Current login shell is &#34;zsh&#34;. Press ENTER to setup werf for this shell or choose another one.
[b]ash/[z]sh/[a]bort? Default: zsh.
z
[INPUT REQUIRED] trdl is going to be installed in &#34;/Users/sangambiradar/bin/&#34;. Add this directory to your $PATH in &#34;/Users/sangambiradar/.zshrc&#34; and &#34;/Users/sangambiradar/.zprofile&#34;? (strongly recommended)
[y]es/[a]bort/[s]kip? Default: yes.
yes
[INFO] Installing trdl to &#34;/Users/sangambiradar/bin/&#34;.

[INFO] Adding werf repo to trdl.
[INPUT REQUIRED] Add automatic werf activation to &#34;/Users/sangambiradar/.zshrc&#34; and &#34;/Users/sangambiradar/.zprofile&#34;? (recommended for interactive usage, not recommended for CI)
[y]es/[a]bort/[s]kip? Default: yes.
[INFO] werf installation finished successfully!
[INFO] Open new shell session if you have enabled werf autoactivation or activate werf manually with:
$ source $(&#34;/Users/sangambiradar/bin/trdl&#34; use werf &#34;1.2&#34; &#34;stable&#34;)</code>
  </pre>
  </div>
<h3 id="werf-use-trdl">werf use trdl <a href="#werf-use-trdl" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h3><p>trdl is an Open Source solution providing a secure channel for delivering updates from the Git repository to the end user.</p>
<p>





  



  
</p>
<p>Problems that trdl solves for you</p>
<ul>
<li>
<p>Continuous delivery limitations</p>
<ul>
<li>Continuous delivery via the CI system works well for the SaaS model, that is, for software</li>
<li>hosted on cloud servers. At the same time, you would be hard-pressed to find a tool that is as   fast at delivering code to user devices.</li>
</ul>
</li>
<li>
<p>Challenges related to implementing a secure delivery</p>
<ul>
<li>What complicates things:
<ul>
<li>Software release and changes in release channels must only occur based on a collective decision of the team (quorum).</li>
<li>The system must protect against unauthorized access and data compromise.</li>
<li>The system must not be compromised by human mistakes, including regulation breaches.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Package manager limitations</p>
<ul>
<li>There are many package managers, but they all have common drawbacks:</li>
<li>Each platform requires its own manager.</li>
<li>The package creation process is complicated.</li>
<li>There is a lot of manual work involved: the user has to add the package source, find the package, and install/upgrade/uninstall it.</li>
</ul>
</li>
</ul>
<h3 id="verify-werf-cli-installed-or-not">verify werf cli installed or not <a href="#verify-werf-cli-installed-or-not" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h3>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="688db61" class="language- ">
  <code>➜  ~ werf
werf helps to implement and support Continuous Integration and Continuous       
Delivery.

Find more information at https://werf.io

Delivery commands:
  converge        Build and push images, then deploy application into Kubernetes
  dismiss         Delete werf release from Kubernetes
  bundle          Work with werf bundles: publish bundles into container        
                  registry and deploy bundles into Kubernetes cluster

Cleaning commands:
  cleanup         Cleanup project images in the container registry
  purge           Purge all project images in the container registry

Helper commands:
  ci-env          Generate werf environment variables for specified CI system
  build           Build images
  export          Export images
  run             Run container for project image
  kube-run        Run container for project image in Kubernetes
  compose         Work with docker-compose
  slugify         Print slugged string by specified format.
  render          Render Kubernetes templates

Low-level management commands:
  config          Work with werf.yaml
  managed-images  Work with managed images which will be preserved during       
                  cleanup procedure
  host            Work with werf cache and data of all projects on the host     
                  machine
  helm            Manage application deployment with helm
  cr              Work with container registry: authenticate, list and remove   
                  images, etc.
  kubectl         kubectl controls the Kubernetes cluster manager

Other commands:
  synchronization Run synchronization server
  completion      Generate bash completion scripts
  version         Print version

Use &#34;werf &lt;command&gt; --help&#34; for more information about a given command.

Version: v1.2.205
➜  ~ </code>
  </pre>
  </div>
<h3 id="setup-minikube-for-werf">Setup Minikube for Werf <a href="#setup-minikube-for-werf" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h3>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="fe0ddb3" class="language- ">
  <code> ~ minikube start --vm=true --insecure-registry registry.example.com:80
😄  minikube v1.30.0 on Darwin 13.3 (arm64)
✨  Automatically selected the qemu2 driver. Other choices: virtualbox, ssh
🌐  Automatically selected the builtin network
❗  You are using the QEMU driver without a dedicated network, which doesn&#39;t support `minikube service` &amp; `minikube tunnel` commands.
To try the dedicated network see: https://minikube.sigs.k8s.io/docs/drivers/qemu/#networking
💿  Downloading VM boot image ...
    &gt; minikube-v1.30.0-arm64.iso....:  65 B / 65 B [---------] 100.00% ? p/s 0s
    &gt; minikube-v1.30.0-arm64.iso:  330.67 MiB / 330.67 MiB  100.00% 16.06 MiB p
👍  Starting control plane node minikube in cluster minikube
💾  Downloading Kubernetes v1.26.3 preload ...
    &gt; preloaded-images-k8s-v18-v1...:  330.52 MiB / 330.52 MiB  100.00% 16.66 M
🔥  Creating qemu2 VM (CPUs=2, Memory=4000MB, Disk=20000MB) ...
🐳  Preparing Kubernetes v1.26.3 on Docker 20.10.23 ...
    ▪ Generating certificates and keys ...
    ▪ Booting up control plane ...
    ▪ Configuring RBAC rules ...
🔗  Configuring bridge CNI (Container Networking Interface) ...
    ▪ Using image gcr.io/k8s-minikube/storage-provisioner:v5
🔎  Verifying Kubernetes components...
🌟  Enabled addons: storage-provisioner, default-storageclass
🏄  Done! kubectl is now configured to use &#34;minikube&#34; cluster and &#34;default&#34; namespace by default</code>
  </pre>
  </div>
<p><code>--insecure-registry</code> allows usage of Container Registry without TLS.</p>
<h3 id="add-on-nginx-ingress-controller--container-registry-to-store-images-">add on NGINX Ingress Controller &amp; Container Registry to store images : <a href="#add-on-nginx-ingress-controller--container-registry-to-store-images-" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h3>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="0285b01" class="language- ">
  <code>➜  ~ minikube addons enable ingress
💡  ingress is an addon maintained by Kubernetes. For any concerns contact minikube on GitHub.
You can view the list of minikube maintainers at: https://github.com/kubernetes/minikube/blob/master/OWNERS
    ▪ Using image registry.k8s.io/ingress-nginx/kube-webhook-certgen:v20230312-helm-chart-4.5.2-28-g66a760794
    ▪ Using image registry.k8s.io/ingress-nginx/controller:v1.7.0
    ▪ Using image registry.k8s.io/ingress-nginx/kube-webhook-certgen:v20230312-helm-chart-4.5.2-28-g66a760794
🔎  Verifying ingress addon...
🌟  The &#39;ingress&#39; addon is enabled
➜  ~ minikube addons enable registry
💡  registry is an addon maintained by Google. For any concerns contact minikube on GitHub.
You can view the list of minikube maintainers at: https://github.com/kubernetes/minikube/blob/master/OWNERS
    ▪ Using image gcr.io/google_containers/kube-registry-proxy:0.4
    ▪ Using image docker.io/registry:2.8.1
🔎  Verifying registry addon...
🌟  The &#39;registry&#39; addon is enabled</code>
  </pre>
  </div>
<h3 id="create-ingress-to-access-container-registry">Create Ingress to access Container Registry: <a href="#create-ingress-to-access-container-registry" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h3>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="4ba5717" class="language- ">
  <code>ubectl apply -f - &lt;&lt; EOF
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: registry
  namespace: kube-system
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: &#34;0&#34;
spec:
  rules:
  - host: registry.example.com
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: registry
            port:
              number: 80
EOF</code>
  </pre>
  </div>
<h3 id="allow-usage-of-container-registry-without-tls-for-docker">Allow usage of Container Registry without TLS for docker: <a href="#allow-usage-of-container-registry-without-tls-for-docker" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h3>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="cfe0c0b" class="language- ">
  <code>{
  &#34;insecure-registries&#34; : [&#34;registry.example.com:80&#34;]
}</code>
  </pre>
  </div>
<p>add above configuration key






  



  
</p>



  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="e268c6a" class="language- ">
  <code>➜  ~   minikube start --vm=true --insecure-registry registry.example.com:80
😄  minikube v1.30.0 on Darwin 13.3 (arm64)
✨  Using the qemu2 driver based on existing profile
👍  Starting control plane node minikube in cluster minikube
🏃  Updating the running qemu2 &#34;minikube&#34; VM ...
🐳  Preparing Kubernetes v1.26.3 on Docker 20.10.23 ...
🔎  Verifying ingress addon...
    ▪ Using image docker.io/registry:2.8.1
🔎  Verifying Kubernetes components...
    ▪ Using image gcr.io/google_containers/kube-registry-proxy:0.4
🔎  Verifying registry addon...
🌟  Enabled addons: storage-provisioner, ingress, default-storageclass, registry
🏄  Done! kubectl is now configured to use &#34;minikube&#34; cluster and &#34;default&#34; namespace by default</code>
  </pre>
  </div>
<h3 id="update-hostfile-and-registry-name">update hostfile and registry name <a href="#update-hostfile-and-registry-name" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h3>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="9733852" class="language- ">
  <code> ~ echo &#34;$(minikube ip) vote.quickstart-application.example.com result.quickstart-application.example.com registry.example.com&#34; | sudo tee -a /etc/hosts
Password:
10.0.2.15 vote.quickstart-application.example.com result.quickstart-application.example.com registry.example.com
~ minikube ssh -- &#34;echo $(minikube ip) registry.example.com | sudo tee -a /etc/hosts&#34;
10.0.2.15 registry.example.com</code>
  </pre>
  </div>
<h3 id="lets-test-out-simple-voting-app">lets test out simple voting app <a href="#lets-test-out-simple-voting-app" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h3>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="f2659ba" class="language- ">
  <code>➜  ~ git clone https://github.com/werf/quickstart-application
cd quickstart-application
Cloning into &#39;quickstart-application&#39;...
remote: Enumerating objects: 1279, done.
remote: Total 1279 (delta 0), reused 0 (delta 0), pack-reused 1279
Receiving objects: 100% (1279/1279), 1.05 MiB | 5.09 MiB/s, done.
Resolving deltas: 100% (515/515), done.</code>
  </pre>
  </div>
<h4 id="we-have-voting--result-and-working-dockerfile-in-werfyaml">we have voting , result and working dockerfile in werf.yaml <a href="#we-have-voting--result-and-working-dockerfile-in-werfyaml" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h4>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="7db3c0e" class="language- ">
  <code>  quickstart-application git:(main) cat werf.yaml 
configVersion: 1
project: quickstart-application
---
image: vote
dockerfile: Dockerfile
context: vote
---
image: result
dockerfile: Dockerfile
context: result
---
image: worker
dockerfile: Dockerfile
context: worker</code>
  </pre>
  </div>
<h3 id="werf-converge">werf converge <a href="#werf-converge" class="anchor" aria-hidden="true"><i class="material-icons align-middle"></i></a></h3>


  
  
  

  
  
  
  

  

  <div class="prism-codeblock ">
  <pre id="ae4b633" class="language- ">
  <code>werf converge --repo registry.example.com:80/quickstart-application                                                                             
Version: v1.2.205
Using werf config render file: /private/var/folders/xy/3ssjv1j152x3_0ryt4yb982c0000gn/T/werf-config-render-1406655825

┌ Concurrent builds plan (no more than 5 images at the same time)
│ Set #0:
│ - ⛵ image vote
│ - ⛵ image result
│ - ⛵ image worker
└ Concurrent builds plan (no more than 5 images at the same time)

┌ ⛵ image vote
│ ┌ Copy suitable stage from secondary :local
│ │ Use cache image for vote/dockerfile
│ │      name: registry.example.com:80/quickstart-application:08900098c0a1a06586f8909a6b77927db90bbd21b5a089330ccd6e35-1680637511061
│ │        id: 2cb9949aa002
│ │   created: 2023-04-05 01:15:10 &#43;0530 IST
│ │      size: 51.2 MiB
│ └ Copy suitable stage from secondary :local (33.85 seconds)
└ ⛵ image vote (111.86 seconds)

┌ ⛵ image result
│ ┌ Copy suitable stage from secondary :local
│ │ Use cache image for result/dockerfile
│ │      name: registry.example.com:80/quickstart-application:78557a576585e3acba6868f3d28b70b601affb6364e377918b355f8b-1680637519961
│ │        id: c14efe2c5cae
│ │   created: 2023-04-05 01:15:19 &#43;0530 IST
│ │      size: 53.0 MiB
│ └ Copy suitable stage from secondary :local (43.51 seconds)
└ ⛵ image result (91.21 seconds)

┌ ⛵ image worker
│ ┌ Copy suitable stage from secondary :local
│ │ Use cache image for worker/dockerfile
│ │      name: registry.example.com:80/quickstart-application:f5eab243c67a973041e7f92ee9f5ff39d0d671536814a10bac957e82-1680637550923
│ │        id: 74a6e53feb05
│ │   created: 2023-04-05 01:15:50 &#43;0530 IST
│ │      size: 74.2 MiB
│ └ Copy suitable stage from secondary :local (33.76 seconds)
└ ⛵ image worker (96.56 seconds)

Release &#34;quickstart-application&#34; does not exist. Installing it now.

┌ Waiting for resources to become ready
│ ┌ Status progress
│ │ DEPLOYMENT                                                                                                                                  REPLICAS                  AVAILABLE                    UP-TO-DATE                                      
│ │ db                                                                                                                                          1/1                       0                            1                                               
│ │ │   POD                                                   READY               RESTARTS                   STATUS                             ---                                                                                                    
│ │ └── 6676664f7d-sz6ct                                      0/1                 0                          ContainerCreating                  Waiting for: available 0-&gt;1                                                                            
│ │ redis                                                                                                                                       1/1                       0                            1                                               
│ │ result                                                                                                                                      1/1                       0                            1                                               
│ │ vote                                                                                                                                        1/1                       0                            1                                           ↵
│ │     
│ │ worker                                                                                                                                      1/1                       0                            1                                               
│ │ │   POD                                                   READY               RESTARTS                   STATUS                             ---                                                                                                    
│ │ └── 77b4769cd4-qlhkm                                      0/1                 0                          ContainerCreating                  Waiting for: available 0-&gt;1                                                                            
│ │ RESOURCE                                                                                                NAMESPACE                         CONDITION: CURRENT (DESIRED)                                                                             
│ │ Service/vote                                                                                            quickstart-application            -                                                                                                        
│ │ Service/db                                                                                              quickstart-application            -                                                                                                        
│ │ Service/redis                                                                                           quickstart-application            -                                                                                                        
│ │ Service/result                                                                                          quickstart-application            -                                                                                                    ↵
│ │     
│ │ Ingress/quickstart-application                                                                          quickstart-application            -                                                                                                        
│ └ Status progress
│ 
  </code>
  </pre>
  </div>
<p>you will see results</p>
<ul>
<li>Go to the following URL to vote: vote.quickstart-application.example.com</li>
<li>Go to the following URL to check the result of voting: result.quickstart-application.example.com</li>
</ul>
<p>for more example check it out : 
<a href="https://werf.io/documentation/v1.2/usage/deploy/overview.html">https://werf.io/documentation/v1.2/usage/deploy/overview.html</a>
</p>
<p>Join 
<a href="https://discord.gg/rEvr7vq">CloudNativeFolks Community</a>
 or Reach out to me on twitter 
<a href="https://twitter.com/sangamtwts">@sangamtwts</a>
</p>

                    </div>

                    
                    

                    
                    
                    <div class="author-box mt-5 p-4">
                        <div class="d-flex flex-wrap">
                            <div class="author-avatar me-4 mb-3">
                                
                                <div class="avatar-placeholder">
                                    <i class="material-icons">person</i>
                                </div>
                            </div>
                            <div class="author-info flex-grow-1">
                                <h4 class="author-name mb-2">Sangam Biradar</h4>
                                
                                    <p class="author-bio mb-2">Content writer at Kubernetes Daily</p>
                                
                                
                            </div>
                        </div>
                    </div>
                    

                    
                    <div class="post-share mt-5 pt-4 border-top d-lg-none">
                        <div class="d-flex align-items-center flex-wrap">
                            <h5 class="me-3 mb-0">Share:</h5>
                            <div class="share-buttons">
                                <a href="https://twitter.com/intent/tweet?url=%2f%2flocalhost%3a1313%2fblog%2fwerf%2f&text=Werf%20A%20solution%20for%20implementing%20efficient%20and%20consistent%20software" target="_blank" class="btn btn-sm btn-light me-2 mb-2" aria-label="Share on Twitter">
                                    <i class="material-icons">share</i> Twitter
                                </a>
                                <a href="https://www.linkedin.com/sharing/share-offsite/?url=%2f%2flocalhost%3a1313%2fblog%2fwerf%2f" target="_blank" class="btn btn-sm btn-light me-2 mb-2" aria-label="Share on LinkedIn">
                                    <i class="material-icons">link</i> LinkedIn
                                </a>
                                <a href="mailto:?subject=Werf%20A%20solution%20for%20implementing%20efficient%20and%20consistent%20software&body=%2f%2flocalhost%3a1313%2fblog%2fwerf%2f" class="btn btn-sm btn-light mb-2" aria-label="Share via Email">
                                    <i class="material-icons">email</i> Email
                                </a>
                            </div>
                        </div>
                    </div>

                    
                    
                    

                    
                    <div class="post-navigation mt-5 pt-4 border-top">
                        <div class="row">
                            
                            <div class="col-md-6 mb-3">
                                <a href="/blog/flannel/" class="post-nav-link prev-post">
                                    <span class="post-nav-label"><i class="material-icons">arrow_back</i> Previous</span>
                                    <span class="post-nav-title">Flannel is a network fabric for containers, designed for Kubernetes.</span>
                                </a>
                            </div>
                            
                            
                            
                            <div class="col-md-6 mb-3 text-md-end">
                                <a href="/blog/arkade-open-source-marketplace-for-kubernetes/" class="post-nav-link next-post">
                                    <span class="post-nav-label">Next <i class="material-icons">arrow_forward</i></span>
                                    <span class="post-nav-title">Arkade Open Source Marketplace for Kubernetes</span>
                                </a>
                            </div>
                            
                        </div>
                    </div>

                    
                    <div class="mt-5 text-center">
                        <a href="/blog/" class="btn btn-outline-primary">
                            <i class="material-icons align-middle me-1">arrow_back</i> Back to Blog
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</article>

<style>
:root {
    --primary-color: #2b6cb0;
    --primary-dark: #2c5282;
    --secondary-color: #4a5568;
    --accent-color: #ed8936;
    --light-bg: #f7fafc;
    --light-bg-dark: #edf2f7;
    --dark-text: #1a202c;
    --muted-text: #718096;
    --border-color: #e2e8f0;
    --box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

 
.reading-progress-container {
    position: fixed;
    z-index: 100;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: transparent;
}

.reading-progress-bar {
    height: 100%;
    width: 0;
    background: linear-gradient(to right, var(--accent-color), var(--primary-color));
    transition: width 0.2s ease;
}

 
.blog-post {
    margin-bottom: 4rem;
}

.post-header {
    padding: 4rem 0;
    background: linear-gradient(to right, var(--light-bg), var(--light-bg-dark));
    margin-bottom: 2rem;
    border-bottom: 1px solid var(--border-color);
}

.post-title {
    font-size: 2.75rem;
    font-weight: 800;
    line-height: 1.2;
    margin-bottom: 1.25rem;
    color: var(--dark-text);
    letter-spacing: -0.5px;
}

.post-meta {
    color: var(--muted-text);
    font-size: 1rem;
}

.post-meta .material-icons {
    font-size: 20px;
    vertical-align: text-bottom;
}

.featured-image {
    border-radius: 0.5rem;
    width: 100%;
    max-height: 500px;
    object-fit: cover;
    box-shadow: var(--box-shadow);
    transition: transform 0.3s ease;
}

.featured-image:hover {
    transform: scale(1.01);
}

 
.toc-container {
    position: sticky;
    top: 2rem;
    margin-bottom: 2rem;
    border-radius: 0.5rem;
    border: 1px solid var(--border-color);
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.toc-header {
    display: flex;
    align-items: center;
    padding: 1rem;
    background-color: var(--light-bg);
    font-weight: 600;
    color: var(--dark-text);
    border-bottom: 1px solid var(--border-color);
}

.toc-header .material-icons {
    font-size: 18px;
    margin-right: 0.5rem;
}

.toc-body {
    max-height: calc(100vh - 200px);
    overflow-y: auto;
    padding: 1rem;
}

.toc-body ul {
    list-style: none;
    padding-left: 0;
    margin-bottom: 0;
}

.toc-body li {
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
}

.toc-body a {
    color: var(--secondary-color);
    text-decoration: none;
    display: block;
    padding: 0.25rem 0;
    border-left: 2px solid transparent;
    padding-left: 0.5rem;
    transition: all 0.2s ease;
}

.toc-body a:hover {
    color: var(--primary-color);
    border-left-color: var(--primary-color);
}

.toc-body a.active {
    border-left: 2px solid var(--primary-color);
    color: var(--primary-color);
    font-weight: 500;
}

 
.share-sidebar {
    position: sticky;
    top: calc(2rem + 250px);
    margin-top: 2rem;
    text-align: center;
}

.share-title {
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--muted-text);
    margin-bottom: 1rem;
}

.share-icons {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.share-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
    color: white;
    transition: all 0.3s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.share-icon:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 10px rgba(0,0,0,0.15);
}

.share-icon.twitter {
    background: #1da1f2;
}

.share-icon.linkedin {
    background: #0077b5;
}

.share-icon.email {
    background: #718096;
}

 
.post-content {
    margin-bottom: 3rem;
}

.content-wrapper {
    font-size: 1.125rem;
    line-height: 1.8;
    color: #2d3748;
}

.content-wrapper h2 {
    font-size: 1.75rem;
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    font-weight: 700;
    color: var(--dark-text);
    scroll-margin-top: 70px;
}

.content-wrapper h3 {
    font-size: 1.5rem;
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-weight: 600;
    color: var(--dark-text);
    scroll-margin-top: 70px;
}

.content-wrapper p {
    margin-bottom: 1.5rem;
}

.content-wrapper pre {
    background-color: var(--light-bg-dark);
    padding: 1.25rem;
    border-radius: 0.5rem;
    margin-bottom: 1.5rem;
    overflow-x: auto;
}

.content-wrapper code {
    background-color: var(--light-bg-dark);
    padding: 0.2rem 0.4rem;
    border-radius: 0.25rem;
    font-size: 0.9em;
}

.content-wrapper blockquote {
    border-left: 4px solid var(--primary-color);
    padding: 1rem 1.5rem;
    background-color: var(--light-bg);
    border-radius: 0 0.5rem 0.5rem 0;
    font-style: italic;
    color: var(--dark-text);
    margin: 1.5rem 0;
}

.content-wrapper img {
    max-width: 100%;
    height: auto;
    border-radius: 0.375rem;
    margin: 1.5rem 0;
    box-shadow: var(--box-shadow);
}

.content-wrapper ul, .content-wrapper ol {
    margin-bottom: 1.5rem;
    padding-left: 1.25rem;
}

.content-wrapper li {
    margin-bottom: 0.5rem;
}

.content-wrapper table {
    width: 100%;
    margin-bottom: 1.5rem;
    border-collapse: collapse;
    border-radius: 0.5rem;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.content-wrapper th {
    background-color: var(--light-bg);
    padding: 0.75rem;
    border-bottom: 2px solid var(--light-bg-dark);
    text-align: left;
}

.content-wrapper td {
    padding: 0.75rem;
    border-bottom: 1px solid var(--light-bg-dark);
}

.content-wrapper tr:last-child td {
    border-bottom: none;
}

.content-wrapper tr:hover {
    background-color: var(--light-bg);
}

 
.tags-cloud {
    background-color: var(--light-bg);
    padding: 1.25rem;
    border-radius: 0.5rem;
}

.tags-title {
    font-weight: 600;
    color: var(--dark-text);
    margin-right: 0.5rem;
}

.tag-item {
    display: inline-block;
    background-color: white;
    color: var(--secondary-color);
    padding: 0.375rem 0.75rem;
    border-radius: 50px;
    font-size: 0.85rem;
    text-decoration: none;
    border: 1px solid var(--border-color);
    transition: all 0.2s ease;
}

.tag-item:hover {
    background-color: var(--primary-color);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

 
.author-box {
    background-color: var(--light-bg);
    border-radius: 0.5rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.author-avatar {
    width: 80px;
    height: 80px;
}

.avatar-placeholder {
    width: 100%;
    height: 100%;
    background-color: var(--primary-color);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
}

.avatar-placeholder .material-icons {
    font-size: 36px;
}

.author-name {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--dark-text);
}

.author-bio {
    color: var(--secondary-color);
}

.author-social-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background-color: var(--light-bg-dark);
    color: var(--secondary-color);
    transition: all 0.2s ease;
}

.author-social-link:hover {
    background-color: var(--primary-color);
    color: white;
    transform: translateY(-2px);
}

 
.section-title {
    position: relative;
    display: flex;
    align-items: center;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--dark-text);
}

.section-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: var(--light-bg);
    color: var(--primary-color);
    width: 32px;
    height: 32px;
    border-radius: 50%;
    margin-right: 10px;
}

.section-icon .material-icons {
    font-size: 18px;
}

.related-posts .card-title {
    font-size: 1rem;
    line-height: 1.4;
}

.category-icon {
    font-size: 36px;
    color: var(--secondary-color);
    opacity: 0.8;
}

 
.post-nav-link {
    display: block;
    padding: 1rem;
    border-radius: 0.5rem;
    background-color: var(--light-bg);
    text-decoration: none;
    transition: all 0.2s ease;
}

.post-nav-link:hover {
    background-color: var(--light-bg-dark);
    transform: translateY(-2px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.post-nav-label {
    display: flex;
    align-items: center;
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--primary-color);
    margin-bottom: 0.5rem;
}

.post-nav-label .material-icons {
    font-size: 18px;
}

.prev-post .post-nav-label {
    justify-content: flex-start;
}

.next-post .post-nav-label {
    justify-content: flex-end;
}

.post-nav-title {
    display: block;
    color: var(--dark-text);
    font-weight: 500;
    font-size: 1rem;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

 
.badge {
    padding: 0.5rem 1rem;
    font-weight: 500;
    letter-spacing: 0.3px;
    border-radius: 50px;
    font-size: 0.85rem;
    transition: all 0.2s ease;
}

.badge.bg-light {
    background-color: var(--light-bg) !important;
    color: var(--dark-text) !important;
    border: 1px solid rgba(0,0,0,0.05);
}

.badge.bg-secondary {
    background: linear-gradient(45deg, var(--secondary-color), #2d3748) !important;
    color: white;
}

.badge.bg-accent {
    background: linear-gradient(45deg, var(--accent-color), #dd6b20) !important;
    color: white;
}

 
.share-buttons .btn {
    display: inline-flex;
    align-items: center;
    transition: all 0.2s ease;
}

.share-buttons .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.share-buttons .material-icons {
    font-size: 18px;
    margin-right: 0.25rem;
}

 
.hover-shadow {
    transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1);
}

.hover-shadow:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
}

 
@media (max-width: 768px) {
    .post-header {
        padding: 2.5rem 0;
    }
    
    .post-title {
        font-size: 2rem;
    }
    
    .content-wrapper {
        font-size: 1rem;
    }
    
    .content-wrapper h2 {
        font-size: 1.5rem;
        margin-top: 2rem;
    }
    
    .content-wrapper h3 {
        font-size: 1.25rem;
        margin-top: 1.5rem;
    }
    
    .author-box {
        padding: 1.25rem !important;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    
    const progressBar = document.getElementById('readingProgressBar');
    const content = document.querySelector('.content-wrapper');
    const contentHeight = content.offsetHeight;
    const windowHeight = window.innerHeight;
    
    window.addEventListener('scroll', function() {
        const scrollTop = window.scrollY;
        const scrollOffset = content.offsetTop;
        
        
        if (scrollTop >= scrollOffset) {
            const scrollableHeight = contentHeight - windowHeight;
            const progress = ((scrollTop - scrollOffset) / scrollableHeight) * 100;
            progressBar.style.width = `${Math.min(100, Math.max(0, progress))}%`;
        } else {
            progressBar.style.width = '0%';
        }
    });
    
    
    const tocList = document.getElementById('tocList');
    const headings = content.querySelectorAll('h2, h3');
    
    if (headings.length > 0) {
        const ul = document.createElement('ul');
        
        headings.forEach((heading, index) => {
            const id = `heading-${index}`;
            heading.id = id;
            
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = `#${id}`;
            a.textContent = heading.textContent;
            
            if (heading.tagName === 'H3') {
                a.style.paddingLeft = '1.5rem';
                a.style.fontSize = '0.85rem';
            }
            
            a.addEventListener('click', function(e) {
                e.preventDefault();
                window.scrollTo({
                    top: heading.offsetTop - 60,
                    behavior: 'smooth'
                });
            });
            
            li.appendChild(a);
            ul.appendChild(li);
        });
        
        tocList.appendChild(ul);
        
        
        const tocLinks = tocList.querySelectorAll('a');
        
        window.addEventListener('scroll', function() {
            let currentId = '';
            headings.forEach((heading) => {
                if (window.scrollY >= heading.offsetTop - 100) {
                    currentId = heading.id;
                }
            });
            
            tocLinks.forEach((link) => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === currentId) {
                    link.classList.add('active');
                }
            });
        });
    } else {
        document.getElementById('tableOfContents').style.display = 'none';
    }
});
</script>

    </div>

</body>
</html>
